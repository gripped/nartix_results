--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -56,13 +56,16 @@
 source=(
   git+https://github.com/pop-os/cosmic-session.git#tag=epoch-${pkgver}
   cosmic-session-lto.patch
-)
+
+  no_journald-systemctl.patch)
 b2sums=('d58f5280ac23e4b7095be06e298c20116a4f45451450286d1b84e1a975efede355e15df92a9092fd17bba7fbfa799d23ec3d3cfbbfbbc9feae55559dd52b5da6'
-        '8b1a6ba7e159831e24d4e2abe1ee82c3b9a1f7c34af982a0ec20f5941c816922213cbc6bda3a7c2419ace2adf5cdfea131fab76045454b6ad800e18df0368307')
+        '8b1a6ba7e159831e24d4e2abe1ee82c3b9a1f7c34af982a0ec20f5941c816922213cbc6bda3a7c2419ace2adf5cdfea131fab76045454b6ad800e18df0368307'
+        '7c9db3b6d2456e5c303da6f72a8169207ce35ca9fcb9beffb548cd55b3fe0cb9019b719c85540159075444cdd7bffce117a19cad57f3b8d766ae27cc47615f79')
 
 prepare() {
   cd cosmic-session
   patch -Np1 -i ../cosmic-session-lto.patch
+  patch -Np1 -i ../no_journald-systemctl.patch
   cargo fetch --locked
   sed -i 's/libexec/lib/g' Justfile src/main.rs
 }
@@ -70,7 +73,7 @@
 build() {
   cd cosmic-session
   RUSTFLAGS+=" -C link-arg=-fuse-ld=lld"
-  cargo build --release --frozen
+  cargo build --release --frozen --features autostart
 }
 
 package() {


############# Stripped diff below #################



--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,11 +1,12 @@
 prepare() {
 cd cosmic-session
 patch -Np1 -i ../cosmic-session-lto.patch
+patch -Np1 -i ../no_journald-systemctl.patch
 cargo fetch --locked
 sed -i 's/libexec/lib/g' Justfile src/main.rs
 }
 build() {
 cd cosmic-session
 RUSTFLAGS+=" -C link-arg=-fuse-ld=lld"
-cargo build --release --frozen
+cargo build --release --frozen --features autostart
 }
