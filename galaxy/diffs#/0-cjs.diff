--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,6 +1,6 @@
 
 pkgname=cjs
-pkgver=128.1
+pkgver=128.0
 pkgrel=1
 pkgdesc="Javascript Bindings for Cinnamon"
 arch=('x86_64')
@@ -10,12 +10,21 @@
          'libffi' 'cairo' 'glib2' 'libgirepository' 'libx11' 'glibc')
 makedepends=('dbus' 'meson' 'gobject-introspection')
 checkdepends=('xorg-server-xvfb' 'gtk3')
-source=("${pkgname}-${pkgver}.tar.gz::${url}/archive/${pkgver}.tar.gz")
-sha512sums=('41aff6bfbd64cec59a64eb49c8913637dd0a482316e6b138f3e3ebef071d2668847f0988d2c6bedd7eec394f538c78683d4c9aacb81f95d198722a0e597611aa')
-b2sums=('4b6d0c4d5bb92e8862f0f3ad5703bac5181a68bfc0e3f4167da039d46e4f065d91b49b5345dc97a8b4f991575b6c15a703c36722f4bb47c59b3182263700b18f')
+source=("${pkgname}-${pkgver}.tar.gz::${url}/archive/${pkgver}.tar.gz"
+        fixes-from-master.patch)
+sha512sums=('e7ad28a085788f05bc40dd8a86799c068e54e25d7ed349a610a8935c9de3bc556b72e4b7b2c158f84a4a62a4b10789a3b812ca9e3ae2b3e1b1db471e91ddee97'
+            'ef85371a0e065c70978a0755d2202b4e0bb83997db1d6bf7caaedff797fdbb9d9372422388e9a6ac9ab07b6064224ec43ce8477fdb71ebd477e6b9c1f27dab19')
+b2sums=('d4b516a8d02fcb297f23f277d8ac12f7cf3c8bf0eec41d22e01ea4ffd3995aedc1b20a173d44c3fc6827e4cb3366c277347fcd11e6362a66d682c47919f84fec'
+        'f4c9abdd21f013f27d400b030e71b69213048cbb91705f92a81d99c326d857009ff4294b187bed687400809e8b123a676235cc1675ad7eb087ec7fe5af8b08cd')
+
+prepare() {
+    cd ${pkgname}-${pkgver}
+
+    patch -Np1 -i ../fixes-from-master.patch
+}
 
 build() {
-    arch-meson ${pkgname}-${pkgver} build -D installed_tests=false
+    artix-meson ${pkgname}-${pkgver} build -D installed_tests=false
     meson compile -C build
 }
 


############# Stripped diff below #################



--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,4 +1,8 @@
+prepare() {
+cd ${pkgname}-${pkgver}
+patch -Np1 -i ../fixes-from-master.patch
+}
 build() {
-arch-meson ${pkgname}-${pkgver} build -D installed_tests=false
+artix-meson ${pkgname}-${pkgver} build -D installed_tests=false
 meson compile -C build
 }
