--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,31 +1,43 @@
 
 pkgname=cinnamon-desktop
-pkgver=6.6.0
+pkgver=6.4.2
 pkgrel=1
 pkgdesc="Library with common API for various Cinnamon modules"
 arch=(x86_64)
 url="https://github.com/linuxmint/${pkgname}"
 license=(GPL LGPL)
 depends=(accountsservice gtk3 libxkbfile libpulse)
-makedepends=(git meson gobject-introspection intltool glib2-devel)
-source=(git+${url}#tag=$pkgver
+makedepends=(meson samurai glib2-devel gobject-introspection intltool glib2-devel)
+source=(${url}/archive/${pkgver}/${pkgname}-${pkgver}.tar.gz
         config.patch)
-sha256sums=('a41b080077b61a6ad16f4a787d77dc8c4b6b3d04209bf82117f4de55f64cca60'
+sha256sums=('f11d063c7ecb86b98803e9a22ade0655d979b334f6c90fdd1cc6f50bbe6e9992'
             'e70227c64eca6857fe9adc21c6aee851df40b3a54bf34a145e0dc4b9819a7b6a')
-b2sums=('ad5ed3fb5966625ab5a84176cf33f631ffbbee3b221f8e37432af82221aaac663a18a09c50ff8210d99f48848546f4348235ac9c89b55aa5c6e1d096f6eb5042'
+b2sums=('3cb8bf41dbef3f3a0e6aa40917a4f1a25930deb4a04ef52af154266b5568cb4956769657c3595714fbe57275fc687ab666d8da38c5f186314993d462e82ea682'
         '5ae28fca1f3fee35222569afdba3f6f2df00f2b27709d1135589f33a3b80546ca541c391f5ee02759467fcaffe380dc1cbc4117dffe3c10cdf7046fd8588e384')
 
 prepare() {
-  cd ${pkgname}
+  cd ${pkgname}-${pkgver}
   patch -p1 < ../config.patch
   mkdir -p build
 }
 
 build() {
-  arch-meson build $pkgname
-  meson compile -C build
+  cd ${pkgname}-${pkgver}/build
+  meson setup \
+  --prefix        /usr \
+  --libexecdir    lib \
+  --sbindir       bin \
+  --buildtype     plain \
+  --wrap-mode     nodownload \
+  -D              alsa=true \
+  -D              b_lto=true \
+  -D              b_pie=true \
+  -D              python.bytecompile=1 \
+  ..
+  samu
 }
 
 package() {
-  meson install -C build --destdir="$pkgdir"
+  cd ${pkgname}-${pkgver}/build
+  DESTDIR="${pkgdir}" samu install
 }


############# Stripped diff below #################

--- arch_depends
+++ artix_depends
@@ -1,5 +1,4 @@
 accountsservice
-git
 glib2-devel
 gobject-introspection
 gtk3
@@ -7,3 +6,4 @@
 libpulse
 libxkbfile
 meson
+samurai

--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,9 +1,20 @@
 prepare() {
-cd ${pkgname}
+cd ${pkgname}-${pkgver}
 patch -p1 < ../config.patch
 mkdir -p build
 }
 build() {
-arch-meson build $pkgname
-meson compile -C build
+cd ${pkgname}-${pkgver}/build
+meson setup \
+--prefix        /usr \
+--libexecdir    lib \
+--sbindir       bin \
+--buildtype     plain \
+--wrap-mode     nodownload \
+-D              alsa=true \
+-D              b_lto=true \
+-D              b_pie=true \
+-D              python.bytecompile=1 \
+..
+samu
 }
