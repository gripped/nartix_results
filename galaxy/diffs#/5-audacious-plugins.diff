--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,7 +1,7 @@
 
 pkgname=audacious-plugins
-pkgver=4.4
-pkgrel=1
+pkgver=4.3.1
+pkgrel=4
 pkgdesc="Plugins for Audacious"
 arch=('x86_64')
 url="https://audacious-media-player.org/"
@@ -10,21 +10,28 @@
          'jack' 'lame' 'libcdio-paranoia' 'libcue' 'libmms' 'libmodplug'
          'libmtp' 'libpulse' 'libnotify' 'libsamplerate' 'libsidplayfp'
          'libvorbis' 'lirc' 'mpg123' 'neon' 'wavpack' 'libbs2b' 'libopenmpt'
-         'libcddb' 'opusfile' 'libpipewire')
-makedepends=("audacious>=$pkgver" 'meson' 'glib2-devel')
+         'libcddb' 'qt5-x11extras' 'opusfile' 'libpipewire')
+makedepends=("audacious>=$pkgver" 'meson' 'python-packaging')
 source=(https://distfiles.audacious-media-player.org/$pkgname-$pkgver.tar.bz2
+        $pkgname-replace-xmlParseMemory.patch::https://github.com/audacious-media-player/audacious-plugins/commit/c9246b1c8b09.patch
+        $pkgname-fix-xml-parsing.patch::https://github.com/audacious-media-player/audacious-plugins/commit/5103ba0f504f.patch
         sidplay-rom-paths.patch)
-sha256sums=('3caf3a5fe5b6f2808f461f85132fbff4ae22a53ef9f3d26d9e6030f6c6d5baa2'
+sha256sums=('2dea26e3af583a2d684df240b27b2b2932bcd653df4db500a85f4fe5d5fdc8a6'
+            '2a412c5eafa9cd982cc281b21e3525dbbaecdedeba6181a2f144832c1c273675'
+            '51e0044dc099fbfd7faff15745ad09bc0e4b4da7be9689495669ff3fc6458ae7'
             'c32cd36f75dd18db082f9b9447f1c0982279703b9d648f5695295ff25c9b678d')
 
 prepare() {
   cd $pkgname-$pkgver
 
+  patch -Np1 -i ../$pkgname-replace-xmlParseMemory.patch
+  patch -Np1 -i ../$pkgname-fix-xml-parsing.patch
+
   patch -Np1 -i ../sidplay-rom-paths.patch
 }
 
 build() {
-  arch-meson $pkgname-$pkgver build \
+  artix-meson $pkgname-$pkgver build \
     -Dgtk=false
   meson compile -C build
 }


############# Stripped diff below #################

--- arch_depends
+++ artix_depends
@@ -6,7 +6,6 @@
 ffmpeg
 flac
 fluidsynth
-glib2-devel
 jack
 lame
 libbs2b
@@ -28,4 +27,6 @@
 mpg123
 neon
 opusfile
+python-packaging
+qt5-x11extras
 wavpack

--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,9 +1,11 @@
 prepare() {
 cd $pkgname-$pkgver
+patch -Np1 -i ../$pkgname-replace-xmlParseMemory.patch
+patch -Np1 -i ../$pkgname-fix-xml-parsing.patch
 patch -Np1 -i ../sidplay-rom-paths.patch
 }
 build() {
-arch-meson $pkgname-$pkgver build \
+artix-meson $pkgname-$pkgver build \
 -Dgtk=false
 meson compile -C build
 }
