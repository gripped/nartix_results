--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,81 +1,29 @@
 
 pkgname=qgis
-pkgver=3.44.2
-pkgrel=2
-pkgdesc='Geographic Information System (GIS) that supports vector, raster & database formats'
+pkgver=3.44.1
+pkgrel=3
+pkgdesc="Geographic Information System (GIS) that supports vector, raster & database formats"
 arch=(x86_64)
-url='https://qgis.org/'
-license=(GPL-2.0-or-later)
-depends=(
-  abseil-cpp
-  draco
-  exiv2
-  expat
-  gcc-libs
-  gdal
-  geos
-  glibc
-  gsl
-  hdf5
-  hicolor-icon-theme
-  libspatialindex
-  libspatialite
-  libxml2
-  libzip
-  netcdf
-  ocl-icd
-  pdal
-  postgresql-libs
-  proj
-  protobuf
-  python
-  python-gdal
-  python-jinja
-  python-numpy
-  python-owslib
-  python-packaging
-  python-psycopg2
-  python-pyqt5
-  python-qscintilla-qt5
-  python-yaml
-  qca-qt5
-  qscintilla-qt5
-  qt5-3d
-  qt5-base
-  qt5-declarative
-  qt5-imageformats
-  qt5-location
-  qt5-multimedia
-  qt5-serialport
-  qt5-svg
-  qtkeychain-qt5
-  qwt
-  sqlite
-  zlib
-  zstd
+url="https://qgis.org/"
+license=(GPL)
+depends=(ocl-icd proj geos gdal expat spatialindex qwt libzip sqlite3 protobuf
+         zlib exiv2 postgresql-libs libspatialite zstd pdal
+         qt5-base qt5-svg qt5-serialport qt5-location qt5-3d qt5-declarative qt5-multimedia qt5-webengine
+         qscintilla-qt5 qtkeychain-qt5 qca-qt5 gsl python-pyqt5 python-qscintilla-qt5
+         hdf5 netcdf libxml2 draco) # laz-perf
+makedepends=(cmake ninja opencl-clhpp fcgi qt5-tools sip pyqt-builder)
+optdepends=('fcgi: Map server'
+            'gpsbabel: GPS Tools plugin')
+source=(
+  https://qgis.org/downloads/$pkgname-$pkgver.tar.bz2
 )
-makedepends=(
-  cmake
-  fcgi
-  ninja
-  opencl-clhpp
-  pyqt-builder
-  qt5-tools
-  sip
-)
-optdepends=(
-  'fcgi: Map server'
-  'gpsbabel: GPS Tools plugin'
-)
-source=("https://qgis.org/downloads/$pkgname-$pkgver.tar.bz2")
-sha256sums=(21f789e1b61384cf03432af306bc977b42d8c77c55ad48562ea1e914a5495961)
+sha256sums=('b228ef7093da0e9f7a594b93a57ef737cdefd8c07b84ccff251da1f7d2bb6f4b')
 
 build() {
   cmake -S $pkgname-$pkgver -B build -G Ninja \
     -DCMAKE_INSTALL_PREFIX='/usr' \
     -DWITH_3D=TRUE \
     -DWITH_QUICK=TRUE \
-    -DQGIS_QML_SUBDIR=lib/qt/qml \
     -DWITH_SERVER=TRUE \
     -DWITH_CUSTOM_WIDGETS=TRUE \
     -DBINDINGS_GLOBAL_INSTALL=TRUE \
@@ -84,6 +32,7 @@
     -DWITH_QWTPOLAR=TRUE \
     -DQWTPOLAR_LIBRARY=/usr/lib/libqwt.so \
     -DQWTPOLAR_INCLUDE_DIR=/usr/include/qwt \
+    -DCMAKE_CXX_FLAGS="${CXXFLAGS} -DQWT_POLAR_VERSION=0x060200" \
     -DWITH_INTERNAL_QWTPOLAR=FALSE \
     -DWITH_PDAL=TRUE \
     -DHAS_KDE_QT5_PDF_TRANSFORM_FIX=TRUE \


############# Stripped diff below #################

--- arch_depends
+++ artix_depends
@@ -1,17 +1,12 @@
-abseil-cpp
 cmake
 draco
 exiv2
 expat
 fcgi
-gcc-libs
 gdal
 geos
-glibc
 gsl
 hdf5
-hicolor-icon-theme
-libspatialindex
 libspatialite
 libxml2
 libzip
@@ -24,30 +19,23 @@
 proj
 protobuf
 pyqt-builder
-python
-python-gdal
-python-jinja
-python-numpy
-python-owslib
-python-packaging
-python-psycopg2
 python-pyqt5
 python-qscintilla-qt5
-python-yaml
 qca-qt5
 qscintilla-qt5
 qt5-3d
 qt5-base
 qt5-declarative
-qt5-imageformats
 qt5-location
 qt5-multimedia
 qt5-serialport
 qt5-svg
 qt5-tools
+qt5-webengine
 qtkeychain-qt5
 qwt
 sip
-sqlite
+spatialindex
+sqlite3
 zlib
 zstd

--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -3,7 +3,6 @@
 -DCMAKE_INSTALL_PREFIX='/usr' \
 -DWITH_3D=TRUE \
 -DWITH_QUICK=TRUE \
--DQGIS_QML_SUBDIR=lib/qt/qml \
 -DWITH_SERVER=TRUE \
 -DWITH_CUSTOM_WIDGETS=TRUE \
 -DBINDINGS_GLOBAL_INSTALL=TRUE \
@@ -12,6 +11,7 @@
 -DWITH_QWTPOLAR=TRUE \
 -DQWTPOLAR_LIBRARY=/usr/lib/libqwt.so \
 -DQWTPOLAR_INCLUDE_DIR=/usr/include/qwt \
+-DCMAKE_CXX_FLAGS="${CXXFLAGS} -DQWT_POLAR_VERSION=0x060200" \
 -DWITH_INTERNAL_QWTPOLAR=FALSE \
 -DWITH_PDAL=TRUE \
 -DHAS_KDE_QT5_PDF_TRANSFORM_FIX=TRUE \
