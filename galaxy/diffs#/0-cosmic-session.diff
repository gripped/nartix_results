--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -55,13 +55,16 @@
 source=(
   git+https://github.com/pop-os/cosmic-session.git#tag=epoch-${pkgver}
   cosmic-session-lto.patch
-)
+
+  no_journald-systemctl.patch)
 b2sums=('669121c071642121ca36b99f1b86b97ebb59973f40d39d9e5b13b97d5a3e16e733a502baa3407b8b8b85fa2c3d889f29fa57f564955fc4d9196b938504c59eaa'
-        '8b1a6ba7e159831e24d4e2abe1ee82c3b9a1f7c34af982a0ec20f5941c816922213cbc6bda3a7c2419ace2adf5cdfea131fab76045454b6ad800e18df0368307')
+        '8b1a6ba7e159831e24d4e2abe1ee82c3b9a1f7c34af982a0ec20f5941c816922213cbc6bda3a7c2419ace2adf5cdfea131fab76045454b6ad800e18df0368307'
+        '7c9db3b6d2456e5c303da6f72a8169207ce35ca9fcb9beffb548cd55b3fe0cb9019b719c85540159075444cdd7bffce117a19cad57f3b8d766ae27cc47615f79')
 
 prepare() {
   cd cosmic-session
   patch -Np1 -i ../cosmic-session-lto.patch
+  patch -Np1 -i ../no_journald-systemctl.patch
   cargo fetch --locked
   sed -i 's/libexec/lib/g' Justfile src/main.rs
 }
@@ -69,7 +72,7 @@
 build() {
   cd cosmic-session
   RUSTFLAGS+=" -C link-arg=-fuse-ld=lld"
-  cargo build --release --frozen
+  cargo build --release --frozen --features autostart
 }
 
 package() {


############# Stripped diff below #################



--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,11 +1,12 @@
 prepare() {
 cd cosmic-session
 patch -Np1 -i ../cosmic-session-lto.patch
+patch -Np1 -i ../no_journald-systemctl.patch
 cargo fetch --locked
 sed -i 's/libexec/lib/g' Justfile src/main.rs
 }
 build() {
 cd cosmic-session
 RUSTFLAGS+=" -C link-arg=-fuse-ld=lld"
-cargo build --release --frozen
+cargo build --release --frozen --features autostart
 }
