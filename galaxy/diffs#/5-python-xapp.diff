--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,33 +1,26 @@
 
+_pkgname=python3-xapp
 pkgname=python-xapp
-_pkgname=python3-xapp
-pkgver=3.0.1
-pkgrel=1
-pkgdesc='Python Xapp Library'
-arch=(any)
-url='https://github.com/linuxmint/python3-xapp'
-license=(LGPL-2.0-or-later)
-depends=(
-  glib2
-  gtk3
-  pango
-  python
-  python-gobject
-  python-psutil
-  xapp
-)
-makedepends=(
-  git
-  meson
-)
-source=("git+https://github.com/linuxmint/python3-xapp.git#tag=$pkgver")
-b2sums=(4b0bb331ed462f752f1d7b8dd62afa391026a022c6a33c0244f0a3cdaa18a8c509811b8ffd8b2d17de0e327c59af867ba7bb447709447e8717183dde61890356)
+pkgver=3.0.0
+pkgrel=1.1
+pkgdesc="Python Xapp Library"
+arch=('any')
+url="https://github.com/linuxmint/${_pkgname}"
+license=('LGPL')
+depends=(python python-psutil)
+makedepends=(git meson)
+source=(git+${url}#tag=$pkgver)
+sha512sums=('f19fd5bd1a1e9da656dc712fa8e34fa58438b6d9a872e74a2128aa572ab2b89720af996d524fbe9c02cdd89d1d61eeffc9d0fd8f00849555e27769e6bce75454')
 
 build(){
-  arch-meson $_pkgname build
+  meson setup build ${_pkgname} \
+    --prefix=/usr
   meson compile -C build
 }
 
 package() {
-  meson install -C build --destdir="$pkgdir"
+  meson install -C build --destdir="${pkgdir}"
+
+  python -m compileall -d / "$pkgdir"/usr/lib
+  python -O -m compileall -d / "$pkgdir"/usr/lib
 }


############# Stripped diff below #################

--- arch_depends
+++ artix_depends
@@ -1,9 +1,4 @@
 git
-glib2
-gtk3
 meson
-pango
 python
-python-gobject
 python-psutil
-xapp

--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,4 +1,5 @@
 build(){
-arch-meson $_pkgname build
+meson setup build ${_pkgname} \
+--prefix=/usr
 meson compile -C build
 }
