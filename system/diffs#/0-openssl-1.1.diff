--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -3,7 +3,7 @@
 _pkgname=openssl
 _ver=1.1.1w
 pkgver=${_ver/[a-z]/.${_ver//[0-9.]/}}
-pkgrel=2
+pkgrel=1
 pkgdesc='The Open Source toolkit for Secure Sockets Layer and Transport Layer Security'
 arch=('x86_64')
 url='https://www.openssl.org'
@@ -31,7 +31,8 @@
 	cd "$srcdir/$_pkgname-$_ver"
 
 	./Configure --prefix=/usr --openssldir=/etc/ssl --libdir=lib/openssl-1.1 \
-		shared no-ssl3-method enable-ec_nistp_64_gcc_128 linux-x86_64
+		shared no-ssl3-method enable-ec_nistp_64_gcc_128 linux-x86_64 \
+		"-Wa,--noexecstack ${CPPFLAGS} ${CFLAGS} ${LDFLAGS}"
 
 	make depend
 	make


############# Stripped diff below #################



--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -5,7 +5,8 @@
 build() {
 cd "$srcdir/$_pkgname-$_ver"
 ./Configure --prefix=/usr --openssldir=/etc/ssl --libdir=lib/openssl-1.1 \
-shared no-ssl3-method enable-ec_nistp_64_gcc_128 linux-x86_64
+shared no-ssl3-method enable-ec_nistp_64_gcc_128 linux-x86_64 \
+"-Wa,--noexecstack ${CPPFLAGS} ${CFLAGS} ${LDFLAGS}"
 make depend
 make
 }
