--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,6 +1,11 @@
+
+_ver=6.16.1
+_rel=1
+_arch=arch${_rel}
+_artix=${_arch/arch/artix}
 
 pkgbase=linux
-pkgver=6.16.2.arch1
+pkgver=${_ver}.${_artix}
 pkgrel=1
 pkgdesc='Linux'
 url='https://github.com/archlinux/linux'
@@ -30,10 +35,10 @@
   !debug
   !strip
 )
-_srcname=linux-${pkgver%.*}
-_srctag=v${pkgver%.*}-${pkgver##*.}
+_srcname=linux-${_ver}
+_srctag=v${_ver}-${_arch}
 source=(
-  https://cdn.kernel.org/pub/linux/kernel/v${pkgver%%.*}.x/${_srcname}.tar.{xz,sign}
+  https://cdn.kernel.org/pub/linux/kernel/v${_ver%%.*}.x/${_srcname}.tar.{xz,sign}
   $url/releases/download/$_srctag/linux-$_srctag.patch.zst{,.sig}
   config  # the main kernel config file
 )
@@ -42,18 +47,18 @@
   647F28654894E3BD457199BE38DBBDC86092693E  # Greg Kroah-Hartman
   83BC8889351B5DEBBB68416EB8AC08600F108CDF  # Jan Alexander Steffens (heftig)
 )
-sha256sums=('b760a6fa793d774fbd3b7fa0bea3efd5c4f5294dfb98ef1bd5f6d5f7cef4f06d'
+sha256sums=('ea43491bc7ace1e414b3b2d957f8cf96e7049155123f0acce798accf8da1acba'
             'SKIP'
-            'a3390acd1b5690bc2e1ab69f05b8088b45638f3169a81562611322e2010d2f90'
+            'b357773b9ed7e0f2265a04d53306d3d85d3b705ff32abe1f399b126685e1511d'
             'SKIP'
-            '3af6f508ed5fa4839e58bc7269b56f3473836ca445295a94f71068b410c9c3e9')
-b2sums=('9585d9abd085707cf5b7f3917ee41ff234083b941863fc5fa9eb7e81ed486da5fc58cd756020359f8784d29fcdac96720cc1dec2c10bef9a5c061cd2222f1680'
+            '995bc325d3df9b3fe3b91763222d4f942072037c2b5d2265fc57ad1312c3dbca')
+b2sums=('280386f483f3f181fd0e45789815621f6f6bed208b7c10b05a7e2c2eed102d53928ce3f0e28cdd58d1e3c69f9977f60f7b6e832c3a00c0f4524aa45f83ec9491'
         'SKIP'
-        '1c467a5e417063e7de24de81dc67d3879144cf58365f5e616402c7b8f3a439bd82b1808875ef16006817433c03d56331d932fc829a46f48b8380b4e7fe4e0dcc'
+        'e8572bedf0dfe7c4e997f03b37242752e2326372839ac152584f4bdcb91430b205ea036b3f952e7e4bde982a9e5d6c79172303d87cfa487ba3aa334ea274d5c7'
         'SKIP'
-        '22b2f79650b358a6c38807291450ea6959cab8febf97586226726fed5e811123db4c01b0e54c8421963239fa8e4d94826c9266edbf8d854cf636183059042ead')
-
-export KBUILD_BUILD_HOST=archlinux
+        '34be62628cb74d06e0c73494393cd73dee3d7895e5ea5d76089eac96aa066d4a7f4268e900255286199d61eb8bd0824240c1468d4509e39bf92ad1a76e0a6804')
+
+export KBUILD_BUILD_HOST=artixlinux
 export KBUILD_BUILD_USER=$pkgbase
 export KBUILD_BUILD_TIMESTAMP="$(date -Ru${SOURCE_DATE_EPOCH:+d @$SOURCE_DATE_EPOCH})"
 
@@ -73,6 +78,7 @@
     echo "Applying patch $src..."
     patch -Np1 < "../$src"
   done
+  sed -i -r "s/EXTRAVERSION = -${_arch}/EXTRAVERSION = -${_artix}/" "Makefile"
 
   echo "Setting config..."
   cp ../config .config
@@ -109,8 +115,8 @@
     WIREGUARD-MODULE
   )
   replaces=(
-    virtualbox-guest-modules-arch
-    wireguard-arch
+    virtualbox-guest-modules-artix
+    wireguard-artix
   )
 
   cd $_srcname


############# Stripped diff below #################



--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -12,6 +12,7 @@
 echo "Applying patch $src..."
 patch -Np1 < "../$src"
 done
+sed -i -r "s/EXTRAVERSION = -${_arch}/EXTRAVERSION = -${_artix}/" "Makefile"
 echo "Setting config..."
 cp ../config .config
 make olddefconfig
