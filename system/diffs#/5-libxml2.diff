--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -4,13 +4,15 @@
   libxml2
   libxml2-docs
 )
-pkgver=2.12.2
-pkgrel=1
+pkgver=2.13.0
+pkgrel=3
 pkgdesc="XML C parser and toolkit"
 url="https://gitlab.gnome.org/GNOME/libxml2/-/wikis/home"
 arch=(x86_64)
-license=(custom:MIT)
+license=(MIT)
 depends=(
+  bash
+  glibc
   icu
   ncurses
   readline
@@ -21,27 +23,32 @@
   git
   python
 )
-_commit=4d8fa5b292fc902268217fa0f7031e77e5437b5a  # tags/v2.12.2^0
 source=(
-  "git+https://gitlab.gnome.org/GNOME/libxml2.git#commit=$_commit"
+  "git+https://gitlab.gnome.org/GNOME/libxml2.git#tag=v$pkgver"
+  https://www.w3.org/XML/Test/xmlts20130923.tar.gz
   0001-HACK-Don-t-run-fuzzing-tests.patch
-  https://www.w3.org/XML/Test/xmlts20130923.tar.gz
+  0002-xinclude-Add-missing-include.patch
 )
-b2sums=('SKIP'
-        '6931b07a467874c3016deb7a68bab1e9cfaabc88fdeaf0ccf6c9cca02bbce9618b18f8c285f5748089138489d04d7c72a659b2bfd4ea5fe24ad273daacbd6d50'
-        '63a47bc69278ef510cd0b3779aed729e1b309e30efa0015d28ed051cc03f9dfddb447ab57b07b3393e8f47393d15473b0e199c34cb1f5f746b15ddfaa55670be')
-
-pkgver() {
-  cd libxml2
-  git describe --tags | sed 's/-rc/rc/;s/^v//;s/[^-]*-g/r&/;s/-/+/g'
-}
+b2sums=('5373f8063ac8d1515841141f52aa7fb144e0ca1602ccdf9cdaf2ebf6e98f49ef45e62bbfbc828395dde0656281f75bd017d8a96ad7dbd076baf4c046907806e2'
+        '63a47bc69278ef510cd0b3779aed729e1b309e30efa0015d28ed051cc03f9dfddb447ab57b07b3393e8f47393d15473b0e199c34cb1f5f746b15ddfaa55670be'
+        '151e84ee17051eeecfa8c62a7376ff269860f3ff6d33fb92209ff5f8dc9576a5648bbe9ffc96317695c069760ccfecaa3e6f19fb7a7c2e9f039a146d7fc8a516'
+        'bf4adb119c7f2f332e43326a9e5c9a84b149c1652441f21702824ffb1f57528995c70b392c21cf25d0dd3433c7080c3bf304091342d7fa604be1f52f92f639a3')
 
 prepare() {
   cd libxml2
 
   ln -s ../xmlconf
 
+  git cherry-pick -n 8322eef39d775b1c16a5895a77da53d82653a04e
+
+  git cherry-pick -n 9ecabe1c2461dc4aa28a75bb9c889f82e37a5786
+
+  git cherry-pick -n aa90cb0c578bd189089cd1fe195faf85040ac98b \
+                     c04d9b1b87eaf5c12f70173762f8c81c34e59aeb
+
   git apply -3 ../0001-HACK-Don-t-run-fuzzing-tests.patch
+
+  git apply -3 ../0002-xinclude-Add-missing-include.patch
 
   NOCONFIGURE=1 ./autogen.sh
 }


############# Stripped diff below #################

--- arch_depends
+++ artix_depends
@@ -1,5 +1,7 @@
 
+bash
 git
+glibc
 icu
 ncurses
 python

--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,7 +1,12 @@
 prepare() {
 cd libxml2
 ln -s ../xmlconf
+git cherry-pick -n 8322eef39d775b1c16a5895a77da53d82653a04e
+git cherry-pick -n 9ecabe1c2461dc4aa28a75bb9c889f82e37a5786
+git cherry-pick -n aa90cb0c578bd189089cd1fe195faf85040ac98b \
+c04d9b1b87eaf5c12f70173762f8c81c34e59aeb
 git apply -3 ../0001-HACK-Don-t-run-fuzzing-tests.patch
+git apply -3 ../0002-xinclude-Add-missing-include.patch
 NOCONFIGURE=1 ./autogen.sh
 }
 build() {
