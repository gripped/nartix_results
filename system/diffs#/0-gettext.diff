--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,7 +1,7 @@
 
 pkgname=gettext
-pkgver=0.23
-pkgrel=1
+pkgver=0.22.5
+pkgrel=2
 pkgdesc="GNU internationalization library"
 url="https://www.gnu.org/software/gettext/"
 arch=(x86_64)
@@ -23,20 +23,20 @@
 )
 optdepends=('git: for autopoint infrastructure updates')
 options=(!docs)
-source=(
-  https://ftp.gnu.org/pub/gnu/gettext/$pkgname-$pkgver.tar.gz{,.sig}
-  gettext-0.23-libxml2.patch
-  )
-b2sums=('32828852ff105c66d4034f8a689f3e2a007b8770daa72f7f99fec3fb5ee2be7a930fb534389edf59436c8f41b98122efab24931d0e8bea3a903d24b4d9a34bfb'
+source=(https://ftp.gnu.org/pub/gnu/gettext/$pkgname-$pkgver.tar.gz{,.sig}
+        gettext-0.22-disable-libtextstyle.patch)
+b2sums=('39bc18de7b8836c63dec0b006555eec0bb82e7bbf210ea774f47d9933c98dad9a719c9cd2eff46ec3bacc8be633167a4fa8d84bb0132cdadbb86d182235b63b7'
         'SKIP'
-        'c93e039ac8fd150a2d210343886cdaa13308af091ed9f97b93d4137c52d51e84ec32f78961b1ee5a100f2e7f4c61ef47c7ad9282e28a406a89d11ef18c57510b')
+        '8512f87c7c8fc6bedf2992a5da8b34ee847dd61af4f55407ff9e02b965afcbea508b1dd87cd2e31c689166ee8ded824f54a95089978274753a6730a8a1d39164')
 validpgpkeys=('462225C3B46F34879FC8496CD605848ED7E69871'  # Daiki Ueno
               '68D94D8AAEEAD48AE7DC5B904F494A942E4616C2'
               '9001B85AF9E1B83DF1BDA942F5BE8B267C6A406D') # Bruno Haible (Open Source Development)
 
 prepare() {
   cd ${pkgname}-${pkgver}
-  patch -Np1 -i ../gettext-0.23-libxml2.patch
+  patch -p1 -i $srcdir/gettext-0.22-disable-libtextstyle.patch
+  autoreconf -f
+  automake
 }
 
 build() {
@@ -46,8 +46,7 @@
     --enable-csharp \
     --enable-nls \
     --with-xz \
-    --without-included-gettext \
-    --without-included-libunistring
+    --without-included-gettext
   sed -e 's/ -shared / -Wl,-O1,--as-needed\0/g' \
       -i gettext-{tools,runtime,runtime/libasprintf}/libtool
   make


############# Stripped diff below #################



--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,6 +1,8 @@
 prepare() {
 cd ${pkgname}-${pkgver}
-patch -Np1 -i ../gettext-0.23-libxml2.patch
+patch -p1 -i $srcdir/gettext-0.22-disable-libtextstyle.patch
+autoreconf -f
+automake
 }
 build() {
 cd ${pkgname}-${pkgver}
@@ -9,8 +11,7 @@
 --enable-csharp \
 --enable-nls \
 --with-xz \
---without-included-gettext \
---without-included-libunistring
+--without-included-gettext
 sed -e 's/ -shared / -Wl,-O1,--as-needed\0/g' \
 -i gettext-{tools,runtime,runtime/libasprintf}/libtool
 make
