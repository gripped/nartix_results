--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -5,24 +5,21 @@
   libp11-kit
   p11-kit-docs
 )
-pkgver=0.25.5
+pkgver=0.25.3
 pkgrel=1
 pkgdesc="Loads and enumerates PKCS#11 modules"
 url="https://p11-glue.freedesktop.org"
 arch=(x86_64)
-license=(BSD-3-Clause)
+license=(BSD)
 depends=(
-  coreutils
   glibc
+  libffi
   libtasn1
-  systemd-libs
 )
 makedepends=(
   bash-completion
   gtk-doc
-  libffi
   meson
-  systemd
 )
 checkdepends=(
   gnutls
@@ -30,7 +27,7 @@
 source=(
   https://github.com/p11-glue/p11-kit/releases/download/$pkgver/p11-kit-$pkgver.tar.xz{,.sig}
 )
-b2sums=('96d6a9c2807586abafae4da4df89f566672733963997d6a83e00aaf83a7a0c0e2995638f505e98fb87a90c60bde28814f1e8b7d5071bf0af96bb0467105a1ddc'
+b2sums=('5c695c1ef95edf4bbbab001aa634076c433df0bc89cb8104deaec2ce00c6908640e467755b49c6900e5d7d5d81e1a3871f4978a212c6f6ae088386ac0b95289a'
         'SKIP')
 validpgpkeys=(
   C0F67099B808FB063E2C81117BFB1108D92765AF  # Stef Walter <stef@thewalter.net>
@@ -47,9 +44,10 @@
     -D gtk_doc=true
     -D man=true
     -D trust_paths=/etc/ca-certificates/trust-source:/usr/share/ca-certificates/trust-source
+    -D systemd=disabled
   )
 
-  arch-meson p11-kit-$pkgver build "${meson_options[@]}"
+  artix-meson p11-kit-$pkgver build "${meson_options[@]}"
   meson compile -C build
 }
 
@@ -68,12 +66,11 @@
 }
 
 package_p11-kit() {
-  depends+=(
+  depends=(
     "libp11-kit=$pkgver-$pkgrel"
+    coreutils
     libp11-kit.so
-    libsystemd.so
   )
-  install=p11-kit.install
 
   meson install -C build --destdir "$pkgdir"
   ln -srf "$pkgdir/usr/bin/update-ca-trust" "$pkgdir/usr/lib/p11-kit/trust-extract-compat"
@@ -90,11 +87,6 @@
 
 package_libp11-kit() {
   pkgdesc+=" (library)"
-  depends=(
-    glibc
-    libffi
-    libtasn1
-  )
   provides=(libp11-kit.so)
 
   mv lib/* "$pkgdir"


############# Stripped diff below #################

--- arch_depends
+++ artix_depends
@@ -6,8 +6,5 @@
 libffi
 libp11-kit
 libp11-kit.so
-libsystemd.so
 libtasn1
 meson
-systemd
-systemd-libs