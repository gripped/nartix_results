--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -5,7 +5,7 @@
   glib2-devel
   glib2-docs
 )
-pkgver=2.86.2
+pkgver=2.86.1
 pkgrel=1
 pkgdesc="Low level core library"
 url="https://gitlab.gnome.org/GNOME/glib"
@@ -13,7 +13,6 @@
 arch=(x86_64)
 depends=(
   bash
-  gcc-libs
   glibc
   libffi
   libsysprof-capture
@@ -45,13 +44,15 @@
   "git+https://gitlab.gnome.org/GNOME/gvdb.git"
   0001-glib-compile-schemas-Remove-noisy-deprecation-warnin.patch
   0002-gdesktopappinfo-Add-more-known-terminals.patch
+  0003-meson.build-Avoid-linking-with-libatomic.patch
   gio-querymodules.hook
   glib-compile-schemas.hook
 )
-b2sums=('64ee1024ea3ce512f5e0da749f63368272c118991fa4e747bee18ea2f67ae917dcc01d412fc5e441a2ce2f92600ecd69c7b3025a2ccc73c3340d50cc48c57b4a'
+b2sums=('1cb6a8fc5e1fddd6e1a340c1a2462bedc963ac3b25980877f16f672b68f0259f58dc15a0d8d617aad93c78d229d8cef492de35747347977915732ee10f95f25f'
         'SKIP'
         '4ddbd31f5f466fce99d82890292ff922555a9ab379d22202aeea5127f58798668f871dea0485cc0f458069276ad512412285ede6c8f3e36bea899358f49e931a'
         'cc39621757253c9f9e11da4ae40dc16d24f2898a7ee34fbfe5b7709c4f0139c04fab6c1138402c16859b2421c45d55bdde522aa1a1b2c6c3544d87b7c2d10dff'
+        '1213701c3058300eb12db0b07010936c10d975825a6e5ebffc20aef809005973f7f1c0b108dea18a65cb6819eed9dcefdb6da6357aef75a778dbd11e14f31be1'
         '14c9211c0557f6d8d9a914f1b18b7e0e23f79f4abde117cb03ab119b95bf9fa9d7a712aa0a29beb266468aeb352caa3a9e4540503cfc9fe0bbaf764371832a96'
         'acc2f474139e535f4bdd70ac22a9150f786b3395e679b14d0d3fbb9361d511bb1b5069d95b2a7ac9c0f3d901b03a0c037eb273446ba00764191b30a777bd2bc9')
 validpgpkeys=(
@@ -65,6 +66,8 @@
   git apply -3 ../0001-glib-compile-schemas-Remove-noisy-deprecation-warnin.patch
 
   git apply -3 ../0002-gdesktopappinfo-Add-more-known-terminals.patch
+
+  git apply -3 ../0003-meson.build-Avoid-linking-with-libatomic.patch
 
   git submodule init
   git submodule set-url subprojects/gvdb "$srcdir/gvdb"
@@ -90,7 +93,7 @@
   CFLAGS+=" -ffat-lto-objects"
   CXXFLAGS+=" -ffat-lto-objects"
 
-  arch-meson glib build "${meson_options[@]}"
+  artix-meson glib build "${meson_options[@]}"
   meson compile -C build
 }
 
@@ -154,7 +157,7 @@
 }
 
 package_glib2-devel() {
-  pkgdesc+=" - development tools"
+  pkgdesc+=" - development files"
   depends=(
     glib2
     glibc


############# Stripped diff below #################

--- arch_depends
+++ artix_depends
@@ -2,7 +2,6 @@
 bash
 dbus
 dconf
-gcc-libs
 gettext
 gi-docgen
 git

--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -2,6 +2,7 @@
 cd glib
 git apply -3 ../0001-glib-compile-schemas-Remove-noisy-deprecation-warnin.patch
 git apply -3 ../0002-gdesktopappinfo-Add-more-known-terminals.patch
+git apply -3 ../0003-meson.build-Avoid-linking-with-libatomic.patch
 git submodule init
 git submodule set-url subprojects/gvdb "$srcdir/gvdb"
 git -c protocol.file.allow=always -c protocol.allow=never submodule update
@@ -22,6 +23,6 @@
 CXXFLAGS+=" -g3"
 CFLAGS+=" -ffat-lto-objects"
 CXXFLAGS+=" -ffat-lto-objects"
-arch-meson glib build "${meson_options[@]}"
+artix-meson glib build "${meson_options[@]}"
 meson compile -C build
 }
