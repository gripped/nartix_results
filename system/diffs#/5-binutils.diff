--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,8 +1,8 @@
 
 
 pkgname=binutils
-pkgver=2.45.1
-_commit=48324fde1e284293dd3d570dba597cb644921c92
+pkgver=2.45+r29+g2b2e51a31ec7
+_commit=2b2e51a31ec7c48ef830f7e8415b42d4b95e335a
 pkgrel=1
 pkgdesc='A set of programs to assemble and manipulate binary and object files'
 arch=(x86_64)
@@ -44,20 +44,21 @@
   staticlibs
   !distcc
   !ccache
+  debug
 )
 source=(
   git+https://sourceware.org/git/binutils-gdb.git#commit=${_commit}
   gold-warn-unsupported.patch
   0001-strip-Don-t-treat-fat-IR-objects-as-plugin-object.patch
 )
-sha256sums=('3e2351760a32f1739f0683da1d4b43e74b42e117867225b88c41c07af6aeec9e'
+sha256sums=('2ff220ec18e2dd9462b5fdb788f46283cc51de4f028d9137eab5a5dd5b7edc36'
             '2d430b66f84a19c154725ec535280c493be1d34f1a90f95208dce02fecd0e4e4'
             'cd1816becb0e992ebc09f2ff66050e4b92fad33f0b7acc833cf513f4e4791d1a')
 validpgpkeys=(3A24BC1E8FB409FA9F14371813FCEF89DD9E3C4F)
 
 pkgver() {
   cd binutils-gdb
-  git describe --abbrev=12 --tags | sed 's/[^-]*-//;s/[^-]*-/&r/;s/-/+/g;s/_/./g'
+  git describe --abbrev=12 --tags | sed 's/[^-]*-//;s/[^-]*-/&r/;s/-/+/g;s/_/./'
 }
 
 prepare() {
@@ -69,6 +70,8 @@
   sed -i '/^development=/s/true/false/' bfd/development.sh
 
   patch -Np1 < ../gold-warn-unsupported.patch
+
+  patch -Np1 < ../0001-strip-Don-t-treat-fat-IR-objects-as-plugin-object.patch
 }
 
 build() {
@@ -78,7 +81,7 @@
     --prefix=/usr \
     --sysconfdir="${pkgdir}"/etc \
     --with-lib-path=/usr/lib:/usr/local/lib \
-    --with-bugurl=https://gitlab.archlinux.org/archlinux/packaging/packages/binutils/-/issues \
+    --with-bugurl=https://gitea.artixlinux.org/packages/binutils/issues \
     --enable-cet \
     --enable-colored-disassembly \
     --enable-default-execstack=no \


############# Stripped diff below #################

--- arch_depends
+++ artix_depends
@@ -1,6 +0,0 @@
-git
-glibc
-jansson
-libelf
-zlib
-zstd

--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -4,6 +4,7 @@
 cd binutils-gdb
 sed -i '/^development=/s/true/false/' bfd/development.sh
 patch -Np1 < ../gold-warn-unsupported.patch
+patch -Np1 < ../0001-strip-Don-t-treat-fat-IR-objects-as-plugin-object.patch
 }
 build() {
 cd binutils-build
@@ -11,7 +12,7 @@
 --prefix=/usr \
 --sysconfdir="${pkgdir}"/etc \
 --with-lib-path=/usr/lib:/usr/local/lib \
---with-bugurl=https://gitlab.archlinux.org/archlinux/packaging/packages/binutils/-/issues \
+--with-bugurl=https://gitea.artixlinux.org/packages/binutils/issues \
 --enable-cet \
 --enable-colored-disassembly \
 --enable-default-execstack=no \
