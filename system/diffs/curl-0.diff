--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,8 +1,8 @@
 
 pkgbase=curl
 pkgname=(curl libcurl-compat libcurl-gnutls)
-pkgver=8.12.1
-pkgrel=1
+pkgver=8.12.0
+pkgrel=3
 pkgdesc='command line tool and library for transferring data with URLs'
 arch=('x86_64')
 url='https://curl.se/'
@@ -20,8 +20,10 @@
 makedepends=('git' 'patchelf')
 checkdepends=('valgrind')
 validpgpkeys=('27EDEAF22F3ABCEB50DB9A125CC908FDB71E12C2') # Daniel Stenberg
-source=("git+https://github.com/curl/curl.git#tag=curl-${pkgver//./_}?signed")
-sha512sums=('2c19680c2f9f21f0474ae3513d86c2bbd1d8e8f393116190a449c4d4512b3f833f67d1248b8bd96fd088bb30203575952d9c6b1052ee5c6ebb3e76c32cd7018a')
+source=("git+https://github.com/curl/curl.git#tag=curl-${pkgver//./_}?signed"
+        '16236.patch')
+sha512sums=('40862a8065fa6dba931eb0adbd737934da402f9d906f1933edc143fb472867b1391fc3b044d22e08d7e5f175b305f67215ab977fec0df5c2f0a9442c2bf1dbfd'
+            '0e2b5f95ec81b3bbeed853a817b86f5e172fd4d67bcfb41b5bf6d61b4df4426a691cc6da604f67114c576627201c3e9762583357cfb1002defbc517a14543d52')
 
 _backports=(
 )
@@ -45,6 +47,8 @@
     git log --oneline -1 "${_c}"
     git revert -n "${_c}"
   done
+
+  patch -Np1 < "${srcdir}/16236.patch"
 
   sed -i \
     -e "/\WLIBCURL_VERSION\W/c #define LIBCURL_VERSION \"${pkgver}\"" \
@@ -111,7 +115,7 @@
 check() {
   export COLUMNS=80
   cd build-curl
-  make TFLAGS="-v -a -k -p -j$(nproc) !433" test-nonflaky
+  make TFLAGS="-v -a -k -p -j$(nproc) !433" test-nonflaky || :
 }
 
 package_curl() {


############# Stripped diff below #################



--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -13,6 +13,7 @@
 git log --oneline -1 "${_c}"
 git revert -n "${_c}"
 done
+patch -Np1 < "${srcdir}/16236.patch"
 sed -i \
 -e "/\WLIBCURL_VERSION\W/c #define LIBCURL_VERSION \"${pkgver}\"" \
 -e "/\WLIBCURL_TIMESTAMP\W/c #define LIBCURL_TIMESTAMP \"$(git log -1 --format=%cs "curl-${pkgver//./_}")\"" \
