--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,7 +1,7 @@
 
 pkgname=pinentry
-pkgver=1.3.1
-pkgrel=2
+pkgver=1.3.0
+pkgrel=1
 pkgdesc='Collection of simple PIN or passphrase entry dialogs which utilize the Assuan protocol'
 url='https://gnupg.org/related_software/pinentry/'
 arch=('x86_64')
@@ -9,21 +9,21 @@
 depends=(
   'glibc' 'ncurses' 'libassuan' 'libsecret' 'glib2'
   libsecret-1.so libncursesw.so libassuan.so libglib-2.0.so)
-makedepends=('qt6-base' 'qt5-x11extras' 'kwayland5' 'gtk2-compat' 'gcr-4' 'kguiaddons' 'kwindowsystem')
+makedepends=('gtk2' 'qt6-base' 'qt5-x11extras' 'kwayland5' 'gcr')
 optdepends=(
-  'gcr-4: GNOME backend'
-  'gtk3: GTK backend'
-  'qt5-x11extras: Qt5 backend'
-  'kwayland5: Qt5 backend'
-  'kguiaddons: Qt6 backend'
-  'kwindowsystem: Qt6 backend'
+  'gtk2: gtk2 backend'
+  'qt5-x11extras: qt backend'
+  'kwayland5: qt backend'
+  'gcr: gnome3 backend'
 )
 backup=('etc/pinentry/preexec')
 source=("https://www.gnupg.org/ftp/gcrypt/${pkgname}/${pkgname}-${pkgver}.tar.bz2"{,.sig}
-        'pinentry')
-sha256sums=('bc72ee27c7239007ab1896c3c2fae53b076e2c9bd2483dc2769a16902bce8c04'
+        'pinentry'
+        'preexec')
+sha256sums=('9b3cd5226e7597f2fded399a3bc659923351536559e9db0826981bca316494de'
             'SKIP'
-            '2f961cccf9aebddf9c0823a96809a10296d7af6516460ae2d93e8ea5a433166d')
+            'af7c27139b20a7f1b9a227f3663abb21bb2b954523352b7844da27db1b0c1c86'
+            'f428f08d77f1f7830eadb8435af282a833fc13d8b623b122eefd9d3b628bef90')
 validpgpkeys=(
   'D8692123C4065DEA5E0F3AB5249B39D24F25E3B6' # Werner Koch (dist sig)
   '6DAA6E64A76D2840571B4902528897B826403ADA' # Werner Koch (dist signing 2020)
@@ -38,19 +38,19 @@
     --enable-pinentry-curses \
     --enable-fallback-curses \
     --enable-pinentry-emacs \
+    --enable-pinentry-gtk2 \
     --enable-pinentry-gnome3 \
     --enable-pinentry-qt \
-    --enable-libsecret
+    --enable-libsecret \
 
   make
 }
 
 package() {
   cd "${pkgname}-${pkgver}"
+  make DESTDIR="${pkgdir}" install
 
-  make DESTDIR="${pkgdir}" install
   install -Dm 755 ../pinentry -t "${pkgdir}/usr/bin"
-
-  mv "${pkgdir}/usr/bin/pinentry-gtk"{-2,}
+  install -Dm 755 ../preexec -t "${pkgdir}/etc/pinentry"
 }
 


############# Stripped diff below #################

--- arch_depends
+++ artix_depends
@@ -1,10 +1,8 @@
-gcr-4
+gcr
 glib2
 glibc
-gtk2-compat
-kguiaddons
+gtk2
 kwayland5
-kwindowsystem
 libassuan
 libassuan.so
 libglib-2.0.so

--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -6,8 +6,9 @@
 --enable-pinentry-curses \
 --enable-fallback-curses \
 --enable-pinentry-emacs \
+--enable-pinentry-gtk2 \
 --enable-pinentry-gnome3 \
 --enable-pinentry-qt \
---enable-libsecret
+--enable-libsecret \
 make
 }
