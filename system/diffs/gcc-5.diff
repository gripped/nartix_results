--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,38 +1,8 @@
 
 
-pkgname=(
-  gcc
-  gcc-ada
-  gcc-d
-  gcc-fortran
-  gcc-gcobol
-  gcc-go
-  gcc-libs
-  gcc-m2
-  gcc-objc
-  gcc-rust
-  lib32-gcc-libs
-  libasan
-  libatomic
-  libgcc
-  libgccjit
-  libgcobol
-  libgfortran
-  libgm2
-  libgo
-  libgomp
-  libgphobos
-  libitm
-  liblsan
-  libobjc
-  libquadmath
-  libstdc++
-  libtsan
-  libubsan
-  lto-dump
-)
-pkgver=15.2.1+r604+g0b99615a8aef
-_commit=0b99615a8aef011cff76c6caa8c09434f46598b3
+pkgname=(gcc gcc-libs lib32-gcc-libs gcc-ada gcc-d gcc-fortran gcc-go gcc-m2 gcc-objc gcc-rust gcc-gcobol lto-dump libgccjit)
+pkgver=15.2.1+r447+g6a64f6c3ebb8
+_commit=6a64f6c3ebb88a30ee1f36803c48573731018e0c
 pkgrel=1
 pkgdesc='The GNU Compiler Collection'
 arch=(x86_64)
@@ -59,12 +29,9 @@
   python-pytest
   tcl
 )
-options=(
-  !emptydirs
-  !lto
-)
+options=(!emptydirs !lto debug)
 _libdir=usr/lib/gcc/$CHOST/${pkgver%%+*}
-source=(git+https://sourceware.org/git/gcc.git#commit=$_commit
+source=(git+https://sourceware.org/git/gcc.git#commit=${_commit}
         c89 c99
         gcc-ada-repro.patch
 )
@@ -72,14 +39,10 @@
               86CFFCA918CF3AF47147588051E8B148A9999C34  # foutrelis@archlinux.org
               13975A70E63C361C73AE69EF6EEB81F8981C74C7  # richard.guenther@gmail.com
               D3A93CAD751C2AF4F8C7AD516C35B99309B5FA62) # Jakub Jelinek <jakub@redhat.com>
-sha256sums=('fda170be6da777107c74ad322d51a508edf448b86ce8247755eb0eb1524f38b6'
+sha256sums=('adeb3a940db8da675a596af35aeeb05be1308b26d9a80f105dc6e2487d3ac4f0'
             '7b09ec947f90b98315397af675369a1e3dfc527fa70013062e6e85c4be0275ab'
             '44ea973558842f3f4bd666bdaf6e810fd7b7c7bd36b5cc4c69f93d2cd0124fc7'
             '1773f5137f08ac1f48f0f7297e324d5d868d55201c03068670ee4602babdef2f')
-pkgver() {
-  cd gcc
-  echo "$(cat gcc/BASE-VER)+$(git describe --abbrev=12 --tags | sed 's/[^-]*-[^-]*-//;s/[^-]*-/r&/;s/-/+/g;s/_/./')"
-}
 
 prepare() {
   [[ ! -d gcc ]] && ln -s gcc-${pkgver/+/-} gcc
@@ -102,7 +65,7 @@
       --libexecdir=/usr/lib
       --mandir=/usr/share/man
       --infodir=/usr/share/info
-      --with-bugurl=https://gitlab.archlinux.org/archlinux/packaging/packages/gcc/-/issues \
+      --with-bugurl=https://gitea.artixlinux.org/packages/gcc/issues
       --with-build-config=bootstrap-lto
       --with-linker-hash-style=gnu
       --with-system-zlib
@@ -145,7 +108,7 @@
 
   make -O -C $CHOST/libstdc++-v3/doc doc-man-doxygen
 
-  cd "$srcdir"/libgccjit-build
+  cd "${srcdir}"/libgccjit-build
 
   "$srcdir/gcc/configure" \
     --enable-languages=jit \
@@ -171,28 +134,57 @@
   "$srcdir/gcc/contrib/test_summary"
 }
 
+package_gcc-libs() {
+  pkgdesc='Runtime libraries shipped by GCC'
+  depends=('glibc>=2.27')
+  options=(!emptydirs !strip)
+  provides=($pkgname-multilib libgo.so libgfortran.so libgphobos.so
+            libubsan.so libasan.so libtsan.so liblsan.so)
+  replaces=($pkgname-multilib libgphobos)
+
+  cd gcc-build
+  make -C $CHOST/libgcc DESTDIR="$pkgdir" install-shared
+  rm -f "$pkgdir/$_libdir/libgcc_eh.a"
+
+  for lib in libatomic \
+             libgcobol \
+             libgfortran \
+             libgo \
+             libgomp \
+             libitm \
+             libquadmath \
+             libsanitizer/{a,l,ub,t}san \
+             libstdc++-v3/src \
+             libvtv; do
+    make -C $CHOST/$lib DESTDIR="$pkgdir" install-toolexeclibLTLIBRARIES
+  done
+
+  make -C $CHOST/libobjc DESTDIR="$pkgdir" install-libs
+  make -C $CHOST/libstdc++-v3/po DESTDIR="$pkgdir" install
+
+  make -C $CHOST/libphobos DESTDIR="$pkgdir" install
+  rm -rf "$pkgdir"/$_libdir/include/d/
+  rm -f "$pkgdir"/usr/lib/libgphobos.spec
+
+  for lib in libgomp \
+             libitm \
+             libquadmath; do
+    make -C $CHOST/$lib DESTDIR="$pkgdir" install-info
+  done
+
+  rm -rf "$pkgdir"/usr/lib32/
+
+  install -Dm644 "$srcdir/gcc/COPYING.RUNTIME" \
+    "$pkgdir/usr/share/licenses/gcc-libs/RUNTIME.LIBRARY.EXCEPTION"
+}
+
 package_gcc() {
   pkgdesc="The GNU Compiler Collection - C and C++ frontends"
-  depends=(
-    "gcc-libs=$pkgver-$pkgrel"
-    'binutils>=2.28'
-    libmpc
-    zstd
-    libisl.so
-  )
-  optdepends=(
-    'lib32-gcc-libs: for generating code for 32-bit ABI'
-  )
-  provides=(
-    $pkgname-multilib
-  )
-  replaces=(
-    $pkgname-multilib
-  )
-  options=(
-    !emptydirs
-    staticlibs
-  )
+  depends=("gcc-libs=$pkgver-$pkgrel" 'binutils>=2.28' libmpc zstd libisl.so)
+  optdepends=('lib32-gcc-libs: for generating code for 32-bit ABI')
+  provides=($pkgname-multilib)
+  replaces=($pkgname-multilib)
+  options=(!emptydirs staticlibs)
 
   cd gcc-build
 
@@ -200,7 +192,7 @@
     c++.install-common install-headers install-plugin install-lto-wrapper
 
   install -m755 -t "$pkgdir/usr/bin/" gcc/gcov{,-tool}
-  install -m755 -t "$pkgdir/$_libdir/" gcc/{cc1,cc1plus,collect2,lto1}
+  install -m755 -t "$pkgdir/${_libdir}/" gcc/{cc1,cc1plus,collect2,lto1}
 
   make -C $CHOST/libgcc DESTDIR="$pkgdir" install
   make -C $CHOST/32/libgcc DESTDIR="$pkgdir" install
@@ -228,7 +220,7 @@
 
   make -C lto-plugin DESTDIR="$pkgdir" install
   install -dm755 "$pkgdir"/usr/lib/bfd-plugins/
-  ln -s /$_libdir/liblto_plugin.so \
+  ln -s /${_libdir}/liblto_plugin.so \
     "$pkgdir/usr/lib/bfd-plugins/"
 
   make -C $CHOST/libgomp DESTDIR="$pkgdir" install-nodist_{libsubinclude,toolexeclib}HEADERS
@@ -254,7 +246,7 @@
   ln -s gcc "$pkgdir"/usr/bin/cc
 
   for binary in {c++,g++,gcc,gcc-ar,gcc-nm,gcc-ranlib}; do
-    ln -s /usr/bin/$binary "$pkgdir"/usr/bin/x86_64-linux-gnu-$binary
+    ln -s /usr/bin/${binary} "${pkgdir}"/usr/bin/x86_64-linux-gnu-${binary}
   done
 
   install -Dm755 "$srcdir/c89" "$pkgdir/usr/bin/c89"
@@ -272,98 +264,11 @@
     "$pkgdir/usr/share/licenses/$pkgname/"
 }
 
-package_gcc-ada() {
-  pkgdesc='Ada front-end for GCC (GNAT)'
-  depends=(
-    "gcc=$pkgver-$pkgrel"
-    libisl.so
-  )
-  provides=(
-    $pkgname-multilib
-  )
-  replaces=(
-    $pkgname-multilib
-  )
-  options=(
-    !emptydirs
-    staticlibs
-  )
-
-  cd gcc-build/gcc
-  make DESTDIR="$pkgdir" ada.install-{common,info}
-  install -m755 gnat1 "$pkgdir/$_libdir"
-
-  cd "$srcdir"/gcc-build/$CHOST/libada
-  make DESTDIR="$pkgdir" INSTALL="install" \
-    INSTALL_DATA="install -m644" install-libada
-
-  cd "$srcdir"/gcc-build/$CHOST/32/libada
-  make DESTDIR="$pkgdir" INSTALL="install" \
-    INSTALL_DATA="install -m644" install-libada
-
-  ln -s gcc "$pkgdir/usr/bin/gnatgcc"
-
-  mv "$pkgdir"/$_libdir/adalib/libgna{rl,t}-${pkgver%%.*}.so "$pkgdir/usr/lib"
-  ln -s libgnarl-${pkgver%%.*}.so "$pkgdir/usr/lib/libgnarl.so"
-  ln -s libgnat-${pkgver%%.*}.so "$pkgdir/usr/lib/libgnat.so"
-  rm -f "$pkgdir"/$_libdir/adalib/libgna{rl,t}.so
-
-  install -d "$pkgdir/usr/lib32/"
-  mv "$pkgdir"/$_libdir/32/adalib/libgna{rl,t}-${pkgver%%.*}.so "$pkgdir/usr/lib32"
-  ln -s libgnarl-${pkgver%%.*}.so "$pkgdir/usr/lib32/libgnarl.so"
-  ln -s libgnat-${pkgver%%.*}.so "$pkgdir/usr/lib32/libgnat.so"
-  rm -f "$pkgdir"/$_libdir/32/adalib/libgna{rl,t}.so
-
-  install -d "$pkgdir/usr/share/licenses/$pkgname/"
-  ln -s /usr/share/licenses/gcc-libs/RUNTIME.LIBRARY.EXCEPTION \
-    "$pkgdir/usr/share/licenses/$pkgname/"
-}
-
-package_gcc-d() {
-  pkgdesc="D frontend for GCC"
-  depends=(
-    "gcc=$pkgver-$pkgrel"
-    libgphobos
-    libisl.so
-  )
-  provides=(
-    gdc
-  )
-  replaces=(
-    gdc
-  )
-  options=(
-    staticlibs
-  )
-
-  cd gcc-build
-  make -C gcc DESTDIR="$pkgdir" d.install-{common,man,info}
-
-  install -Dm755 gcc/gdc "$pkgdir"/usr/bin/gdc
-  install -Dm755 gcc/d21 "$pkgdir"/"$_libdir"/d21
-
-  make -C $CHOST/libphobos DESTDIR="$pkgdir" install
-  rm -f "$pkgdir/usr/lib/"lib{gphobos,gdruntime}.so*
-  rm -f "$pkgdir/usr/lib32/"lib{gphobos,gdruntime}.so*
-
-  install -d "$pkgdir/usr/share/licenses/$pkgname/"
-  ln -s /usr/share/licenses/gcc-libs/RUNTIME.LIBRARY.EXCEPTION \
-    "$pkgdir/usr/share/licenses/$pkgname/"
-}
-
 package_gcc-fortran() {
   pkgdesc='Fortran front-end for GCC'
-  depends=(
-    "gcc=$pkgver-$pkgrel"
-    libgfortran
-    libisl.so
-  )
-  provides=(
-    $pkgname-multilib
-  )
-  replaces=(
-    $pkgname-multilib
-  )
+  depends=("gcc=$pkgver-$pkgrel" libisl.so)
+  provides=($pkgname-multilib)
+  replaces=($pkgname-multilib)
 
   cd gcc-build
   make -C $CHOST/libgfortran DESTDIR="$pkgdir" install-cafexeclibLTLIBRARIES \
@@ -372,7 +277,7 @@
     install-{toolexeclibDATA,nodist_fincludeHEADERS,gfor_cHEADERS}
   make -C $CHOST/libgomp DESTDIR="$pkgdir" install-nodist_fincludeHEADERS
   make -C gcc DESTDIR="$pkgdir" fortran.install-{common,man,info}
-  install -Dm755 gcc/f951 "$pkgdir/$_libdir/f951"
+  install -Dm755 gcc/f951 "$pkgdir/${_libdir}/f951"
 
   ln -s gfortran "$pkgdir/usr/bin/f95"
 
@@ -381,20 +286,53 @@
     "$pkgdir/usr/share/licenses/$pkgname/"
 }
 
-package_gcc-gcobol() {
-  pkgdesc="Cobol frontend for GCC"
-  depends=(
-    "gcc=$pkgver-$pkgrel"
-    libgcobol
-    libisl.so
-  )
-
-  cd gcc-build
-  make -C gcc DESTDIR="$pkgdir" cobol.install-{common,man,info}
-
-  install -Dm755 gcc/gcobol "$pkgdir"/usr/bin/gcobol
-
-  install -Dm644 $CHOST/libgcobol/libgcobol.spec "$pkgdir"/$_libdir/
+package_gcc-objc() {
+  pkgdesc='Objective-C front-end for GCC'
+  depends=("gcc=$pkgver-$pkgrel" libisl.so)
+  provides=($pkgname-multilib)
+  replaces=($pkgname-multilib)
+
+  cd gcc-build
+  make DESTDIR="$pkgdir" -C $CHOST/libobjc install-headers
+  install -dm755 "$pkgdir/${_libdir}"
+  install -m755 gcc/cc1obj{,plus} "$pkgdir/${_libdir}/"
+
+  install -d "$pkgdir/usr/share/licenses/$pkgname/"
+  ln -s /usr/share/licenses/gcc-libs/RUNTIME.LIBRARY.EXCEPTION \
+    "$pkgdir/usr/share/licenses/$pkgname/"
+}
+
+package_gcc-ada() {
+  pkgdesc='Ada front-end for GCC (GNAT)'
+  depends=("gcc=$pkgver-$pkgrel" libisl.so)
+  provides=($pkgname-multilib)
+  replaces=($pkgname-multilib)
+  options=(!emptydirs staticlibs)
+
+  cd gcc-build/gcc
+  make DESTDIR="$pkgdir" ada.install-{common,info}
+  install -m755 gnat1 "$pkgdir/${_libdir}"
+
+  cd "$srcdir"/gcc-build/$CHOST/libada
+  make DESTDIR="${pkgdir}" INSTALL="install" \
+    INSTALL_DATA="install -m644" install-libada
+
+  cd "$srcdir"/gcc-build/$CHOST/32/libada
+  make DESTDIR="${pkgdir}" INSTALL="install" \
+    INSTALL_DATA="install -m644" install-libada
+
+  ln -s gcc "$pkgdir/usr/bin/gnatgcc"
+
+  mv "$pkgdir"/${_libdir}/adalib/libgna{rl,t}-${pkgver%%.*}.so "$pkgdir/usr/lib"
+  ln -s libgnarl-${pkgver%%.*}.so "$pkgdir/usr/lib/libgnarl.so"
+  ln -s libgnat-${pkgver%%.*}.so "$pkgdir/usr/lib/libgnat.so"
+  rm -f "$pkgdir"/${_libdir}/adalib/libgna{rl,t}.so
+
+  install -d "$pkgdir/usr/lib32/"
+  mv "$pkgdir"/${_libdir}/32/adalib/libgna{rl,t}-${pkgver%%.*}.so "$pkgdir/usr/lib32"
+  ln -s libgnarl-${pkgver%%.*}.so "$pkgdir/usr/lib32/libgnarl.so"
+  ln -s libgnat-${pkgver%%.*}.so "$pkgdir/usr/lib32/libgnat.so"
+  rm -f "$pkgdir"/${_libdir}/32/adalib/libgna{rl,t}.so
 
   install -d "$pkgdir/usr/share/licenses/$pkgname/"
   ln -s /usr/share/licenses/gcc-libs/RUNTIME.LIBRARY.EXCEPTION \
@@ -403,21 +341,10 @@
 
 package_gcc-go() {
   pkgdesc='Go front-end for GCC'
-  depends=(
-    "gcc=$pkgver-$pkgrel"
-    libgo
-    libisl.so
-  )
-  provides=(
-    "go=1.17"
-    $pkgname-multilib
-  )
-  replaces=(
-    $pkgname-multilib
-  )
-  conflicts=(
-    go
-  )
+  depends=("gcc=$pkgver-$pkgrel" libisl.so)
+  provides=("go=1.17" $pkgname-multilib)
+  replaces=($pkgname-multilib)
+  conflicts=(go)
 
   cd gcc-build
   make -C $CHOST/libgo DESTDIR="$pkgdir" install-exec-am
@@ -426,89 +353,7 @@
   make -C gcc DESTDIR="$pkgdir" go.install-{common,man,info}
 
   rm -f "$pkgdir"/usr/lib{,32}/libgo.so*
-  install -Dm755 gcc/go1 "$pkgdir/$_libdir/go1"
-
-  install -d "$pkgdir/usr/share/licenses/$pkgname/"
-  ln -s /usr/share/licenses/gcc-libs/RUNTIME.LIBRARY.EXCEPTION \
-    "$pkgdir/usr/share/licenses/$pkgname/"
-}
-
-
-package_gcc-libs() {
-  pkgdesc='Runtime libraries shipped by GCC'
-  depends=(
-    'glibc>=2.27'
-    libasan
-    libatomic
-    libgfortran
-    libgcc
-    libgomp
-    liblsan
-    libobjc
-    libquadmath
-    libstdc++
-    libtsan
-    libubsan
-  )
-  provides=(
-    $pkgname-multilib
-  )
-}
-
-package_gcc-m2() {
-  pkgdesc='Modula-2 frontend for GCC'
-  depends=(
-    "gcc=$pkgver-$pkgrel"
-    libisl.so
-  )
-
-  cd gcc-build
-  make -C gcc DESTDIR="$pkgdir" m2.install-{common,man,info}
-
-  install -Dm755 gcc/cc1gm2 "$pkgdir/$_libdir"/cc1gm2
-  install -Dm755 gcc/gm2 "$pkgdir"/usr/bin/gm2
-
-  install -d "$pkgdir/usr/share/licenses/$pkgname/"
-  ln -s /usr/share/licenses/gcc-libs/RUNTIME.LIBRARY.EXCEPTION \
-    "$pkgdir/usr/share/licenses/$pkgname/"
-}
-
-package_gcc-objc() {
-  pkgdesc='Objective-C front-end for GCC'
-  depends=(
-    "gcc=$pkgver-$pkgrel"
-    libobjc
-    libisl.so
-  )
-  provides=(
-    $pkgname-multilib
-  )
-  replaces=(
-    $pkgname-multilib
-  )
-
-  cd gcc-build
-  make DESTDIR="$pkgdir" -C $CHOST/libobjc install-headers
-  install -dm755 "$pkgdir/$_libdir"
-  install -m755 gcc/cc1obj{,plus} "$pkgdir/$_libdir/"
-
-  install -d "$pkgdir/usr/share/licenses/$pkgname/"
-  ln -s /usr/share/licenses/gcc-libs/RUNTIME.LIBRARY.EXCEPTION \
-    "$pkgdir/usr/share/licenses/$pkgname/"
-}
-
-package_gcc-rust() {
-  pkgdesc="Rust frontend for GCC"
-  depends=(
-    "gcc=$pkgver-$pkgrel"
-    libisl.so
-  )
-
-  cd gcc-build
-  make -C gcc DESTDIR="$pkgdir" rust.install-{common,man,info}
-
-  install -Dm755 gcc/gccrs "$pkgdir"/usr/bin/gccrs
-  install -Dm755 gcc/crab1 "$pkgdir"/usr/bin/crab1
+  install -Dm755 gcc/go1 "$pkgdir/${_libdir}/go1"
 
   install -d "$pkgdir/usr/share/licenses/$pkgname/"
   ln -s /usr/share/licenses/gcc-libs/RUNTIME.LIBRARY.EXCEPTION \
@@ -517,25 +362,9 @@
 
 package_lib32-gcc-libs() {
   pkgdesc='32-bit runtime libraries shipped by GCC'
-  depends=(
-    'lib32-glibc>=2.27'
-  )
-  provides=(
-    libasan.so
-    libatomic.so
-    libgdruntime.so
-    libgfortran.so
-    libgo.so
-    libgomp.so
-    libgphobos.so
-    libitm.so
-    libobjc.so
-    libquadmath.so
-    libubsan.so
-  )
-  options=(
-    !emptydirs
-  )
+  depends=('lib32-glibc>=2.27')
+  provides=(libgo.so libgfortran.so libubsan.so libasan.so)
+  options=(!emptydirs !strip)
 
   cd gcc-build
 
@@ -543,14 +372,14 @@
   rm -f "$pkgdir/$_libdir/32/libgcc_eh.a"
 
   for lib in libatomic \
-             libgcobol \
              libgfortran \
              libgo \
              libgomp \
              libitm \
              libquadmath \
              libsanitizer/{a,l,ub}san \
-             libstdc++-v3/src; do
+             libstdc++-v3/src \
+             libvtv; do
     make -C $CHOST/32/$lib DESTDIR="$pkgdir" install-toolexeclibLTLIBRARIES
   done
 
@@ -565,320 +394,96 @@
     "$pkgdir/usr/share/licenses/lib32-gcc-libs/RUNTIME.LIBRARY.EXCEPTION"
 }
 
-package_libasan() {
-  pkgdesc='Address Sanitizer runtime library shipped by GCC'
-  depends=(
-    'glibc>=2.27'
-  )
-  provides=(
-    libasan.so
-  )
-
-  cd gcc-build
-
-  make -C $CHOST/libsanitizer/asan DESTDIR="$pkgdir" install-toolexeclibLTLIBRARIES
-
-  install -Dm644 "$srcdir/gcc/COPYING.RUNTIME" \
-    "$pkgdir/usr/share/licenses/libasan/RUNTIME.LIBRARY.EXCEPTION"
-}
-
-package_libatomic() {
-  pkgdesc='GNU Atomic library shipped by GCC'
-  depends=(
-    'glibc>=2.27'
-  )
-  provides=(
-    libatomic.so
-  )
-
-  cd gcc-build
-
-  make -C $CHOST/libatomic DESTDIR="$pkgdir" install-toolexeclibLTLIBRARIES
-
-  install -Dm644 "$srcdir/gcc/COPYING.RUNTIME" \
-    "$pkgdir/usr/share/licenses/libatomic/RUNTIME.LIBRARY.EXCEPTION"
-}
-
-package_libgcc() {
-  pkgdesc='Low-level runtime library shipped by GCC'
-  depends=(
-    'glibc>=2.27'
-  )
-  provides=(
-    libgcc_s.so
-  )
-
-  cd gcc-build
-  make -C $CHOST/libgcc DESTDIR="$pkgdir" install-shared
-  rm -f "$pkgdir/$_libdir/libgcc_eh.a"
-
-  install -Dm644 "$srcdir/gcc/COPYING.RUNTIME" \
-    "$pkgdir/usr/share/licenses/gcc-libs/RUNTIME.LIBRARY.EXCEPTION"
+package_gcc-d() {
+  pkgdesc="D frontend for GCC"
+  depends=("gcc=$pkgver-$pkgrel" libisl.so)
+  provides=(gdc)
+  replaces=(gdc)
+  options=(staticlibs)
+
+  cd gcc-build
+  make -C gcc DESTDIR="$pkgdir" d.install-{common,man,info}
+
+  install -Dm755 gcc/gdc "$pkgdir"/usr/bin/gdc
+  install -Dm755 gcc/d21 "$pkgdir"/"$_libdir"/d21
+
+  make -C $CHOST/libphobos DESTDIR="$pkgdir" install
+  rm -f "$pkgdir/usr/lib/"lib{gphobos,gdruntime}.so*
+  rm -f "$pkgdir/usr/lib32/"lib{gphobos,gdruntime}.so*
+
+  install -d "$pkgdir/usr/share/licenses/$pkgname/"
+  ln -s /usr/share/licenses/gcc-libs/RUNTIME.LIBRARY.EXCEPTION \
+    "$pkgdir/usr/share/licenses/$pkgname/"
+}
+
+package_gcc-m2() {
+  pkgdesc='Modula-2 frontend for GCC'
+  depends=("gcc=$pkgver-$pkgrel" libisl.so)
+
+  cd gcc-build
+  make -C gcc DESTDIR="$pkgdir" m2.install-{common,man,info}
+
+  install -Dm755 gcc/cc1gm2 "$pkgdir/$_libdir"/cc1gm2
+  install -Dm755 gcc/gm2 "$pkgdir"/usr/bin/gm2
+
+  make -C $CHOST/libgm2 DESTDIR="$pkgdir" install
+
+  install -d "$pkgdir/usr/share/licenses/$pkgname/"
+  ln -s /usr/share/licenses/gcc-libs/RUNTIME.LIBRARY.EXCEPTION \
+    "$pkgdir/usr/share/licenses/$pkgname/"
+}
+
+package_gcc-rust() {
+  pkgdesc="Rust frontend for GCC"
+  depends=("gcc=$pkgver-$pkgrel" libisl.so)
+
+  cd gcc-build
+  make -C gcc DESTDIR="$pkgdir" rust.install-{common,man,info}
+
+  install -Dm755 gcc/gccrs "$pkgdir"/usr/bin/gccrs
+  install -Dm755 gcc/crab1 "$pkgdir"/usr/bin/crab1
+
+  install -d "$pkgdir/usr/share/licenses/$pkgname/"
+  ln -s /usr/share/licenses/gcc-libs/RUNTIME.LIBRARY.EXCEPTION \
+    "$pkgdir/usr/share/licenses/$pkgname/"
+}
+
+package_gcc-gcobol() {
+  pkgdesc="Cobol frontend for GCC"
+  depends=("gcc=$pkgver-$pkgrel" libisl.so)
+
+  cd gcc-build
+  make -C gcc DESTDIR="$pkgdir" cobol.install-{common,man,info}
+
+  install -Dm755 gcc/gcobol "$pkgdir"/usr/bin/gcobol
+
+  install -Dm644 $CHOST/libgcobol/libgcobol.spec "$pkgdir"/$_libdir/
+
+  install -d "$pkgdir/usr/share/licenses/$pkgname/"
+  ln -s /usr/share/licenses/gcc-libs/RUNTIME.LIBRARY.EXCEPTION \
+    "$pkgdir/usr/share/licenses/$pkgname/"
+}
+
+package_lto-dump() {
+  pkgdesc="Dump link time optimization object files"
+  depends=("gcc=$pkgver-$pkgrel" libisl.so)
+
+  cd gcc-build
+  make -C gcc DESTDIR="$pkgdir" lto.install-{common,man,info}
+
+  install -d "$pkgdir/usr/share/licenses/$pkgname/"
+  ln -s /usr/share/licenses/gcc-libs/RUNTIME.LIBRARY.EXCEPTION \
+    "$pkgdir/usr/share/licenses/$pkgname/"
 }
 
 package_libgccjit() {
   pkgdesc="Just-In-Time Compilation with GCC backend"
-  depends=(
-    "gcc=$pkgver-$pkgrel"
-    libisl.so
-  )
-  provides=(
-    libgccjit.so
-  )
+  depends=("gcc=$pkgver-$pkgrel" libisl.so)
 
   cd gcc-build
   make -C gcc DESTDIR="$pkgdir" jit.install-common jit.install-info
 
   install -d "$pkgdir/usr/share/licenses/$pkgname/"
-  ln -s /usr/share/licenses/libgcc/RUNTIME.LIBRARY.EXCEPTION \
-    "$pkgdir/usr/share/licenses/$pkgname/"
-}
-
-package_libgcobol() {
-  pkgdesc='Cobol runtime libraries shipped by GCC'
-  depends=(
-    'glibc>=2.27'
-  )
-  provides=(
-    libgcobol.so
-  )
-
-  cd gcc-build
-  make -C $CHOST/libgcobol DESTDIR="$pkgdir" install-toolexeclibLTLIBRARIES
-
-  install -Dm644 "$srcdir/gcc/COPYING.RUNTIME" \
-    "$pkgdir/usr/share/licenses/libgcobol/RUNTIME.LIBRARY.EXCEPTION"
-}
-
-package_libgfortran() {
-  pkgdesc='Runtime libraries shipped by GCC'
-  depends=(
-    'glibc>=2.27'
-  )
-  provides=(
-    libgfortran.so
-  )
-
-  cd gcc-build
-  make -C $CHOST/libgfortran DESTDIR="$pkgdir" install-toolexeclibLTLIBRARIES
-
-  install -Dm644 "$srcdir/gcc/COPYING.RUNTIME" \
-    "$pkgdir/usr/share/licenses/libgfortran/RUNTIME.LIBRARY.EXCEPTION"
-}
-
-package_libgo() {
-  pkgdesc='Go runtime libraries shipped by GCC'
-  depends=(
-    'glibc>=2.27'
-  )
-  provides=(
-    libgo.so
-  )
-
-  cd gcc-build
-  make -C $CHOST/libgo DESTDIR="$pkgdir" install-toolexeclibLTLIBRARIES
-
-  install -Dm644 "$srcdir/gcc/COPYING.RUNTIME" \
-    "$pkgdir/usr/share/licenses/libgo/RUNTIME.LIBRARY.EXCEPTION"
-}
-
-
-package_libgomp() {
-  pkgdesc='OpenMP library shipped by GCC'
-  depends=(
-    'glibc>=2.27'
-  )
-  provides=(
-    libgomp.so
-  )
-
-  cd gcc-build
-
-  make -C $CHOST/libgomp DESTDIR="$pkgdir" install-toolexeclibLTLIBRARIES
-  make -C $CHOST/libgomp DESTDIR="$pkgdir" install-info
-
-  install -Dm644 "$srcdir/gcc/COPYING.RUNTIME" \
-    "$pkgdir/usr/share/licenses/libgomp/RUNTIME.LIBRARY.EXCEPTION"
-}
-
-package_libgm2() {
-  pkgdesc='Address Sanitizer runtime library shipped by GCC'
-  depends=(
-    'glibc>=2.27'
-  )
-  provides=(
-    libm2cor.so
-    libm2iso.so
-    libm2log.so
-    libm2min.so
-    libm2pim.so
-  )
-
-  cd gcc-build
-
-  make -C $CHOST/libgm2 DESTDIR="$pkgdir" install
-
-  rm -rf "$pkgdir"/usr/lib32/
-
-  install -Dm644 "$srcdir/gcc/COPYING.RUNTIME" \
-    "$pkgdir/usr/share/licenses/libgm2/RUNTIME.LIBRARY.EXCEPTION"
-}
-
-package_libgphobos() {
-  pkgdesc='D runtime libraries shipped by GCC'
-  depends=(
-    'glibc>=2.27'
-  )
-  provides=(
-    libgdruntime.so
-    libgphobos.so
-  )
-
-  cd gcc-build
-
-  make -C $CHOST/libphobos DESTDIR="$pkgdir" install
-  rm -rf "$pkgdir"/$_libdir/include/d/
-  rm -f "$pkgdir"/usr/lib/libgphobos.spec
-
-  rm -rf "$pkgdir"/usr/lib32/
-
-  install -Dm644 "$srcdir/gcc/COPYING.RUNTIME" \
-    "$pkgdir/usr/share/licenses/libgphobos/RUNTIME.LIBRARY.EXCEPTION"
-}
-
-package_libitm() {
-  pkgdesc='GNU Transactional Memory library shipped by GCC'
-  depends=(
-    'glibc>=2.27'
-  )
-  provides=(
-    libitm.so
-  )
-
-  cd gcc-build
-
-  make -C $CHOST/libitm DESTDIR="$pkgdir" install-toolexeclibLTLIBRARIES
-  make -C $CHOST/libitm DESTDIR="$pkgdir" install-info
-
-  install -Dm644 "$srcdir/gcc/COPYING.RUNTIME" \
-    "$pkgdir/usr/share/licenses/libitm/RUNTIME.LIBRARY.EXCEPTION"
-}
-
-package_liblsan() {
-  pkgdesc='Leak Sanitizer runtime library shipped by GCC'
-  depends=(
-    'glibc>=2.27'
-  )
-  provides=(
-    liblsan.so
-  )
-
-  cd gcc-build
-
-  make -C $CHOST/libsanitizer/lsan DESTDIR="$pkgdir" install-toolexeclibLTLIBRARIES
-
-  install -Dm644 "$srcdir/gcc/COPYING.RUNTIME" \
-    "$pkgdir/usr/share/licenses/liblsan/RUNTIME.LIBRARY.EXCEPTION"
-}
-
-package_libobjc() {
-  pkgdesc='Ojective-C runtime libraries shipped by GCC'
-  depends=(
-    'glibc>=2.27'
-  )
-  provides=(
-    libobjc.so
-  )
-
-  cd gcc-build
-  make -C $CHOST/libobjc DESTDIR="$pkgdir" install-libs
-
-  rm -rf "$pkgdir"/usr/lib32/
-
-  install -Dm644 "$srcdir/gcc/COPYING.RUNTIME" \
-    "$pkgdir/usr/share/licenses/libobjc/RUNTIME.LIBRARY.EXCEPTION"
-}
-
-package_libquadmath() {
-  pkgdesc='GCC __float128 library'
-  depends=(
-    'glibc>=2.27'
-  )
-  provides=(
-    libquadmath.so
-  )
-
-  cd gcc-build
-
-  make -C $CHOST/libquadmath DESTDIR="$pkgdir" install-toolexeclibLTLIBRARIES
-  make -C $CHOST/libquadmath DESTDIR="$pkgdir" install-info
-
-  install -Dm644 "$srcdir/gcc/COPYING.RUNTIME" \
-    "$pkgdir/usr/share/licenses/libquadmath/RUNTIME.LIBRARY.EXCEPTION"
-}
-
-package_libstdc++ () {
-  pkgdesc='C++ runtime libraries shipped by GCC'
-  depends=(
-    'glibc>=2.27'
-  )
-  provides=(
-    libstdc++.so
-  )
-
-  cd gcc-build
-  make -C $CHOST/libstdc++-v3/src DESTDIR="$pkgdir" install-toolexeclibLTLIBRARIES
-  make -C $CHOST/libstdc++-v3/po DESTDIR="$pkgdir" install
-
-  install -Dm644 "$srcdir/gcc/COPYING.RUNTIME" \
-    "$pkgdir/usr/share/licenses/libstdc++/RUNTIME.LIBRARY.EXCEPTION"
-}
-
-package_libtsan() {
-  pkgdesc='Thread Sanitizer runtime library shipped by GCC'
-  depends=(
-    'glibc>=2.27'
-  )
-  provides=(
-    libtsan.so
-  )
-
-  cd gcc-build
-
-  make -C $CHOST/libsanitizer/tsan DESTDIR="$pkgdir" install-toolexeclibLTLIBRARIES
-
-  install -Dm644 "$srcdir/gcc/COPYING.RUNTIME" \
-    "$pkgdir/usr/share/licenses/libtsan/RUNTIME.LIBRARY.EXCEPTION"
-}
-
-package_libubsan() {
-  pkgdesc='Undefined Behavior Sanitizer runtime library shipped by GCC'
-  depends=(
-    'glibc>=2.27'
-  )
-  provides=(
-    libubsan.so
-  )
-
-  cd gcc-build
-
-  make -C $CHOST/libsanitizer/ubsan DESTDIR="$pkgdir" install-toolexeclibLTLIBRARIES
-
-  install -Dm644 "$srcdir/gcc/COPYING.RUNTIME" \
-    "$pkgdir/usr/share/licenses/libubsan/RUNTIME.LIBRARY.EXCEPTION"
-}
-
-package_lto-dump() {
-  pkgdesc="Dump link time optimization object files"
-  depends=(
-    "gcc=$pkgver-$pkgrel"
-    libisl.so
-  )
-
-  cd gcc-build
-  make -C gcc DESTDIR="$pkgdir" lto.install-{common,man,info}
-
-  install -d "$pkgdir/usr/share/licenses/$pkgname/"
-  ln -s /usr/share/licenses/gcc-libs/RUNTIME.LIBRARY.EXCEPTION \
-    "$pkgdir/usr/share/licenses/$pkgname/"
-}
+  ln -s /usr/share/licenses/gcc-libs/RUNTIME.LIBRARY.EXCEPTION \
+    "$pkgdir/usr/share/licenses/$pkgname/"
+}


############# Stripped diff below #################

--- arch_depends
+++ artix_depends
@@ -10,23 +10,9 @@
 lib32-gcc-libs
 lib32-glibc
 lib32-glibc>
-libasan
-libatomic
-libgcc
-libgcobol
-libgfortran
-libgo
-libgomp
-libgphobos
 libisl
 libisl.so
-liblsan
 libmpc
-libobjc
-libquadmath
-libstdc++
-libtsan
-libubsan
 python
 rust
 zstd

--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -14,7 +14,7 @@
 --libexecdir=/usr/lib
 --mandir=/usr/share/man
 --infodir=/usr/share/info
---with-bugurl=https://gitlab.archlinux.org/archlinux/packaging/packages/gcc/-/issues \
+--with-bugurl=https://gitea.artixlinux.org/packages/gcc/issues
 --with-build-config=bootstrap-lto
 --with-linker-hash-style=gnu
 --with-system-zlib
@@ -51,7 +51,7 @@
 LDFLAGS_FOR_TARGET="$LDFLAGS" \
 bootstrap
 make -O -C $CHOST/libstdc++-v3/doc doc-man-doxygen
-cd "$srcdir"/libgccjit-build
+cd "${srcdir}"/libgccjit-build
 "$srcdir/gcc/configure" \
 --enable-languages=jit \
 --disable-bootstrap \
