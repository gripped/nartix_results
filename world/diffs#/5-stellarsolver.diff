--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,7 +1,7 @@
 
 pkgname=stellarsolver
-pkgver=2.7
-pkgrel=2
+pkgver=2.6
+pkgrel=1
 pkgdesc='The cross platform Sextractor and Astrometry.net-Based internal astrometric solver'
 arch=(x86_64)
 url='https://github.com/rlancaste/stellarsolver'
@@ -10,23 +10,18 @@
          gcc-libs
          glibc
          gsl
-         qt6-base
+         qt5-base
          wcslib)
 makedepends=(cmake
              git)
 source=(git+https://github.com/rlancaste/stellarsolver#tag=$pkgver)
-sha256sums=('53ba85b18f1a2c2b87830fa7c6d5acdadc115ae0be70a23ea0bb4aa288114466')
-
-prepare() {
-  cd $pkgname
-  git cherry-pick -n e8d809b183d1f752cd683e1dcad02678cac552f0 # Fix build with Qt 6.9
-}
+sha256sums=('52c300aa7b145ce033b77afc4877866b86809c269b58c566af57a925ffff5d5f')
 
 build() {
+  CFLAGS+=" -Wno-implicit-function-declaration" \
   cmake -B build -S $pkgname \
     -DCMAKE_INSTALL_PREFIX=/usr \
-    -DBUILD_TESTER=ON \
-    -DUSE_QT5=OFF
+    -DBUILD_TESTER=ON
   cmake --build build
 }
 


############# Stripped diff below #################

--- arch_depends
+++ artix_depends
@@ -4,5 +4,5 @@
 git
 glibc
 gsl
-qt6-base
+qt5-base
 wcslib

--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,11 +1,7 @@
-prepare() {
-cd $pkgname
-git cherry-pick -n e8d809b183d1f752cd683e1dcad02678cac552f0 # Fix build with Qt 6.9
-}
 build() {
+CFLAGS+=" -Wno-implicit-function-declaration" \
 cmake -B build -S $pkgname \
 -DCMAKE_INSTALL_PREFIX=/usr \
--DBUILD_TESTER=ON \
--DUSE_QT5=OFF
+-DBUILD_TESTER=ON
 cmake --build build
 }
