--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,55 +1,48 @@
 
 pkgname=jenkins
-pkgver=2.478
+pkgver=2.477
 pkgrel=1
 _java=17
-pkgdesc="Extendable continuous integration server (latest)"
-url="https://jenkins.io"
+pkgdesc='Extendable continuous integration server (latest)'
 arch=('any')
+url='https://jenkins.io'
 license=('MIT')
 depends=("java-runtime=${_java}" 'ttf-dejavu' 'fontconfig')
 makedepends=("java-environment=${_java}" 'git' 'maven')
 provides=('jenkins-ci')
 conflicts=('jenkins-ci')
 replaces=('jenkins-ci')
-backup=('etc/conf.d/jenkins')
 install='jenkins.install'
-source=("git+https://github.com/jenkinsci/jenkins.git#tag=${pkgname}-${pkgver}"
-        'jenkins.conf'
-        'jenkins.service'
+source=("https://github.com/jenkinsci/jenkins/archive/refs/tags/jenkins-${pkgver}.tar.gz"
         'jenkins.tmpfiles'
         'jenkins.sysusers'
         'skip-failing-test.patch')
-sha512sums=('0278efa1f286d4934ed6b60e3df5b4cf797336b4a0ea8e45578c97a84153d89792c202fbd916656784587d25da5eabce37cb69fdc4d94125657ec0f9b845d4d9'
-            '482b642988027b623995e0488cc00011be5bbe9890a6d40dd6979197fa50794889ff731f798891106b367962cf60cb59b0260caadfcee9685b358a966f759553'
-            'c1e9a542bfd3db54ea0ef57acdac47ad5180330f9ffab44296762b0e69e75ce595d85a77d46025586fb507aedce4f1a032379dcd16b7b886fe475a99849fa4b2'
+sha512sums=('3cc74f048a3fb5fdab1a0addc16b1aa65b10e9e71b471d4757ca9103d71987ac9536f991506848aa7fefbc1baeac23b503dc294c78ab5bd1bb6a5c88741ff027'
             'a845a7147be54affc586dfce9a188ec24c92e673e88dec0b62da386d2e597de6ecda103429008562abd897f179a52c37cf2188ebc65b8c636efd07d707e18f90'
             '896cbc64eadb2f3bb9fa7fc26dbfc527b1823d8bff3158be7f1936cc250f55eeafe89079e1ceb8f3d269041662573ccbbb36248140b4ba24144a564366f8847a'
             '876180dc1674ec56c32a4fceac7d9608f450520ace7d3ecb68cbe7ba8f1bcba31f2c063f52a9076c432b78fd31157da3febc65e98e7d9050a4134d4e0304e8bd')
 
 prepare() {
-	cd "${pkgname}"
-	patch -Np1 < "${srcdir}/skip-failing-test.patch"
+  cd "${pkgname}-${pkgname}-${pkgver}"
+  patch -Np1 <"${srcdir}"/skip-failing-test.patch
 }
 
 build() {
-	cd "${pkgname}"
-	export PATH="/usr/lib/jvm/java-${_java}-openjdk/bin:${PATH}"
-	mvn -am -pl war,bom -Pquick-build -Dproject.build.outputTimestamp="${SOURCE_DATE_EPOCH}" package
+  cd "${pkgname}-${pkgname}-${pkgver}"
+  export PATH="/usr/lib/jvm/java-${_java}-openjdk/bin:${PATH}"
+  mvn -am -pl war,bom -Pquick-build -Dproject.build.outputTimestamp="${SOURCE_DATE_EPOCH}" package
 }
 
 check() {
-	cd "${pkgname}"
-	export PATH="/usr/lib/jvm/java-${_java}-openjdk/bin:${PATH}"
-	mvn -am -Plight-test -Dproject.build.outputTimestamp="${SOURCE_DATE_EPOCH}" test
+  cd "${pkgname}-${pkgname}-${pkgver}"
+  export PATH="/usr/lib/jvm/java-${_java}-openjdk/bin:${PATH}"
+  mvn -am -Plight-test -Dproject.build.outputTimestamp="${SOURCE_DATE_EPOCH}" test
 }
 
 package() {
-	cd "${pkgname}"
-	install -Dm 644 "war/target/${pkgname}.war" "${pkgdir}/usr/share/java/${pkgname}/${pkgname}.war"
-	install -Dm 644 "${srcdir}/${pkgname}.service" "${pkgdir}/usr/lib/systemd/system/${pkgname}.service"
-	install -Dm 644 "${srcdir}/${pkgname}.tmpfiles" "${pkgdir}/usr/lib/tmpfiles.d/${pkgname}.conf"
-	install -Dm 644 "${srcdir}/${pkgname}.sysusers" "${pkgdir}/usr/lib/sysusers.d/${pkgname}.conf"
-	install -Dm 644 "${srcdir}/${pkgname}.conf" "${pkgdir}/etc/conf.d/${pkgname}"
-	install -Dm 644 LICENSE.txt "${pkgdir}/usr/share/licenses/${pkgname}/LICENSE"
+  cd "${pkgname}-${pkgname}-${pkgver}"
+  install -Dm 644 war/target/jenkins.war "${pkgdir}/usr/share/java/jenkins/jenkins.war"
+  install -Dm 644 LICENSE.txt "${pkgdir}/usr/share/licenses/jenkins/LICENSE"
+  install -Dm 644 ../jenkins.tmpfiles "${pkgdir}/usr/lib/tmpfiles.d/jenkins.conf"
+  install -Dm 644 ../jenkins.sysusers "${pkgdir}/usr/lib/sysusers.d/jenkins.conf"
 }


############# Stripped diff below #################



--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,9 +1,9 @@
 prepare() {
-cd "${pkgname}"
-patch -Np1 < "${srcdir}/skip-failing-test.patch"
+cd "${pkgname}-${pkgname}-${pkgver}"
+patch -Np1 <"${srcdir}"/skip-failing-test.patch
 }
 build() {
-cd "${pkgname}"
+cd "${pkgname}-${pkgname}-${pkgver}"
 export PATH="/usr/lib/jvm/java-${_java}-openjdk/bin:${PATH}"
 mvn -am -pl war,bom -Pquick-build -Dproject.build.outputTimestamp="${SOURCE_DATE_EPOCH}" package
 }
