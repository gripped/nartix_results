--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -3,7 +3,7 @@
 pkgname=('grpc' 'python-grpcio' 'python-grpcio-tools' 'php-grpc' 'php-legacy-grpc' 'grpc-cli')
 pkgver=1.76.0
 _gtestver=2dd1c131950043a8ad5ab0d2dda0e0970596586a
-pkgrel=3
+pkgrel=2
 pkgdesc="High performance, open source, general RPC framework that puts mobile and HTTP/2 first."
 arch=('x86_64')
 url='https://grpc.io'
@@ -28,11 +28,9 @@
   're2c'
 )
 source=("https://github.com/grpc/grpc/archive/v$pkgver/$pkgbase-$pkgver.tar.gz"
-        "https://github.com/google/googletest/archive/$_gtestver/googletest-$_gtestver.tar.gz"
-        'php-8.5.patch')
+        "https://github.com/google/googletest/archive/$_gtestver/googletest-$_gtestver.tar.gz")
 sha256sums=('0af37b800953130b47c075b56683ee60bdc3eda3c37fc6004193f5b569758204'
-            '31bf78bd91b96dd5e24fab3bb1d7f3f7453ccbaceec9afb86d6e4816a15ab109'
-            'a2b71c06347550260e5cffeb803a0737089ddadcd629643bf8dfdf8e71e6e4cc')
+            '31bf78bd91b96dd5e24fab3bb1d7f3f7453ccbaceec9afb86d6e4816a15ab109')
 
 prepare() {
   cd "$srcdir/$pkgbase-$pkgver"
@@ -52,7 +50,6 @@
       tools/distrib/python/grpcio_tools/protoc_lib_deps.py
   ln -s ../../../.. tools/distrib/python/grpcio_tools/grpc_root
 
-  patch -p1 -i "$srcdir/php-8.5.patch"
 }
 
 build() {
@@ -74,7 +71,7 @@
     -DgRPC_BENCHMARK_PROVIDER:STRING='package' \
     -DgRPC_ABSL_PROVIDER:STRING='package' \
     -DgRPC_USE_PROTO_LITE=OFF \
-    -DgRPC_USE_SYSTEMD=ON \
+    -DgRPC_USE_SYSTEMD=OFF \
     -DgRPC_BUILD_GRPC_CPP_PLUGIN=ON \
     -DgRPC_BUILD_GRPC_CSHARP_PLUGIN=ON \
     -DgRPC_BUILD_GRPC_NODE_PLUGIN=ON \
@@ -105,7 +102,7 @@
   export GRPC_PYTHON_BUILD_SYSTEM_CARES=1
   export GRPC_PYTHON_BUILD_SYSTEM_RE2=1
   export GRPC_PYTHON_BUILD_SYSTEM_ABSL=1
-  export GRPC_PYTHON_BUILD_WITH_SYSTEMD=1
+  export GRPC_PYTHON_BUILD_WITH_SYSTEMD=0
   export GRPC_BUILD_WITH_BORING_SSL_ASM=0
 
   cd "$srcdir/$pkgbase-$pkgver"
@@ -125,7 +122,7 @@
 }
 
 package_grpc() {
-  depends=('glibc' 'gcc-libs' 'zlib' 'systemd-libs' 'c-ares' 'protobuf' 'openssl' 're2' 'abseil-cpp')
+  depends=('glibc' 'gcc-libs' 'zlib' 'c-ares' 'protobuf' 'openssl' 're2' 'abseil-cpp')
   provides=(
     'libupb.so'
     'libgrpcpp_channelz.so'


############# Stripped diff below #################

--- arch_depends
+++ artix_depends
@@ -22,5 +22,4 @@
 python-wheel
 re2
 re2c
-systemd-libs
 zlib