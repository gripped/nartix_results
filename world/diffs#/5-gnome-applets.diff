--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,7 +1,7 @@
 
 pkgname=gnome-applets
 pkgver=3.52.0
-pkgrel=2
+pkgrel=1
 pkgdesc='Small applications for the GNOME Panel'
 arch=('x86_64')
 url='https://wiki.gnome.org/Projects/GnomeApplets'
@@ -9,30 +9,29 @@
 depends=('at-spi2-core' 'cairo' 'cpupower' 'dconf' 'gdk-pixbuf2' 'glib2' 'glibc' 'gnome-panel'
          'gsettings-desktop-schemas' 'gtk3' 'hicolor-icon-theme' 'libgtop' 'libgweather-4'
          'libnotify' 'libwnck3' 'libx11' 'libxml2' 'pango' 'polkit' 'tracker3' 'upower')
-makedepends=('autoconf-archive' 'git' 'glib2-devel' 'yelp-tools')
+makedepends=('itstool')
 optdepends=('tracker3-miners: Search bar')
-source=("git+https://gitlab.gnome.org/GNOME/$pkgname.git?signed#tag=$pkgver"
+source=("https://download.gnome.org/sources/$pkgname/${pkgver%.*}/$pkgname-$pkgver.tar.xz"
         'gnome-applets-98.patch')
-b2sums=('407d35d76d56f32ef1cd86404c66077f776f93f5f9cfbaaa7f679f2247cc2f26c17f58b9cbc4ba61177894ecbc795559cd3d23a4d76258e84047c4b127e5949e'
-        'd33772454e20dbfcb884e9ccbb4ad8705366c6a0313f94fef3791c90daa4d5daf50b39333b2af89992c37d34fdca99cb42384d479dd07438095ec2f67a214fe1')
-validpgpkeys=('7B44FD78E49334EC10B3B288A3D013EC303E1894') # Alberts MuktupƒÅvels <alberts.muktupavels@gmail.com>
+sha256sums=('6f3d3b428656ff6d5b1d3ee5ccb7ece3d2b18b54bf0457acf43b711e55e2d62c'
+            'a0ea3eeeda6c09e156c7713b45998de7674bcd4c720d1bb98c9ce97703bcf4db')
 
 prepare() {
-  cd $pkgname
+  cd $pkgname-$pkgver
 
   patch -Np1 -i ../gnome-applets-98.patch
 
-  autoreconf -fi
+  rm gnome-applets/ga-resources.{c,h}
 }
 
 build() {
-  cd $pkgname
-  ./configure --prefix=/usr --disable-debug --enable-compile-warnings
+  cd $pkgname-$pkgver
+  ./configure --prefix=/usr
   sed -i -e 's/ -shared / -Wl,-O1,--as-needed\0/g' libtool
   make
 }
 
 package() {
-  cd $pkgname
+  cd $pkgname-$pkgver
   make DESTDIR="$pkgdir" install
 }


############# Stripped diff below #################

--- arch_depends
+++ artix_depends
@@ -1,17 +1,15 @@
 at-spi2-core
-autoconf-archive
 cairo
 cpupower
 dconf
 gdk-pixbuf2
-git
 glib2
-glib2-devel
 glibc
 gnome-panel
 gsettings-desktop-schemas
 gtk3
 hicolor-icon-theme
+itstool
 libgtop
 libgweather-4
 libnotify
@@ -22,4 +20,3 @@
 polkit
 tracker3
 upower
-yelp-tools

--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,11 +1,11 @@
 prepare() {
-cd $pkgname
+cd $pkgname-$pkgver
 patch -Np1 -i ../gnome-applets-98.patch
-autoreconf -fi
+rm gnome-applets/ga-resources.{c,h}
 }
 build() {
-cd $pkgname
-./configure --prefix=/usr --disable-debug --enable-compile-warnings
+cd $pkgname-$pkgver
+./configure --prefix=/usr
 sed -i -e 's/ -shared / -Wl,-O1,--as-needed\0/g' libtool
 make
 }
