--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -2,14 +2,13 @@
 pkgname=python-requests
 _name=${pkgname#python-}
 pkgver=2.32.5
-pkgrel=4
+pkgrel=3
 pkgdesc='Python HTTP for Humans'
 arch=(any)
 url=https://requests.readthedocs.io/
 license=(Apache-2.0)
 depends=(
   ca-certificates
-  python
   python-charset-normalizer
   python-idna
   python-urllib3
@@ -40,9 +39,6 @@
 
 prepare() {
   cd "$_name"
-
-  git show 4bd79e397304d46dfccd76f36c07f66c0295ff82 -- src/requests/__init__.py | git apply
-
   sed -i '/certifi/d' setup.py
   patch -p1 -i ../certs.patch
 }
@@ -54,16 +50,7 @@
 
 check() {
   cd "$_name"
-
-  pytest_options=(
-    -v tests
-    --deselect tests/test_requests.py::TestRequests::test_unicode_header_name
-    --deselect 'tests/test_requests.py::TestTimeout::test_connect_timeout[timeout0]'
-    --deselect 'tests/test_requests.py::TestTimeout::test_connect_timeout[timeout1]'
-    --deselect 'tests/test_requests.py::TestTimeout::test_total_timeout_connect[timeout0]'
-    --deselect 'tests/test_requests.py::TestTimeout::test_total_timeout_connect[timeout1]'
-  )
-  PYTHONPATH="$PWD/src" pytest "${pytest_options[@]}"
+  PYTHONPATH="$PWD/src" pytest -v tests --deselect tests/test_requests.py::TestRequests::test_unicode_header_name
 }
 
 package() {
@@ -71,3 +58,4 @@
   python -m installer --destdir="$pkgdir" dist/*.whl
 }
 
+


############# Stripped diff below #################

--- arch_depends
+++ artix_depends
@@ -1,6 +1,5 @@
 ca-certificates
 git
-python
 python-build
 python-charset-normalizer
 python-idna

--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,6 +1,5 @@
 prepare() {
 cd "$_name"
-git show 4bd79e397304d46dfccd76f36c07f66c0295ff82 -- src/requests/__init__.py | git apply
 sed -i '/certifi/d' setup.py
 patch -p1 -i ../certs.patch
 }
