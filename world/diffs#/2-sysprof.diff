--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -5,7 +5,7 @@
   libsysprof-capture
 )
 pkgver=46.0
-pkgrel=4
+pkgrel=3
 pkgdesc="Kernel based performance profiler"
 url="https://wiki.gnome.org/Apps/Sysprof"
 license=(GPL-3.0-or-later)
@@ -25,12 +25,11 @@
   libunwind
   pango
   polkit
-  systemd-libs
 )
 makedepends=(
   git
   meson
-  glib2-devel
+  python-packaging
   yelp-tools
 )
 source=(
@@ -45,7 +44,7 @@
 build() {
   CFLAGS+=" -ffat-lto-objects"
 
-  arch-meson sysprof build
+  artix-meson sysprof build -Dsystemdunitdir=/usr/lib/systemd
   meson compile -C build
 }
 
@@ -76,6 +75,8 @@
   _pick capture usr/include/sysprof-*/sysprof-{address,capture,clock,collector,macros}.h
   _pick capture usr/include/sysprof-*/sysprof-{platform,version,version-macros}.h
   _pick capture usr/include/sysprof-*/sysprof-capture-{condition,cursor,reader,types,writer}.h
+
+  rm -r $pkgdir/usr/lib/systemd
 }
 
 package_libsysprof-capture() {


############# Stripped diff below #################

--- arch_depends
+++ artix_depends
@@ -3,7 +3,6 @@
 gcc-libs
 git
 glib2
-glib2-devel
 glibc
 graphene
 gtk4
@@ -17,5 +16,5 @@
 meson
 pango
 polkit
-systemd-libs
+python-packaging
 yelp-tools