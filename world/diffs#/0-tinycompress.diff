--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,7 +1,7 @@
 
 pkgname=tinycompress
 pkgver=1.2.11
-pkgrel=3
+pkgrel=2
 pkgdesc="ALSA compressed device interface"
 url="https://github.com/alsa-project/tinycompress"
 arch=(x86_64)
@@ -15,12 +15,10 @@
 provides=(libtinycompress.so)
 options=(debug)
 _commit=e98e500873c9c4fdd752d1c85b6116da426a8a70  # tags/v1.2.11^0
-source=(
-  "git+$url#commit=$_commit"
-  0001-Fix-build-with-FFmpeg-7.patch
-)
+source=("git+$url#commit=$_commit"
+         ffmpeg-7.patch)
 b2sums=('e23df6e28228fc059613f182bf6d5c5edbd95932ccc6d36e7aefadaa7474f59a55dccb841d24c25453d416cbd31ffb3a1d651061b3441c21d813e7127fd451db'
-        '29ccd63a6c70397239ac7f9661c3b27256ae044b2de6458e55595886867300cd3c004bb9ba827a1304ba410dd3f5a869e8045755f7e9a04eebd34034bee2cd9a')
+        '83b55cabf2a0d2fe3f935c085a959f237fac0c9c1f652265a5132789b1a71c7e6ab740043721223480a62e99c231e4fa9c81fe91d68013f17fbb08b5d9741448')
 
 pkgver() {
   cd tinycompress
@@ -31,7 +29,8 @@
   mkdir -p build
 
   cd tinycompress
-  git apply -3 ../0001-Fix-build-with-FFmpeg-7.patch
+
+  patch -p1 -i ../ffmpeg-7.patch # Fix build with ffmpeg 7
   ./autogen.sh
 }
 


############# Stripped diff below #################



--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,7 +1,7 @@
 prepare() {
 mkdir -p build
 cd tinycompress
-git apply -3 ../0001-Fix-build-with-FFmpeg-7.patch
+patch -p1 -i ../ffmpeg-7.patch # Fix build with ffmpeg 7
 ./autogen.sh
 }
 build() {
