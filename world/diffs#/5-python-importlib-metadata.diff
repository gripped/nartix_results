--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,60 +1,29 @@
 
 pkgname=python-importlib-metadata
-pkgver=8.7.1
+pkgver=8.7.0
 pkgrel=1
 pkgdesc="Read metadata from Python packages"
 url="https://importlib-metadata.readthedocs.io"
-license=(Apache-2.0)
-arch=(any)
-depends=(
-  python
-  python-zipp
-)
-makedepends=(
-  git
-  python-build
-  python-installer
-  python-setuptools
-  python-setuptools-scm
-  python-wheel
-)
-checkdepends=(
-  python-jaraco.test
-  python-pytest
-  python-pyfakefs
-  python-pip
-  python-tests
-)
-source=(
-  "$pkgname::git+https://github.com/python/importlib_metadata.git#tag=v$pkgver?signed"
-  remove-useless-dep.patch
-)
-sha512sums=('7802f2bec694e99d3868e17d4262a8832b4f33884d92fc0e0da8474f757467234758e89266ed638b8ea9c8e32efdf08487b45069270d4ccc34b63ac8e7aac6e5'
-            'e5165e1b212f10d56724dc552e2cd75411bbe8c3b0d6b2d930f73e85e22596fade1cd3e84f8c93b4cd73bbf5cce8d3cf22ed489e4fdfe46c73a65d97f76e57b8')
+license=('Apache-2.0')
+arch=('any')
+depends=('python-zipp')
+makedepends=('git' 'python-build' 'python-installer' 'python-setuptools-scm' 'python-wheel')
+checkdepends=('python-jaraco.test' 'python-pytest' 'python-pyfakefs' 'python-pip' 'python-tests')
+source=("git+https://github.com/python/importlib_metadata.git#tag=v$pkgver?signed")
+sha512sums=('2577eabc2920d2e0d7658f2eee695a172540d2a9bcfbfa1d975f2b38af99cccd74ed87b2faa8ec37be1c48ff2d8c169b622b5463ccff1de52a82355a717766ea')
 validpgpkeys=('CE380CF3044959B8F377DA03708E6CB181B4C47E') # Jason R. Coombs <jaraco@jaraco.com>
 
-prepare() {
-  cd "$pkgname"
-
-  patch -p1 -i "$srcdir/remove-useless-dep.patch"
-}
-
 build() {
-  cd "$pkgname"
-
-  export SETUPTOOLS_SCM_PRETEND_VERSION="$pkgver"
-
-  python -m build --wheel --no-isolation
+  cd importlib_metadata
+  python -m build -nw
 }
 
 check() {
-  cd "$pkgname"
-
+  cd importlib_metadata
   python -m pytest --ignore exercises.py
 }
 
 package() {
-  cd "$pkgname"
-
-  python -m installer --destdir="$pkgdir" dist/*.whl
+  cd importlib_metadata
+  python -m installer -d "$pkgdir" dist/*.whl
 }


############# Stripped diff below #################

--- arch_depends
+++ artix_depends
@@ -1,8 +1,6 @@
 git
-python
 python-build
 python-installer
-python-setuptools
 python-setuptools-scm
 python-wheel
 python-zipp

--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,9 +1,4 @@
-prepare() {
-cd "$pkgname"
-patch -p1 -i "$srcdir/remove-useless-dep.patch"
+build() {
+cd importlib_metadata
+python -m build -nw
 }
-build() {
-cd "$pkgname"
-export SETUPTOOLS_SCM_PRETEND_VERSION="$pkgver"
-python -m build --wheel --no-isolation
-}
