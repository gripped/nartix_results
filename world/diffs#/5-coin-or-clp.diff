--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,11 +1,11 @@
 
 pkgname=coin-or-clp
-pkgver=1.17.10
-pkgrel=1
+pkgver=1.17.9
+pkgrel=2
 pkgdesc='COIN-OR linear programming solver'
 arch=(x86_64)
 url='https://github.com/coin-or/Clp'
-license=(EPL-2.0)
+license=(EPL)
 groups=(coin-or)
 depends=(coin-or-asl
          coin-or-coinutils
@@ -13,28 +13,26 @@
          gcc-libs
          glibc
          suitesparse)
-makedepends=(git)
-source=(git+https://github.com/coin-or/Clp#tag=releases/$pkgver)
-sha256sums=('675f2ba993bd78084a5dfcf61cd38798a9597ebf1d2321677c6f9483ce1a26da')
+source=($pkgname-$pkgver.tar.gz::https://github.com/coin-or/Clp/archive/refs/tags/releases/$pkgver.tar.gz)
+sha256sums=('b02109be54e2c9c6babc9480c242b2c3c7499368cfca8c0430f74782a694a49f')
 
 build() {
-  cd Clp
-  CFLAGS+=" -Wno-implicit-function-declaration" \
+  cd Clp-releases-$pkgver
   ./configure --prefix=/usr \
               --with-cholmod-lib='-lcholmod' \
-              --with-cholmod-incdir=/usr/include/suitesparse \
+              --with-cholmod-incdir=/usr/include \
               --with-amd-lib='-lamd' \
-              --with-amd-incdir=/usr/include/suitesparse
+              --with-amd-incdir=/usr/include
   sed -i -e 's/ -shared / -Wl,-O1,--as-needed\0/g' libtool # Fix overlinking
   make
 }
 
 check() {
-  cd Clp
+  cd Clp-releases-$pkgver
   make test
 }
 
 package() {
-  cd Clp
+  cd Clp-releases-$pkgver
   make DESTDIR="$pkgdir" install
 }


############# Stripped diff below #################

--- arch_depends
+++ artix_depends
@@ -2,6 +2,5 @@
 coin-or-coinutils
 coin-or-osi
 gcc-libs
-git
 glibc
 suitesparse

--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,11 +1,10 @@
 build() {
-cd Clp
-CFLAGS+=" -Wno-implicit-function-declaration" \
+cd Clp-releases-$pkgver
 ./configure --prefix=/usr \
 --with-cholmod-lib='-lcholmod' \
---with-cholmod-incdir=/usr/include/suitesparse \
+--with-cholmod-incdir=/usr/include \
 --with-amd-lib='-lamd' \
---with-amd-incdir=/usr/include/suitesparse
+--with-amd-incdir=/usr/include
 sed -i -e 's/ -shared / -Wl,-O1,--as-needed\0/g' libtool # Fix overlinking
 make
 }
