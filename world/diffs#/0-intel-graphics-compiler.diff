--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,13 +1,13 @@
 
 pkgname=intel-graphics-compiler
-pkgver=2.24.8
+pkgver=2.22.2
 _llvmmaj=16
 _llvmver="${_llvmmaj}.0.6"
-_vciver=0.24.1
+_vciver=0.23.4
 _spirv_tools_commit=28a883ba4c67f58a9540fb0651c647bb02883622
-_spirv_headers_commit=01e0577914a75a2569c846778c2f93aa8e6feddd
-_spirv_llvm_commit=2e666b9ed404bcc86a6fc357e2823fcb5c5e1382
-_opencl_clang_commit=4157bbe686dbe2a464b317c74f56b6601d5f3be3
+_spirv_headers_commit=9e3836d7d6023843a72ecd3fbf3f09b1b6747a9e
+_spirv_llvm_commit=0983ca98c8bea6a68f1731cd9aec0560914b93b1
+_opencl_clang_commit=43611737fe738e227da35d65e787f4e10a88c9c9
 pkgrel=1
 epoch=1
 pkgdesc='Intel Graphics Compiler for OpenCL'
@@ -37,14 +37,14 @@
         "git+https://github.com/intel/opencl-clang.git#commit=${_opencl_clang_commit}"
         "git+https://github.com/llvm/llvm-project.git#tag=llvmorg-${_llvmver}"
         '010-intel-graphics-compiler-disable-werror.patch')
-sha256sums=('47e41a3a1d5138024da7fac5dd6a80fc220971172909de952db85b8afaf1a9c7'
-            'b7e8ea7d62f7a6239dd51590da702d73f82fa049eabd53ce0040e6b8d5c099a4'
-            '4e3b7baf125fc850f4d0094880bc0ff6a13c964c5165d323fec96636ec0dc701'
+sha256sums=('f1ee874945374fd463a94b59716c10ceb295c2e24f1c4d18444fc4a1f23e87a3'
+            '616c08e4a383c0dd5f1e662adef931f9a899518468612cb654c97457ed1e61c7'
+            'd59a1f6fd88394365770401437f31721adc5d0025a6a297defeddbdd11732853'
             'e028a800c43945d94fc100aa25427d360a21c00b1154fb239ec2fce0c06ea85d'
-            '8d4d0e7c1e60914372fb7dae6e491f346af481f73901fd4b0970be7f7ef73b81'
-            'c69aaec482bffa20560882b6b901ca7a62fe402ab9ec6375e5f7323eaf2356ec'
+            '0036130f6a55c8a96c47958f46a2df073c88710804a1e87aa12f2a242f8cd822'
+            '353c46ec4a4354ad1f55c958b294f2ba10cd4ee329b101bf31d30b5351b65011'
             'b47ada280614670a467f80e9f8c67542050983f238f2f4b3fa17682855faf9bf'
-            'd2efb42a4562789a101af66e9731fe75bb89ddc9a916845fcf002fe8d7ceca70')
+            'fead474a0cde0cd5b66619780dd3f7b902b3d1ab2296ee27ca8f0cadc4eb67f7')
 
 prepare() {
     mv SPIRV-LLVM-Translator{,-IGC-LLVM}
@@ -52,24 +52,21 @@
     ln -s "${srcdir}/SPIRV-LLVM-Translator-IGC-LLVM"  "${srcdir}/llvm-project/llvm/projects/llvm-spirv"
     ln -s "${srcdir}/opencl-clang" "${srcdir}/llvm-project/llvm/projects/opencl-clang"
 
-    export GIT_COMMITTER_NAME='builduser'
-    export GIT_COMMITTER_EMAIL='builduser@archlinux.org'
+    EMAIL='builduser@archlinux.org' \
     git -C llvm-project cherry-pick 7e44305041d96b064c197216b931ae3917a34ac1
 
     patch -d "intel-graphics-compiler-${pkgver}" -Np1 -i "${srcdir}/010-intel-graphics-compiler-disable-werror.patch"
 }
 
 build() {
-    export CFLAGS+=' -fno-semantic-interposition'
-    export CXXFLAGS+=' -fno-semantic-interposition'
-    export LDFLAGS+=' -Wl,-Bsymbolic'
+    CFLAGS+=' -fno-semantic-interposition'
+    CXXFLAGS+=' -fno-semantic-interposition'
+    LDFLAGS+=' -Wl,-Bsymbolic'
 
     export CFLAGS="${CFLAGS/-Wp,-D_FORTIFY_SOURCE=?/}"
     export CXXFLAGS="${CXXFLAGS/-Wp,-D_FORTIFY_SOURCE=?/}"
 
-    export GIT_COMMITTER_NAME='builduser'
-    export GIT_COMMITTER_EMAIL='builduser@archlinux.org'
-
+    EMAIL='builduser@archlinux.org' \
     cmake -B build -S "${pkgname}-${pkgver}" \
         -G 'Unix Makefiles' \
         -DCCLANG_FROM_SYSTEM=OFF \


############# Stripped diff below #################



--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -2,19 +2,17 @@
 mv SPIRV-LLVM-Translator{,-IGC-LLVM}
 ln -s "${srcdir}/SPIRV-LLVM-Translator-IGC-LLVM"  "${srcdir}/llvm-project/llvm/projects/llvm-spirv"
 ln -s "${srcdir}/opencl-clang" "${srcdir}/llvm-project/llvm/projects/opencl-clang"
-export GIT_COMMITTER_NAME='builduser'
-export GIT_COMMITTER_EMAIL='builduser@archlinux.org'
+EMAIL='builduser@archlinux.org' \
 git -C llvm-project cherry-pick 7e44305041d96b064c197216b931ae3917a34ac1
 patch -d "intel-graphics-compiler-${pkgver}" -Np1 -i "${srcdir}/010-intel-graphics-compiler-disable-werror.patch"
 }
 build() {
-export CFLAGS+=' -fno-semantic-interposition'
-export CXXFLAGS+=' -fno-semantic-interposition'
-export LDFLAGS+=' -Wl,-Bsymbolic'
+CFLAGS+=' -fno-semantic-interposition'
+CXXFLAGS+=' -fno-semantic-interposition'
+LDFLAGS+=' -Wl,-Bsymbolic'
 export CFLAGS="${CFLAGS/-Wp,-D_FORTIFY_SOURCE=?/}"
 export CXXFLAGS="${CXXFLAGS/-Wp,-D_FORTIFY_SOURCE=?/}"
-export GIT_COMMITTER_NAME='builduser'
-export GIT_COMMITTER_EMAIL='builduser@archlinux.org'
+EMAIL='builduser@archlinux.org' \
 cmake -B build -S "${pkgname}-${pkgver}" \
 -G 'Unix Makefiles' \
 -DCCLANG_FROM_SYSTEM=OFF \
