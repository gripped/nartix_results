--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,50 +1,50 @@
 
 pkgname=keepassxc
 pkgver=2.7.10
-pkgrel=3
+pkgrel=2
 pkgdesc="Cross-platform community-driven port of Keepass password manager"
+arch=(x86_64)
 url="https://keepassxc.org/"
-arch=(x86_64)
 license=('GPL-2.0-only OR GPL-3.0-only OR LGPL-2.1-only')
-depends=('argon2' 'botan' 'hicolor-icon-theme' 'libxtst' 'minizip' 'pcsclite' 'qrencode' 'qt5-svg' 'qt5-x11extras' 'libusb')
-makedepends=('asciidoctor' 'cmake' 'git' 'qt5-tools')
-checkdepends=('xclip' 'xorg-server-xvfb' 'xclip')
+depends=(argon2 botan hicolor-icon-theme libxtst
+         minizip pcsclite qrencode qt5-svg qt5-x11extras libusb)
+makedepends=(asciidoctor cmake qt5-tools)
 optdepends=('xclip: keepassxc-cli clipboard support under X server'
             'wl-clipboard: keepassxc-cli clipboard support under Wayland')
-provides=('org.freedesktop.secrets')
-source=("git+https://github.com/keepassxreboot/keepassxc.git#tag=${pkgver}?signed"
-        'TestEntryModel.patch')
-sha256sums=('789edc3cbd55783b10a3b64863ea34e2588b6b52de85ffe11898fa5ca3022b10'
+checkdepends=(xclip xorg-server-xvfb xclip)
+provides=(org.freedesktop.secrets)
+source=(https://github.com/keepassxreboot/keepassxc/releases/download/$pkgver/keepassxc-$pkgver-src.tar.xz{,.sig}
+        TestEntryModel.patch)
+sha256sums=('5ce76d6440986c24842585f019d5f3cadc166fa71fc911a4fe97b8bbc4819dfa'
+            'SKIP'
             '1448fb616c4eaf7b0f9019ee10f813199d7105442e3f61aea31e901139b87f43')
-validpgpkeys=(3489040C1F0C3EEAB8D556A5440FC65F2E0C6E01  # Jonathan White <support@dmapps.us>
-              BF5A669F2272CF4324C1FDA8CFB4C2166397D0D2  # KeePassXC Release <release@keepassxc.org>
-              71D4673D73C7F83C17DAE6A2D8538E98A26FD9C4  # KeePassXC Release <release@keepassxc.org>
-              AF0AEA44ABAC8F1047733EA7AFF235EEFB5A2517  # KeePassXC Release <release@keepassxc.org>
-              C1E4CBA3AD78D3AFD894F9E0B7A66F03B59076A8) # KeePassXC Release <release@keepassxc.org>
-
+validpgpkeys=(BF5A669F2272CF4324C1FDA8CFB4C2166397D0D2
+              71D4673D73C7F83C17DAE6A2D8538E98A26FD9C4
+              AF0AEA44ABAC8F1047733EA7AFF235EEFB5A2517
+              C1E4CBA3AD78D3AFD894F9E0B7A66F03B59076A8)
 
 prepare() {
-	cd "${pkgname}"
+  cd keepassxc-$pkgver
 
-	patch -Np1 -i "${srcdir}/TestEntryModel.patch"
+  patch -Np1 -i "$srcdir"/TestEntryModel.patch
 }
 
 build() {
-	cmake -S "${pkgname}" -B build \
-		-DCMAKE_BUILD_TYPE=Release \
-		-DCMAKE_INSTALL_PREFIX=/usr \
-		-DCMAKE_INSTALL_LIBDIR=lib \
-		-DKEEPASSXC_BUILD_TYPE=Release \
-		-DWITH_XC_ALL=ON \
-		-DWITH_GUI_TESTS=ON \
-		-DWITH_XC_UPDATECHECK=OFF
-	cmake --build build
+  cmake -S keepassxc-$pkgver -B build \
+    -DCMAKE_BUILD_TYPE=Release \
+    -DCMAKE_INSTALL_PREFIX=/usr \
+    -DCMAKE_INSTALL_LIBDIR=lib \
+    -DKEEPASSXC_BUILD_TYPE=Release \
+    -DWITH_XC_ALL=ON \
+    -DWITH_GUI_TESTS=ON \
+    -DWITH_XC_UPDATECHECK=OFF
+  cmake --build build
 }
 
 check() {
-	xvfb-run --auto-servernum cmake --build build --target test
+  xvfb-run --auto-servernum cmake --build build --target test -j1
 }
 
 package() {
-	cmake --build build --target install -- DESTDIR="${pkgdir}"
+  cmake --build build --target install -- DESTDIR="$pkgdir"
 }


############# Stripped diff below #################

--- arch_depends
+++ artix_depends
@@ -2,7 +2,6 @@
 asciidoctor
 botan
 cmake
-git
 hicolor-icon-theme
 libusb
 libxtst

--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,9 +1,9 @@
 prepare() {
-cd "${pkgname}"
-patch -Np1 -i "${srcdir}/TestEntryModel.patch"
+cd keepassxc-$pkgver
+patch -Np1 -i "$srcdir"/TestEntryModel.patch
 }
 build() {
-cmake -S "${pkgname}" -B build \
+cmake -S keepassxc-$pkgver -B build \
 -DCMAKE_BUILD_TYPE=Release \
 -DCMAKE_INSTALL_PREFIX=/usr \
 -DCMAKE_INSTALL_LIBDIR=lib \
