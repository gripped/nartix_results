--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,26 +1,21 @@
 
 pkgname=python-alembic
-pkgver=1.13.1
-pkgrel=1
+pkgver=1.9.4
+pkgrel=4
 pkgdesc='Lightweight database migration tool for usage with SQLAlchemy'
 url='https://github.com/sqlalchemy/alembic'
 arch=('any')
 license=('MIT')
-depends=('python' 'python-mako' 'python-sqlalchemy' 'python-typing_extensions')
+depends=('python' 'python-mako' 'python-sqlalchemy' 'python-editor'
+         'python-dateutil')
 makedepends=('python-setuptools' 'python-build' 'python-installer' 'python-wheel')
 checkdepends=('python-pytest')
-source=(
-  $pkgname-$pkgver.tar.gz::https://github.com/sqlalchemy/alembic/archive/refs/tags/rel_${pkgver//./_}.tar.gz
-  $pkgname-1.13.1-pytest-8.1.patch::https://github.com/sqlalchemy/alembic/commit/6bdb9043868d4bd04ebe3fe8a4991735d5f87ed3.patch
-)
-sha512sums=('85a94874a4c26e8c38f5fa76c0d4ab428a54c663c5a53547d5652e0f081245080168e4696f3afff5b574a5d2a673f02828d1fd77649ed59a150187030776238b'
-            'e3c5aff773c5a82babaffbc9a462a22efea7ae3fa3d6ece2757042dedbad62a31441355c0701601c1b138abc663fe8ba0bcaa6cff2501e407ea851b82f6dce06')
-b2sums=('12445947193d7ad3b16016660d0f21eaeefbafdc72afb5cbabb206dcda001295633f3bcc5dd599d2bc0cbfb30fafaf74344aed5d5afa6679b3bb7a08f418cc3b'
-        '40d884aa7f61baf1ed3c4dbec98cc1c5c46837f6935d0ec0f8897615dc69c0f819744d3dcc0b40a000294b1deb5f425f36697ff24cfc1110a009d060b18b8c15')
+source=($pkgname-$pkgver.tar.gz::https://github.com/sqlalchemy/alembic/archive/refs/tags/rel_${pkgver//./_}.tar.gz)
+sha512sums=('888b6c11d32fc84dc1c18ed80bdf5edd053b6fafe365e2a1d99e726207216005d5d9a3f5368b1d80ed2ca56d3cacf7ef99b3e943c09fb398a74c17074e1ca63e')
+b2sums=('339e5b5670b32caad134fd97a51530094a233fcc28ff90ab0d9c41047158d017ae6bea270a7216bbe954fc1c705cb19c5d1c7dd2415f3c739be8c4be46c3a8ba')
 
 prepare() {
   cd alembic-rel_${pkgver//./_}
-  patch -Np1 -i ../$pkgname-1.13.1-pytest-8.1.patch
   sed 's|-p no:warnings||g' -i setup.cfg
 }
 
@@ -31,7 +26,7 @@
 
 check() {
   cd alembic-rel_${pkgver//./_}
-  pytest -vv
+  py.test
 }
 
 package() {


############# Stripped diff below #################

--- arch_depends
+++ artix_depends
@@ -1,8 +1,9 @@
 python
 python-build
+python-dateutil
+python-editor
 python-installer
 python-mako
 python-setuptools
 python-sqlalchemy
-python-typing_extensions
 python-wheel

--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,6 +1,5 @@
 prepare() {
 cd alembic-rel_${pkgver//./_}
-patch -Np1 -i ../$pkgname-1.13.1-pytest-8.1.patch
 sed 's|-p no:warnings||g' -i setup.cfg
 }
 build() {
