--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -2,7 +2,7 @@
 pkgname=python-pooch
 _pyname=pooch
 pkgver=1.8.2
-pkgrel=3
+pkgrel=1
 pkgdesc='Python library for fetching and caching data files'
 arch=(any)
 url='https://www.fatiando.org/pooch/latest/'
@@ -20,25 +20,17 @@
              python-wheel)
 checkdepends=(python-pytest
               python-pytest-httpserver)
-source=(git+https://github.com/fatiando/pooch#tag=v$pkgver
-        https://github.com/fatiando/pooch/commit/96bd5437.patch)
-sha256sums=('f297312c457a5201ba95afbe47e4ac848d04460a61fa631cae412dd0ce3cb41a'
-            'ae8db79fa3c5fec2e7321691df7fb5fcdd045d50eaa4a856b2e1e0fea430c964')
-
-prepare() {
-  cd $_pyname
-  patch -p1 -i ../96bd5437.patch # Exclude doc dir from wheel
-}
+source=(git+https://github.com/fatiando/pooch#tag=v$pkgver)
+sha256sums=('f297312c457a5201ba95afbe47e4ac848d04460a61fa631cae412dd0ce3cb41a')
 
 build() {
   cd $_pyname
-  SETUPTOOLS_SCM_PRETEND_VERSION=$pkgver \
   python -m build --wheel --no-isolation
 }
 
 check() {
   cd $_pyname
-  pytest -v -k 'not test_check_availability_on_ftp and not test_ftp_downloader'
+  pytest -v -k 'not test_check_availability_on_ftp and not test_ftp_downloader and not test_zenodo_downloader_with_slash_in_fname'
 }
 
 package() {


############# Stripped diff below #################



--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,9 +1,4 @@
-prepare() {
-cd $_pyname
-patch -p1 -i ../96bd5437.patch # Exclude doc dir from wheel
-}
 build() {
 cd $_pyname
-SETUPTOOLS_SCM_PRETEND_VERSION=$pkgver \
 python -m build --wheel --no-isolation
 }
