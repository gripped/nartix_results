--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,8 +1,8 @@
 
 _pyname=ipykernel
 pkgname=python-$_pyname
-pkgver=7.0.1
-pkgrel=2
+pkgver=6.30.1
+pkgrel=1
 pkgdesc='The ipython kernel for Jupyter'
 arch=(any)
 url='https://pypi.org/project/ipykernel/'
@@ -22,21 +22,18 @@
              python-build
              python-hatchling
              python-installer)
-checkdepends=(python-debugpy
-              python-flaky
+checkdepends=(python-flaky
               python-ipyparallel
               python-matplotlib
               python-pytest-asyncio
-              python-pytest-cov
               python-pytest-timeout)
 optdepends=('python-debugpy: debugger support')
 source=(git+https://github.com/ipython/ipykernel#tag=v$pkgver)
-sha256sums=('46b8da396ff56bacc8d217c4b6b6d7077fb6a606535ca142a0519dae0a63cd55')
+sha256sums=('7e649edc5cc1ba9acee4bfd3b1334f3fa9232e465c1c75a89e017e20b62c5833')
 
 prepare() {
   cd $_pyname
-  git cherry-pick -n 7193d14de447a18470a18d60b81eda5f0048b6aa # Fix routing of background thread output when no parent is set explicitly
-  git cherry-pick -n c7af34cd19ebcd43f5aafe1919909feb6e898387 c56a7aab3cad1fb91f7e7185dc7403d561ecd667 # Fix matplotlib eventloops
+  git cherry-pick -n b47db6f082ea61e9688b4eca4e92529c1e0e6c45 # Fix deprecation warnings with Python 3.13
 }
 
 build() {
@@ -46,8 +43,7 @@
 
 check() {
   cd $_pyname
-  PYTHONPATH="$PWD" \
-  pytest -v -W ignore::ResourceWarning
+  pytest -v
 }
 
 package() {


############# Stripped diff below #################



--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,7 +1,6 @@
 prepare() {
 cd $_pyname
-git cherry-pick -n 7193d14de447a18470a18d60b81eda5f0048b6aa # Fix routing of background thread output when no parent is set explicitly
-git cherry-pick -n c7af34cd19ebcd43f5aafe1919909feb6e898387 c56a7aab3cad1fb91f7e7185dc7403d561ecd667 # Fix matplotlib eventloops
+git cherry-pick -n b47db6f082ea61e9688b4eca4e92529c1e0e6c45 # Fix deprecation warnings with Python 3.13
 }
 build() {
 cd $_pyname
