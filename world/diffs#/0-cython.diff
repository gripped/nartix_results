--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,7 +1,7 @@
 
 pkgname=cython
-pkgver=3.0.12
-pkgrel=1
+pkgver=3.0.11
+pkgrel=2
 pkgdesc='C-Extensions for Python'
 arch=(x86_64)
 url='https://cython.org'
@@ -18,8 +18,15 @@
               python-numpy
               python-pytest
               python-tests)
-source=(git+https://github.com/cython/cython#tag=$pkgver)
-sha256sums=('903f0cde1b595019edd5a49d4f991c1636ff4fe5e72cc9678cb2985c41c00836')
+source=(git+https://github.com/cython/cython#tag=$pkgver
+        numpy-2.patch)
+sha256sums=('8f6bc386d85aaf9bbab8174bc3f8c771204b0bedacd6e7502261a5fdcc4d9c75'
+            '6f98a6cc46d0d65a01a1fb5ac9f40e6d2612f80a34ad8e95bd9ad1116e24855d')
+
+prepare() {
+  cd cython
+  patch -p1 -i ../numpy-2.patch # Fix tests with numpy 2
+}
 
 build() {
   cd cython


############# Stripped diff below #################



--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,3 +1,7 @@
+prepare() {
+cd cython
+patch -p1 -i ../numpy-2.patch # Fix tests with numpy 2
+}
 build() {
 cd cython
 python -m build --wheel --no-isolation
