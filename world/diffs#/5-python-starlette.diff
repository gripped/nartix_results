--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,7 +1,7 @@
 
 _name=starlette
 pkgname=python-$_name
-pkgver=0.38.1
+pkgver=0.37.2
 pkgrel=1
 pkgdesc='The little ASGI framework that shines'
 arch=(any)
@@ -10,6 +10,7 @@
 depends=(
   python
   python-anyio
+  python-typing_extensions
 )
 makedepends=(
   python-build
@@ -32,6 +33,7 @@
   python-sqlalchemy
 )
 optdepends=(
+  'python-exceptiongroup: for collapsing exceptions'
   'python-itsdangerous: for session middleware support'
   'python-jinja: for jinja templates'
   'python-python-multipart: for form parsing'
@@ -39,13 +41,8 @@
   'python-httpx: for test client'
 )
 source=($_name-$pkgver.tar.gz::$url/archive/$pkgver.tar.gz)
-sha512sums=('a7f6415a2fb3640a7f6568fc8d115a04b43ca93f9cff189802d79c1c2c33d3a6eaa631a04c871e4897d9c9d260d2b410095813ec90a86b8c1a23696608f30148')
-b2sums=('79ab91120ac9739e438c6fb52f36c7b2b011ad9b12dbe7f6b883b19e58d76189da4cbb3f42e8d0ffba957b225596f6a938862dd577962b2f9b7114c2105f3de3')
-
-prepare() {
-  cd $_name-$pkgver
-  sed -i '/"error"/d' pyproject.toml
-}
+sha512sums=('27240c706553e610da05cfc92f818c61e97a891ea7c960fef925a122100a61931cbca973a0995aa1e79d192cda2250139f471929a3f4a7b0f4600d00b6287744')
+b2sums=('489fe0d3148f8f006d32d3e52e82cc2c07d9b1a8e3a3cadabe2aa2eb9dd7e00b35e2093dc1de0cb4a6a4606395ed4d19b26778686216a7f8b55a15e61701c9da')
 
 build() {
   cd $_name-$pkgver


############# Stripped diff below #################

--- arch_depends
+++ artix_depends
@@ -3,4 +3,5 @@
 python-build
 python-hatchling
 python-installer
+python-typing_extensions
 python-wheel

--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,7 +1,3 @@
-prepare() {
-cd $_name-$pkgver
-sed -i '/"error"/d' pyproject.toml
-}
 build() {
 cd $_name-$pkgver
 python -m build --wheel --no-isolation
