--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,39 +1,39 @@
 
 pkgname=zenity
-pkgver=4.0.2
+pkgver=4.0.1
 pkgrel=1
 pkgdesc="Display graphical dialog boxes from shell scripts"
 url="https://gitlab.gnome.org/GNOME/zenity"
 arch=(x86_64)
 license=(LGPL-2.1-or-later)
 depends=(
-  gcc-libs
-  glib2
-  glibc
-  gtk4
-  hicolor-icon-theme
   libadwaita
-  pango
 )
 makedepends=(
   git
-  glib2-devel
   help2man
   meson
   util-linux
   yelp-tools
 )
-source=(
-  "git+$url.git#tag=$pkgver"
-)
-b2sums=('5d99c70fec39102d93a33832615a2b58107792ad2478b20d5e75642b3c9baff6f80df8c4e8e75ecf749513758c6208cf586b4b0251e1caf446b8b1ea6452600f')
+_commit=34366d85f2d408e5f74cb688a392fd85cd22548c  # tags/4.0.1^0
+source=("git+https://gitlab.gnome.org/GNOME/zenity.git#commit=$_commit")
+b2sums=('SKIP')
+
+pkgver() {
+  cd zenity
+  git describe --tags | sed 's/-real//;s/[^-]*-g/r&/;s/-/+/g'
+}
 
 prepare() {
   cd zenity
 }
 
 build() {
-  arch-meson zenity build
+  local meson_options=(
+  )
+
+  artix-meson zenity build "${meson_options[@]}"
   meson compile -C build
 }
 


############# Stripped diff below #################

--- arch_depends
+++ artix_depends
@@ -1,13 +1,6 @@
-gcc-libs
 git
-glib2
-glib2-devel
-glibc
-gtk4
 help2man
-hicolor-icon-theme
 libadwaita
 meson
-pango
 util-linux
 yelp-tools

--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -2,6 +2,8 @@
 cd zenity
 }
 build() {
-arch-meson zenity build
+local meson_options=(
+)
+artix-meson zenity build "${meson_options[@]}"
 meson compile -C build
 }
