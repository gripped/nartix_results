--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -17,8 +17,7 @@
   mesa-docs
 )
 pkgver=25.2.5
-_pkgver=${pkgver/[a-z]/-&}
-pkgrel=2
+pkgrel=1
 epoch=1
 pkgdesc="Open-source OpenGL drivers"
 url="https://www.mesa3d.org/"
@@ -49,7 +48,6 @@
   rust
   spirv-llvm-translator
   spirv-tools
-  systemd-libs
   vulkan-icd-loader
   wayland
   xcb-util-keysyms
@@ -81,9 +79,7 @@
   !lto
 )
 source=(
-  "https://archive.mesa3d.org/mesa-$_pkgver.tar.xz"{,.sig}
-
-  0001-anv-fix-FS-output-attachment-map-building.patch
+  "https://archive.mesa3d.org/mesa-$pkgver.tar.xz"{,.sig}
 )
 validpgpkeys=(
   946D09B5E4C9845E63075FF1D961C596A7203456 # Andres Gomez <tanty@igalia.com>
@@ -139,7 +135,6 @@
 
 b2sums=('375237d23918e09b7dab4f4abd2c3b24a046521d6e247043c5fbeb7d8a33d71471b23572d254f0ad489a2533094568ef6f067a57977a7ccc1805aa735c3f8b7d'
         'SKIP'
-        'ee9be38d036aad299b3ecd32b2ca3fca5534c6ab329bb0d9f841ce5911d5f6a0fcdab2219b7a3a849f585863c313465ea3160e201b23ce3a80a2bfeaaabd06bc'
         '431439d31632d177aeb15f910b4f546efa76d54fc74fc8e140399dc5e54eca33fd606f11dbfb48fa83067c8474ee512e62751895d5948367b65ab08b984284e5'
         'a6d47c903be6094423d89b8ec3ca899d0a84df6dbd6e76632bb6c9b9f40ad9c216f8fa400310753d392f85072756b43ac3892e0a2c4d55f87ab6463002554823'
         '9a73962e1e38b84131ab2350b69a1f5d611c549533eec73e898c394a9b9442f357bb5d5f59e1be12270dd29bdf237dc2d21786c0c2210736e224ef5d48300dcf'
@@ -170,7 +165,6 @@
 
 sha256sums=('bb6243e7a6f525febfa1e6ab50827ca4d4bfdad73812377b0ca9b6c50998b03e'
             'SKIP'
-            '58e81f7d5f38c837f6414f4eb8ba150b21309d02a2060559556e47a3c67cc2fe'
             '67914ab451f3bfd2e69e5e9d2ef3858484e7074d63f204fd166ec391b54de21d'
             'ed646292ffc8188ef8ea4d1e0e0150fb15a5c2e12ad9b8fc191ae7a8a7f3c4b9'
             '7f9f832470494906d1fca5329f8ab5791cc60beb230c74815dff541cbd2b5ca0'
@@ -200,7 +194,7 @@
             '25aa4ce346d03a6dcd68dd8b4010bcb74e54e62c90c573f394c46eae99aba32d')
 
 prepare() {
-  cd mesa-$_pkgver
+  cd mesa-$pkgver
 
   local src
   for src in "${source[@]}"; do
@@ -212,7 +206,7 @@
     patch -Np1 < "../$src"
   done
 
-  echo "$_pkgver-arch$epoch.$pkgrel" >VERSION
+  echo "$pkgver-arch$epoch.$pkgrel" >VERSION
 }
 
 build() {
@@ -224,7 +218,7 @@
     -D gallium-mediafoundation=disabled
     -D gallium-rusticl=true
     -D gles1=disabled
-    -D html-docs=enabled
+    -D html-docs=disabled
     -D intel-rt=enabled
     -D libunwind=disabled
     -D microsoft-clc=disabled
@@ -240,7 +234,7 @@
 
   export MESON_PACKAGE_CACHE_DIR="$srcdir"
 
-  arch-meson mesa-$_pkgver build "${meson_options[@]}"
+  artix-meson mesa-$pkgver build "${meson_options[@]}"
   meson compile -C build
 }
 
@@ -341,12 +335,11 @@
     _pick vklayer usr/bin/mesa-*-control.py
     _pick vklayer usr/share/vulkan/explicit_layer.d
 
-    _pick docs usr/share/doc
 
     ln -sr $libdir/libGLX_{mesa,indirect}.so.0
   )
 
-  install -Dm644 mesa-$_pkgver/docs/license.rst -t "$pkgdir/usr/share/licenses/$pkgname"
+  install -Dm644 mesa-$pkgver/docs/license.rst -t "$pkgdir/usr/share/licenses/$pkgname"
 }
 
 package_opencl-mesa() {
@@ -379,7 +372,7 @@
 
   mv opencl/* "$pkgdir"
 
-  install -Dm644 mesa-$_pkgver/docs/license.rst -t "$pkgdir/usr/share/licenses/$pkgname"
+  install -Dm644 mesa-$pkgver/docs/license.rst -t "$pkgdir/usr/share/licenses/$pkgname"
 }
 
 package_vulkan-asahi() {
@@ -393,7 +386,6 @@
     libxcb
     libxshmfence
     spirv-tools
-    systemd-libs
     vulkan-icd-loader
     vulkan-mesa-device-select
     wayland
@@ -406,7 +398,7 @@
 
   mv vkasahi/* "$pkgdir"
 
-  install -Dm644 mesa-$_pkgver/docs/license.rst -t "$pkgdir/usr/share/licenses/$pkgname"
+  install -Dm644 mesa-$pkgver/docs/license.rst -t "$pkgdir/usr/share/licenses/$pkgname"
 }
 
 package_vulkan-dzn() {
@@ -420,7 +412,6 @@
     libxcb
     libxshmfence
     spirv-tools
-    systemd-libs
     vulkan-icd-loader
     vulkan-mesa-device-select
     wayland
@@ -433,7 +424,7 @@
 
   mv vkd3d12/* "$pkgdir"
 
-  install -Dm644 mesa-$_pkgver/docs/license.rst -t "$pkgdir/usr/share/licenses/$pkgname"
+  install -Dm644 mesa-$pkgver/docs/license.rst -t "$pkgdir/usr/share/licenses/$pkgname"
 }
 
 package_vulkan-freedreno() {
@@ -447,7 +438,6 @@
     libxcb
     libxshmfence
     spirv-tools
-    systemd-libs
     vulkan-icd-loader
     vulkan-mesa-device-select
     wayland
@@ -460,7 +450,7 @@
 
   mv vkfdreno/* "$pkgdir"
 
-  install -Dm644 mesa-$_pkgver/docs/license.rst -t "$pkgdir/usr/share/licenses/$pkgname"
+  install -Dm644 mesa-$pkgver/docs/license.rst -t "$pkgdir/usr/share/licenses/$pkgname"
 }
 
 package_vulkan-gfxstream() {
@@ -473,7 +463,6 @@
     libx11
     libxcb
     libxshmfence
-    systemd-libs
     vulkan-icd-loader
     vulkan-mesa-device-select
     wayland
@@ -484,7 +473,7 @@
 
   mv vkgfxstr/* "$pkgdir"
 
-  install -Dm644 mesa-$_pkgver/docs/license.rst -t "$pkgdir/usr/share/licenses/$pkgname"
+  install -Dm644 mesa-$pkgver/docs/license.rst -t "$pkgdir/usr/share/licenses/$pkgname"
 }
 
 package_vulkan-intel() {
@@ -498,7 +487,6 @@
     libxcb
     libxshmfence
     spirv-tools
-    systemd-libs
     vulkan-icd-loader
     vulkan-mesa-device-select
     wayland
@@ -511,7 +499,7 @@
 
   mv vkintel/* "$pkgdir"
 
-  install -Dm644 mesa-$_pkgver/docs/license.rst -t "$pkgdir/usr/share/licenses/$pkgname"
+  install -Dm644 mesa-$pkgver/docs/license.rst -t "$pkgdir/usr/share/licenses/$pkgname"
 }
 
 package_vulkan-nouveau() {
@@ -525,7 +513,6 @@
     libxcb
     libxshmfence
     spirv-tools
-    systemd-libs
     vulkan-icd-loader
     vulkan-mesa-device-select
     wayland
@@ -538,7 +525,7 @@
 
   mv vknvidia/* "$pkgdir"
 
-  install -Dm644 mesa-$_pkgver/docs/license.rst -t "$pkgdir/usr/share/licenses/$pkgname"
+  install -Dm644 mesa-$pkgver/docs/license.rst -t "$pkgdir/usr/share/licenses/$pkgname"
 }
 
 package_vulkan-radeon() {
@@ -554,7 +541,6 @@
     libxshmfence
     llvm-libs
     spirv-tools
-    systemd-libs
     vulkan-icd-loader
     vulkan-mesa-device-select
     wayland
@@ -567,7 +553,7 @@
 
   mv vkradeon/* "$pkgdir"
 
-  install -Dm644 mesa-$_pkgver/docs/license.rst -t "$pkgdir/usr/share/licenses/$pkgname"
+  install -Dm644 mesa-$pkgver/docs/license.rst -t "$pkgdir/usr/share/licenses/$pkgname"
 }
 
 package_vulkan-swrast() {
@@ -582,7 +568,6 @@
     libxshmfence
     llvm-libs
     spirv-tools
-    systemd-libs
     vulkan-icd-loader
     vulkan-mesa-device-select
     wayland
@@ -597,7 +582,7 @@
 
   mv vkswrast/* "$pkgdir"
 
-  install -Dm644 mesa-$_pkgver/docs/license.rst -t "$pkgdir/usr/share/licenses/$pkgname"
+  install -Dm644 mesa-$pkgver/docs/license.rst -t "$pkgdir/usr/share/licenses/$pkgname"
 }
 
 package_vulkan-virtio() {
@@ -610,7 +595,6 @@
     libx11
     libxcb
     libxshmfence
-    systemd-libs
     vulkan-icd-loader
     vulkan-mesa-device-select
     wayland
@@ -623,7 +607,7 @@
 
   mv vkvirtio/* "$pkgdir"
 
-  install -Dm644 mesa-$_pkgver/docs/license.rst -t "$pkgdir/usr/share/licenses/$pkgname"
+  install -Dm644 mesa-$pkgver/docs/license.rst -t "$pkgdir/usr/share/licenses/$pkgname"
 }
 
 package_vulkan-mesa-device-select() {
@@ -637,7 +621,7 @@
 
   mv vkdevice/* "$pkgdir"
 
-  install -Dm644 mesa-$_pkgver/docs/license.rst -t "$pkgdir/usr/share/licenses/$pkgname"
+  install -Dm644 mesa-$pkgver/docs/license.rst -t "$pkgdir/usr/share/licenses/$pkgname"
 }
 
 package_vulkan-mesa-layers() {
@@ -654,14 +638,13 @@
 
   mv vklayer/* "$pkgdir"
 
-  install -Dm644 mesa-$_pkgver/docs/license.rst -t "$pkgdir/usr/share/licenses/$pkgname"
+  install -Dm644 mesa-$pkgver/docs/license.rst -t "$pkgdir/usr/share/licenses/$pkgname"
 }
 
 package_mesa-docs() {
   pkgdesc="Mesa's documentation"
 
-  mv docs/* "$pkgdir"
-
-  install -Dm644 mesa-$_pkgver/docs/license.rst -t "$pkgdir/usr/share/licenses/$pkgname"
-}
-
+
+  install -Dm644 mesa-$pkgver/docs/license.rst -t "$pkgdir/usr/share/licenses/$pkgname"
+}
+


############# Stripped diff below #################

--- arch_depends
+++ artix_depends
@@ -37,7 +37,6 @@
 rust-bindgen
 spirv-llvm-translator
 spirv-tools
-systemd-libs
 valgrind
 vulkan-icd-loader
 vulkan-mesa-device-select