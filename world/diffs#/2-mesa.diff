--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -14,7 +14,7 @@
   mesa-docs
 )
 pkgver=25.2.1
-pkgrel=3
+pkgrel=2
 epoch=1
 pkgdesc="Open-source OpenGL drivers"
 url="https://www.mesa3d.org/"
@@ -45,7 +45,6 @@
   rust
   spirv-llvm-translator
   spirv-tools
-  systemd-libs
   vulkan-icd-loader
   wayland
   xcb-util-keysyms
@@ -67,7 +66,6 @@
   wayland-protocols
   xorgproto
 
-  sysprof
   valgrind
 
   python-sphinx
@@ -78,8 +76,6 @@
 )
 source=(
   "https://archive.mesa3d.org/mesa-$pkgver.tar.xz"{,.sig}
-
-  0001-util-perf-Fix-sysprof-TLS-destructor-crash-on-librar.patch
 )
 validpgpkeys=(
   946D09B5E4C9845E63075FF1D961C596A7203456 # Andres Gomez <tanty@igalia.com>
@@ -135,7 +131,6 @@
 
 b2sums=('f7dd9dd570bc21def5b829747854143eef5fed50bbe01d17c91a0b28ae71251001d8de116347ec62578aaf7381b5f12584995ff17dab3ed33f4f678246c431f7'
         'SKIP'
-        'e097cd0d5af09e7dab9ee31331a95a51a36ee6253b2df8b7bca441c04ea42ada9e9cedf39055bc9cd0f1eacfa191373231a8a7cb63186a6d1ceb207e8e4ab9aa'
         '431439d31632d177aeb15f910b4f546efa76d54fc74fc8e140399dc5e54eca33fd606f11dbfb48fa83067c8474ee512e62751895d5948367b65ab08b984284e5'
         'a6d47c903be6094423d89b8ec3ca899d0a84df6dbd6e76632bb6c9b9f40ad9c216f8fa400310753d392f85072756b43ac3892e0a2c4d55f87ab6463002554823'
         '9a73962e1e38b84131ab2350b69a1f5d611c549533eec73e898c394a9b9442f357bb5d5f59e1be12270dd29bdf237dc2d21786c0c2210736e224ef5d48300dcf'
@@ -166,7 +161,6 @@
 
 sha256sums=('c124372189d35f48e049ee503029171c68962c580971cb86d968a6771c965ba4'
             'SKIP'
-            '3d7ad92fd3aa3c467d7495a09ba063e5667de970e20fd8fd7c8a02517ce7c117'
             '67914ab451f3bfd2e69e5e9d2ef3858484e7074d63f204fd166ec391b54de21d'
             'ed646292ffc8188ef8ea4d1e0e0150fb15a5c2e12ad9b8fc191ae7a8a7f3c4b9'
             '7f9f832470494906d1fca5329f8ab5791cc60beb230c74815dff541cbd2b5ca0'
@@ -224,7 +218,7 @@
     -D intel-rt=enabled
     -D libunwind=disabled
     -D microsoft-clc=disabled
-    -D sysprof=true
+    -D sysprof=false
     -D valgrind=enabled
     -D video-codecs=all
     -D vulkan-drivers=amd,gfxstream,intel,intel_hasvk,nouveau,swrast,virtio,microsoft-experimental
@@ -236,7 +230,7 @@
 
   export MESON_PACKAGE_CACHE_DIR="$srcdir"
 
-  arch-meson mesa-$pkgver build "${meson_options[@]}"
+  artix-meson mesa-$pkgver build "${meson_options[@]}"
   meson compile -C build
 }
 
@@ -380,7 +374,6 @@
     libxcb
     libxshmfence
     spirv-tools
-    systemd-libs
     vulkan-icd-loader
     wayland
     xcb-util-keysyms
@@ -405,7 +398,6 @@
     libx11
     libxcb
     libxshmfence
-    systemd-libs
     vulkan-icd-loader
     wayland
     xcb-util-keysyms
@@ -429,7 +421,6 @@
     libxcb
     libxshmfence
     spirv-tools
-    systemd-libs
     vulkan-icd-loader
     wayland
     xcb-util-keysyms
@@ -455,7 +446,6 @@
     libxcb
     libxshmfence
     spirv-tools
-    systemd-libs
     vulkan-icd-loader
     wayland
     xcb-util-keysyms
@@ -483,7 +473,6 @@
     libxshmfence
     llvm-libs
     spirv-tools
-    systemd-libs
     vulkan-icd-loader
     wayland
     xcb-util-keysyms
@@ -510,7 +499,6 @@
     libxshmfence
     llvm-libs
     spirv-tools
-    systemd-libs
     vulkan-icd-loader
     wayland
     xcb-util-keysyms
@@ -537,7 +525,6 @@
     libx11
     libxcb
     libxshmfence
-    systemd-libs
     vulkan-icd-loader
     wayland
     xcb-util-keysyms


############# Stripped diff below #################

--- arch_depends
+++ artix_depends
@@ -36,8 +36,6 @@
 rust-bindgen
 spirv-llvm-translator
 spirv-tools
-sysprof
-systemd-libs
 valgrind
 vulkan-icd-loader
 wayland