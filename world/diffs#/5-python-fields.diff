--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,37 +1,38 @@
 
+pkgbase=python-fields
 pkgname=python-fields
 pkgver=5.0.0
-pkgrel=20
+pkgrel=19
 arch=('any')
 pkgdesc='A totally different take on container boilerplate'
 url='https://github.com/ionelmc/python-fields'
 license=('BSD-2-Clause')
 depends=('python')
-makedepends=('git' 'python-build' 'python-installer' 'python-setuptools' 'python-wheel')
+makedepends=('python-setuptools')
 checkdepends=('python-pytest' 'python-attrs')
-source=("git+https://github.com/ionelmc/python-fields.git#tag=v$pkgver"
+source=("$pkgbase-$pkgver.tar.gz::https://github.com/ionelmc/python-fields/archive/v$pkgver.tar.gz"
         python310.patch)
-sha512sums=('03de8991f025dee62fefbbbb57d7ab9fca9bbdaf46b317110be2673cba714ef851e5a180998ddf12d957217be2e82b3fcc870ab8088085a73d0ef214269b6b38'
+sha512sums=('feaba23b98271936d6dae20b1001978483c0fe89ccf217637fac536ae5814c2c02bac1c3ddc2a86dc0d2419a3b3658871018c0ea4b7905e1c2649aa905b8e5a3'
             '72876eba870204558d4f1a8216be5e2240406e669929605919b1adeb03a9cf230909d7658c26197189e61bd4005bcb00665c652bff6f14a97cdff881e6b45f80')
 
 prepare() {
-  cd python-fields
+  cd $pkgname-$pkgver
   patch -Np1 -i ../python310.patch
   sed -i 's/\[pytest\]/[tool:pytest]/;s/--benchmark-disable//' setup.cfg
 }
 
 build() {
-  cd python-fields
-  python -m build --wheel --no-isolation
+  cd "$srcdir"/python-fields-$pkgver
+  python setup.py build
 }
 
 check() {
-  cd python-fields
+  cd "$srcdir"/python-fields-$pkgver
   PYTHONPATH=src python -m pytest --ignore=tests/test_perf.py tests
 }
 
-package() {
-  cd python-fields
-  python -m installer --destdir="$pkgdir" dist/*.whl
-  install -Dm644 LICENSE -t "$pkgdir"/usr/share/licenses/$pkgname/
+package_python-fields() {
+  cd python-fields-$pkgver
+  python setup.py install --root "$pkgdir" --optimize=1
+  install -D -m644 LICENSE "$pkgdir"/usr/share/licenses/$pkgname/LICENSE
 }


############# Stripped diff below #################

--- arch_depends
+++ artix_depends
@@ -1,6 +1,2 @@
-git
 python
-python-build
-python-installer
 python-setuptools
-python-wheel

--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,9 +1,9 @@
 prepare() {
-cd python-fields
+cd $pkgname-$pkgver
 patch -Np1 -i ../python310.patch
 sed -i 's/\[pytest\]/[tool:pytest]/;s/--benchmark-disable//' setup.cfg
 }
 build() {
-cd python-fields
-python -m build --wheel --no-isolation
+cd "$srcdir"/python-fields-$pkgver
+python setup.py build
 }
