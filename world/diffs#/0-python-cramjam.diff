--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,6 +1,7 @@
 
 pkgname=python-cramjam
-pkgver=2.10.0
+_pkgname=${pkgname#python-}
+pkgver=2.9.1
 pkgrel=1
 pkgdesc="Thin Python bindings to de/compression algorithms in Rust"
 arch=(x86_64)
@@ -26,25 +27,25 @@
   python-pytest
 )
 options=(!lto)
-source=("$url/archive/$pkgver/${pkgname#python-}-$pkgver.tar.gz")
-sha256sums=('77a835c97018b1228aa51fd95acde8d343a346d1dcaa47f660d9ffac502407b6')
+source=("$pkgname-$pkgver.tar.gz::$url/archive/v$pkgver.tar.gz")
+sha256sums=('12cb9e3a483f5b12ffece71cd207f1d70f7e661ca27d1d26aeaaf56d65c009ee')
 
 build() {
-  cd ${pkgname#python-}-$pkgver
+  cd "$_pkgname-$pkgver"
   export RUSTUP_TOOLCHAIN=stable
   python -m build --wheel --no-isolation
 }
 
 check() {
-  cd ${pkgname#python-}-$pkgver
-  python -m venv --system-site-packages test-env
-  test-env/bin/python -m installer dist/*.whl
-  test-env/bin/python -m pytest -vv --ignore=benchmarks/ \
-    --deselect='tests/test_variants.py::test_variants_decompress_into[brotli-File-Buffer]'
+  cd "$_pkgname-$pkgver"
+  local site_packages=$(python -c "import site; print(site.getsitepackages()[0])")
+  python -m installer --destdir=tmp_install dist/*.whl
+  PYTHONPATH="$PWD/tmp_install/$site_packages" pytest \
+    --ignore=benchmarks/
 }
 
 package() {
-  cd ${pkgname#python-}-$pkgver
+  cd "$_pkgname-$pkgver"
   python -m installer --destdir="$pkgdir" dist/*.whl
   install -vDm644 -t "$pkgdir/usr/share/licenses/$pkgname" LICENSE
 }


############# Stripped diff below #################



--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,5 +1,5 @@
 build() {
-cd ${pkgname#python-}-$pkgver
+cd "$_pkgname-$pkgver"
 export RUSTUP_TOOLCHAIN=stable
 python -m build --wheel --no-isolation
 }
