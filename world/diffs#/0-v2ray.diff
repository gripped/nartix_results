--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,6 +1,7 @@
 
 pkgname=v2ray
-pkgver=5.19.0
+pkgver=5.18.0
+_commit=8b36010fc2b9786e871762146506df42dffb16bb
 pkgrel=1
 pkgdesc="A platform for building proxies to bypass network restrictions"
 arch=('x86_64')
@@ -9,13 +10,8 @@
 depends=('glibc' 'v2ray-domain-list-community' 'v2ray-geoip')
 makedepends=('go' 'git')
 backup=(etc/v2ray/config.json)
-source=("git+https://github.com/v2fly/v2ray-core.git#tag=v$pkgver")
-sha512sums=('547d386ec4f3ce5f3b590e1b4387e248c84dc0bab46d8e68dc7da466a1a22f04cdebfa50d18110ec2dddd60872d583df0788a963504352f24a9c5ddc7e995869')
-
-prepare() {
-  cd v2ray-core
-  sed -i 's|/usr/local/bin|/usr/bin|;s|/usr/local/etc|/etc|' release/config/systemd/system/*.service
-}
+source=("git+https://github.com/v2fly/v2ray-core.git#commit=$_commit")
+sha512sums=('89743e8a6e24344a49e99f7fdfd9fc75f7931210816f2292e113d5dbcc8410e0972b144066ae7ab8a2fa41ba7cad097d1572966a462dac349d429684796b77d4')
 
 build() {
   cd v2ray-core
@@ -34,8 +30,6 @@
 package() {
   cd v2ray-core
   install -Dm644 LICENSE -t "$pkgdir"/usr/share/licenses/v2ray/
-  install -Dm644 release/config/systemd/system/v2ray.service -t "$pkgdir"/usr/lib/systemd/system/
-  install -Dm644 release/config/systemd/system/v2ray@.service -t "$pkgdir"/usr/lib/systemd/system/
   install -Dm644 release/config/*.json -t "$pkgdir"/etc/v2ray/
   install -Dm755 v2ray -t "$pkgdir"/usr/bin/
 }


############# Stripped diff below #################



--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,7 +1,3 @@
-prepare() {
-cd v2ray-core
-sed -i 's|/usr/local/bin|/usr/bin|;s|/usr/local/etc|/etc|' release/config/systemd/system/*.service
-}
 build() {
 cd v2ray-core
 export GOFLAGS="-buildmode=pie -trimpath -ldflags=-linkmode=external"
