--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,29 +1,32 @@
 
 pkgname=perl-capture-tiny
-pkgver=0.50
-pkgrel=1
+_realname=Capture-Tiny
+pkgver=0.48
+pkgrel=9
 pkgdesc="Capture STDOUT and STDERR from Perl, XS or external programs"
-url="https://metacpan.org/dist/Capture-Tiny"
 arch=(any)
-license=(Apache-2.0)
+license=(PerlArtistic GPL)
 depends=(perl)
+url="https://metacpan.org/release/Capture-Tiny"
 options=('!emptydirs')
-source=(https://cpan.metacpan.org/authors/id/D/DA/DAGOLDEN/Capture-Tiny-$pkgver.tar.gz)
-b2sums=('a4d857e6e7238b599afc500516d13d10a7eb060922981d5eb0d6be24c98875ba490c4f2d66b340339d61d5731cf663da0222dc02793a00bf304f3b20146da826')
+source=("https://cpan.metacpan.org/authors/id/D/DA/DAGOLDEN/$_realname-$pkgver.tar.gz")
+sha256sums=('6c23113e87bad393308c90a207013e505f659274736638d8c79bac9c67cc3e19')
 
 build() {
-  cd Capture-Tiny-$pkgver
-  perl Makefile.PL INSTALLDIRS=vendor
+  cd $_realname-$pkgver
+  PERL_MM_USE_DEFAULT=1 perl Makefile.PL INSTALLDIRS=vendor
   make
 }
 
 check() {
-  cd Capture-Tiny-$pkgver
+  cd $_realname-$pkgver
+  unset PERL5LIB PERL_MM_OPT PERL_MB_OPT PERL_LOCAL_LIB_ROOT
+  export PERL_MM_USE_DEFAULT=1
   make test
 }
 
 package() {
-  cd Capture-Tiny-$pkgver
+  cd $_realname-$pkgver
   make DESTDIR="$pkgdir" install
 }
 


############# Stripped diff below #################



--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,5 +1,5 @@
 build() {
-cd Capture-Tiny-$pkgver
-perl Makefile.PL INSTALLDIRS=vendor
+cd $_realname-$pkgver
+PERL_MM_USE_DEFAULT=1 perl Makefile.PL INSTALLDIRS=vendor
 make
 }
