--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,33 +1,35 @@
 
 pkgname=gupnp-igd
 pkgver=1.6.0
-pkgrel=1
-pkgdesc="A library to handle UPnP IGD port mapping"
+pkgrel=2
+pkgdesc="Library to handle UPnP IGD port mapping"
 url="https://wiki.gnome.org/Projects/GUPnP"
 arch=(x86_64)
-license=(LGPL)
-depends=(gupnp)
+license=(LGPL-2.1-or-later)
+depends=(
+  glibc
+  gupnp
+)
 makedepends=(
   git
+  glib2-devel
   gobject-introspection
   gtk-doc
   meson
 )
-_commit=e60764858374d776869605d39e5e4d1033e9ad4a  # tags/1.6.0^0
-source=("git+https://gitlab.gnome.org/GNOME/gupnp-igd.git#commit=$_commit")
-b2sums=('SKIP')
-
-pkgver() {
-  cd $pkgname
-  git describe --tags | sed 's/[^-]*-g/r&/;s/-/+/g'
-}
+source=("git+https://gitlab.gnome.org/GNOME/gupnp-igd.git#tag=$pkgver")
+b2sums=('cd630573188d5b683628b4322bf0ef28580b4746fb07b8a3ad1830b25e133dae5e31f33624cba85fe68aeadb371e51b0063c7f61bd2b2b3fbdbd36396dbeced1')
 
 prepare() {
   cd $pkgname
 }
 
 build() {
-  arch-meson $pkgname build -D gtk_doc=true
+  local meson_options=(
+    -D gtk_doc=true
+  )
+
+  artix-meson $pkgname build "${meson_options[@]}"
   meson compile -C build
 }
 
@@ -36,7 +38,10 @@
 }
 
 package() {
-  depends+=(libg{lib,object,io}-2.0.so libg{ssdp,upnp}-1.6.so)
+  depends+=(
+    libg{lib,object,io}-2.0.so
+    libg{ssdp,upnp}-1.6.so
+  )
   provides+=(libgupnp-igd-1.6.so)
 
   meson install -C build --destdir "$pkgdir"


############# Stripped diff below #################

--- arch_depends
+++ artix_depends
@@ -1,4 +1,6 @@
 git
+glib2-devel
+glibc
 gobject-introspection
 gtk-doc
 gupnp

--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -2,6 +2,9 @@
 cd $pkgname
 }
 build() {
-arch-meson $pkgname build -D gtk_doc=true
+local meson_options=(
+-D gtk_doc=true
+)
+artix-meson $pkgname build "${meson_options[@]}"
 meson compile -C build
 }
