--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,9 +1,7 @@
 
-pkgbase=suitesparse
-pkgname=(suitesparse
-         suitesparse-graphblas)
+pkgname=suitesparse
 pkgver=7.7.0
-pkgrel=2
+pkgrel=1
 pkgdesc='A collection of sparse matrix libraries'
 url='http://faculty.cse.tamu.edu/davis/suitesparse.html'
 arch=(x86_64)
@@ -14,15 +12,14 @@
          lapack
          mpfr)
 makedepends=(cmake
-             gcc-fortran
-             git)
+             gcc-fortran)
 replaces=('suitesparse64<7.1.0')
 license=(GPL)
-source=(git+https://github.com/DrTimothyAldenDavis/SuiteSparse#tag=v$pkgver)
-sha256sums=('4604c5c6d606fe5157cf68f06e1db69282577abe96ce6562058c083ead534a35')
+source=(https://github.com/DrTimothyAldenDavis/SuiteSparse/archive/v$pkgver/$pkgname-$pkgver.tar.gz)
+sha256sums=('529b067f5d80981f45ddf6766627b8fc5af619822f068f342aab776e683df4f3')
 
 build() {
-  cd SuiteSparse
+  cd SuiteSparse-$pkgver
   CMAKE_OPTIONS="-DBLA_VENDOR=Generic \
                  -DCMAKE_INSTALL_PREFIX=/usr \
                  -DCMAKE_BUILD_TYPE=None \
@@ -30,22 +27,7 @@
   make
 }
 
-package_suitesparse() {
-  cd SuiteSparse
+package() {
+  cd SuiteSparse-$pkgver
   DESTDIR="$pkgdir" make install
-
-  rm -r "$pkgdir"/usr/lib/lib{graphblas,lagraph,lagraphx}.so* \
-        "$pkgdir"/usr/include/suitesparse/{GraphBLAS,LAGraph,LAGraphX}.h \
-        "$pkgdir"/usr/lib/cmake/{GraphBLAS,LAGraph} \
-        "$pkgdir"/usr/lib/pkgconfig/{GraphBLAS,LAGraph}.pc
 }
-
-package_suitesparse-graphblas() {
-  pkgdesc='Graph algorithms in the language of linear algebra'
-  depends=(gcc-libs
-           glibc)
-
-  cd SuiteSparse
-  DESTDIR="$pkgdir" make install -C GraphBLAS
-  DESTDIR="$pkgdir" make install -C LAGraph
-}


############# Stripped diff below #################

--- arch_depends
+++ artix_depends
@@ -2,7 +2,6 @@
 cmake
 gcc-fortran
 gcc-libs
-git
 glibc
 gmp
 lapack

--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,5 +1,5 @@
 build() {
-cd SuiteSparse
+cd SuiteSparse-$pkgver
 CMAKE_OPTIONS="-DBLA_VENDOR=Generic \
 -DCMAKE_INSTALL_PREFIX=/usr \
 -DCMAKE_BUILD_TYPE=None \
