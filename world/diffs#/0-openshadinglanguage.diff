--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,6 +1,6 @@
 pkgname=openshadinglanguage
-pkgver=1.14.8.0
-pkgrel=1
+pkgver=1.14.7.0
+pkgrel=5
 pkgdesc="Advanced shading language for production GI renderers"
 arch=('x86_64')
 url="https://github.com/imageworks/OpenShadingLanguage"
@@ -9,8 +9,15 @@
          'ncurses' 'clang' 'qt6-base')
 makedepends=('cmake' 'python' 'llvm' 'ninja' 'git')
 optdepends=('python: the Python module')
-source=($pkgname-$pkgver.tar.gz::https://github.com/AcademySoftwareFoundation/OpenShadingLanguage/archive/refs/tags/v${pkgver}.tar.gz)
-sha512sums=('e898276a754eec4882e28741b930782e43ce480fcfa6c7a68867dccb04ec084e532928f70ea0753fc9c5f9600c7c2c715719fe4dd1828a4f8c6fc511d5e31386')
+source=($pkgname-$pkgver.tar.gz::https://github.com/AcademySoftwareFoundation/OpenShadingLanguage/archive/refs/tags/v${pkgver}.tar.gz
+        openshadinglanguage-1.14.6-llvm-21.1.3.patch)
+sha512sums=('b92b64d2120980a330ba19d957e2d1b400684f7779ee60ca80241ab3c3f3df46e07fa1fbbfd7810b6f8f3e2e8775cd105137b7e8c4a28efde39656363b977521'
+            '5519b6b2b032ebeee970db6523a3d67e09d4b9f893e8a2d2c22691ed3790bc1ddc714609e02e4e74cc807ef3bf2779ef3b0a6df013e286755b0ff0ca755d8254')
+
+prepare() {
+  cd OpenShadingLanguage-$pkgver
+  patch -Np1 < ../openshadinglanguage-1.14.6-llvm-21.1.3.patch
+}
 
 build() {
   cd OpenShadingLanguage-$pkgver


############# Stripped diff below #################



--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,3 +1,7 @@
+prepare() {
+cd OpenShadingLanguage-$pkgver
+patch -Np1 < ../openshadinglanguage-1.14.6-llvm-21.1.3.patch
+}
 build() {
 cd OpenShadingLanguage-$pkgver
 cmake \
