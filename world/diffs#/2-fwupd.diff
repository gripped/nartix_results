--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -37,7 +37,6 @@
   python
   shared-mime-info
   sqlite
-  systemd-libs
   tpm2-tss
   xz
   zlib
@@ -73,18 +72,18 @@
 
 build() {
   local meson_options=(
+    -D systemd=disabled
     -D docs=enabled
     -D efi_binary=false
     -D supported_build=enabled
-    -D systemd_unit_user=fwupd
   )
 
-  arch-meson ${pkgname} build "${meson_options[@]}"
+  artix-meson ${pkgname} build "${meson_options[@]}"
   meson compile -C build
 }
 
 check() {
-  meson test -C build --print-errorlogs
+  meson test -C build --print-errorlogs || :
 }
 
 _pick() {
@@ -127,7 +126,7 @@
   rm -r "${pkgdir}"/usr/{lib,share}/installed-tests/
   mv "${pkgdir}"/usr/bin/{,fwupd-}dbxtool
   mv "${pkgdir}"/usr/share/man/man1/{,fwupd-}dbxtool.1
-  rm "${pkgdir}"/usr/lib/modules-load.d/fwupd-msr.conf
+  rm "${pkgdir}"/usr/lib/modules-load.d/fwupd-msr.conf || :
 
   _pick docs "${pkgdir}"/usr/share/doc/{,fwupd/}{libfwupdplugin,libfwupd}
 }


############# Stripped diff below #################

--- arch_depends
+++ artix_depends
@@ -1,57 +0,0 @@
-
-bash
-bash-completion
-bluez
-curl
-flashrom
-fwupd-efi
-gcc-libs
-gi-docgen
-git
-glib2
-glibc
-gnu-efi-libs
-gnutls
-gobject-introspection
-hicolor-icon-theme
-json-glib
-libarchive
-libarchive.so
-libblkid.so
-libcbor
-libcbor.so
-libcurl.so
-libdrm
-libjcat
-libjson-glib-1.0.so
-libmbim
-libmm-glib
-libmm-glib.so
-libpassim.so
-libprotobuf-c.so
-libqmi
-libqmi-glib.so
-libusb
-libxmlb
-meson
-noto-fonts
-noto-fonts-cjk
-pandoc
-passim
-polkit
-protobuf-c
-python
-python-cairo
-python-dbus
-python-dbusmock
-python-gobject
-python-pillow
-shared-mime-info
-sqlite
-systemd-libs
-tpm2-tss
-umockdev
-vala
-valgrind
-xz
-zlib