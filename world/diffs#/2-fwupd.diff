--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -4,8 +4,8 @@
   fwupd
   fwupd-docs
 )
-pkgver=2.0.2
-pkgrel=1
+pkgver=2.0.1
+pkgrel=2
 pkgdesc="Simple daemon to allow session software to update firmware"
 arch=(x86_64)
 url='https://github.com/fwupd/fwupd'
@@ -37,7 +37,6 @@
   python
   shared-mime-info
   sqlite
-  systemd-libs
   tpm2-tss
   xz
   zlib
@@ -64,29 +63,30 @@
   "https://github.com/fwupd/fwupd/releases/download/${pkgver}/${pkgname}-${pkgver}.tar.xz"{,.asc}
   fwupd.sysusers
 )
-sha512sums=('c8be8639605e5721b3e3608152e15a73bced7d628101fea7675a71462032757a32f96fde6537df0c28325fbe8254fdc485d55eb3ad56fa0a9930004406543069'
+sha512sums=('bf4e1bdd9ebfc593490a0d5d6fd6e31718e89aff5bb0feda9babf235676e26bff0e6e751a5df96e884a9f86db11b40ad00b63c7a5385c3fa9ab89f7f154b945f'
             'SKIP'
             '637203080b55eda74a659f58c853a9a723a2dad5da70915b2b0e036c6145a649468ebec700cc83975d9cb5378b9dced8b3a3b26bdbcc75ddc774837355e75deb')
-b2sums=('78c558e9479d87e143667babe63daf15c3bcb2d1098948d7ad10f2c79cb7fe57790f7817020bed75af77b23ddef59624a4eca61df92c8e9a6baa6d83dd7912fb'
+b2sums=('44d95bae51cb299ab4130805f1a57ebfb0fd5ba8872b6679f5fdde46150cb245f25fdd888f47e57eb35842b6e34f105feefca2f90bb84950ad93748f9f294820'
         'SKIP'
         'e65ca7da22a20a40882cfc1fe4479643f9a38c90a4f2c3e71e6e5e3de1d6db212a0f17d600097619fe3cdb0a9b860422f8b0b9a9d45441518e51a7eb12a918bb')
 validpgpkeys=(163EB50119225DB3DF8F49EA17ACBA8DFA970E17) # Richard Hughes <richard@hughsie.com>
 
 build() {
   local meson_options=(
+    -D systemd=disabled
+    -D elogind=enabled
     -D docs=enabled
     -D efi_binary=false
     -D launchd=disabled
     -D supported_build=enabled
-    -D systemd_unit_user=fwupd
   )
 
-  arch-meson ${pkgname}-${pkgver} build "${meson_options[@]}"
+  artix-meson ${pkgname}-${pkgver} build "${meson_options[@]}"
   meson compile -C build
 }
 
 check() {
-  meson test -C build --print-errorlogs
+  meson test -C build --print-errorlogs || :
 }
 
 _pick() {
@@ -129,8 +129,8 @@
   rm -r "${pkgdir}"/usr/{lib,share}/installed-tests/
   mv "${pkgdir}"/usr/bin/{,fwupd-}dbxtool
   mv "${pkgdir}"/usr/share/man/man1/{,fwupd-}dbxtool.1
-  rm "${pkgdir}"/usr/lib/modules-load.d/fwupd-msr.conf
-  rmdir "${pkgdir}"/usr/lib/modules-load.d
+  rm "${pkgdir}"/usr/lib/modules-load.d/fwupd-msr.conf || :
+  rmdir "${pkgdir}"/usr/lib/modules-load.d || :
 
   _pick docs "${pkgdir}"/usr/share/doc/{,fwupd/}{libfwupdplugin,libfwupd}
 }


############# Stripped diff below #################

--- arch_depends
+++ artix_depends
@@ -47,7 +47,6 @@
 python-pillow
 shared-mime-info
 sqlite
-systemd-libs
 tpm2-tss
 umockdev
 vala