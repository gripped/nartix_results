--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,8 +1,8 @@
 
 _pyname=astroid
 pkgname=python-$_pyname
-pkgver=3.3.9
-pkgrel=1
+pkgver=3.3.8
+pkgrel=2
 pkgdesc='A common base representation of python source code'
 arch=(any)
 url="https://github.com/pylint-dev/$_pyname"
@@ -10,8 +10,7 @@
 depends=(python)
 makedepends=(python-{build,installer,wheel}
              python-setuptools)
-checkdepends=(mypy
-              python-attrs
+checkdepends=(python-attrs
               python-dateutil
               python-pyqt6
               python-regex
@@ -22,7 +21,12 @@
 conflicts=(python-logilab-astng)
 _archive="$_pyname-$pkgver"
 source=("$url/archive/v$pkgver/$_archive.tar.gz")
-sha256sums=('b4d4e496b955ddf73243f0649e853bd9719f3446edfe15e98a3e537dd3002900')
+sha256sums=('4fd092083a3cbb72a8e0ddbcb9f9dcd6b2ae068f745cd1c0a6844a6a143ab297')
+
+prepare() {
+	cd "$_archive"
+	sed -i -e '/^requires =/s/~=[0-9.]\+//g' pyproject.toml
+}
 
 build() {
 	cd "$_archive"


############# Stripped diff below #################



--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,3 +1,7 @@
+prepare() {
+cd "$_archive"
+sed -i -e '/^requires =/s/~=[0-9.]\+//g' pyproject.toml
+}
 build() {
 cd "$_archive"
 python -m build -wn
