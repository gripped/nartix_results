--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,15 +1,15 @@
 
 pkgname=mpv
 epoch=1
-pkgver=0.39.0
-pkgrel=5
+pkgver=0.40.0
+pkgrel=1
 pkgdesc='a free, open source, and cross-platform media player'
 arch=('x86_64')
 license=('GPL-2.0-or-later AND LGPL-2.1-or-later')
 url='https://mpv.io/'
 depends=('alsa-lib' 'desktop-file-utils' 'ffmpeg' 'glibc' 'hicolor-icon-theme'
          'jack' 'lcms2' 'libarchive' 'libass' 'libbluray' 'libcdio'
-         'libcdio-paranoia' 'libdrm' 'libdvdnav' 'libdvdread' 'libegl' 'libgl'
+         'libcdio-paranoia' 'libdisplay-info' 'libdrm' 'libdvdnav' 'libdvdread' 'libegl' 'libgl'
          'libglvnd' 'libjpeg-turbo' 'libplacebo' 'libpulse' 'libsixel' 'libva'
          'libvdpau' 'libx11' 'libxext' 'libxkbcommon' 'libxpresent' 'libxrandr'
          'libxss' 'libxv' 'luajit' 'mesa' 'mujs' 'libpipewire' 'rubberband'
@@ -20,15 +20,8 @@
 provides=('libmpv.so')
 options=('!emptydirs')
 validpgpkeys=('145077D82501AA20152CACCE8D769208D5E31419') # sfan5 <sfan5@live.de>
-source=("git+https://github.com/mpv-player/mpv.git#tag=v${pkgver}?signed"
-        'do_not_load_client-rt.conf_properties.patch')
-sha256sums=('51e787dbff240d69227f306685fc962daae215c755689b9de4ef0432ddf4443b'
-            '349c1feeb6f342c6f7e33e59a315e004d4849465665d75f2e9ff4a89e4b70366')
-
-prepare() {
-  cd "${pkgname}"
-  patch -Np1 -i "${srcdir}/do_not_load_client-rt.conf_properties.patch"
-}
+source=("git+https://github.com/mpv-player/mpv.git#tag=v${pkgver}?signed")
+sha256sums=('754d045dba7143b51dd6eb2d32ab3a9a483e6a337e685b581a876bc2e20eddf1')
 
 build() {
   local _meson_options=(
@@ -38,13 +31,14 @@
     -Dgl-x11=enabled
     -Dcaca=disabled
     -Dcdda=enabled
+    -Ddrm=enabled
     -Ddvbin=enabled
     -Ddvdnav=enabled
     -Dlibarchive=enabled
     -Dopenal=enabled
   )
 
-  arch-meson "${pkgname}" build "${_meson_options[@]}"
+  artix-meson "${pkgname}" build "${_meson_options[@]}"
 
   meson compile -C build
 }
@@ -55,7 +49,7 @@
 
 package() {
   depends+=('libasound.so' 'libavcodec.so' 'libavdevice.so' 'libavfilter.so'
-            'libavformat.so' 'libavutil.so' 'libswresample.so' 'libswscale.so'
+            'libavformat.so' 'libavutil.so' 'libdisplay-info.so' 'libswresample.so' 'libswscale.so'
             'libjack.so' 'liblcms2.so' 'libarchive.so' 'libass.so' 'libbluray.so'
             'libjpeg.so' 'libplacebo.so' 'libpulse.so' 'libva.so' 'libva-drm.so'
             'libva-wayland.so' 'libva-x11.so' 'libxkbcommon.so' 'librubberband.so')


############# Stripped diff below #################

--- arch_depends
+++ artix_depends
@@ -22,6 +22,8 @@
 libbluray.so
 libcdio
 libcdio-paranoia
+libdisplay-info
+libdisplay-info.so
 libdrm
 libdvdnav
 libdvdread

--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,7 +1,3 @@
-prepare() {
-cd "${pkgname}"
-patch -Np1 -i "${srcdir}/do_not_load_client-rt.conf_properties.patch"
-}
 build() {
 local _meson_options=(
 --auto-features auto
@@ -9,11 +5,12 @@
 -Dgl-x11=enabled
 -Dcaca=disabled
 -Dcdda=enabled
+-Ddrm=enabled
 -Ddvbin=enabled
 -Ddvdnav=enabled
 -Dlibarchive=enabled
 -Dopenal=enabled
 )
-arch-meson "${pkgname}" build "${_meson_options[@]}"
+artix-meson "${pkgname}" build "${_meson_options[@]}"
 meson compile -C build
 }
