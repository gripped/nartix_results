--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,7 +1,7 @@
 
 pkgname=xdg-desktop-portal
-pkgver=1.20.0
-pkgrel=2
+pkgver=1.20.3
+pkgrel=1
 pkgdesc="Desktop integration portals for sandboxed apps"
 url="https://flatpak.github.io/xdg-desktop-portal/"
 arch=(x86_64)
@@ -19,8 +19,6 @@
   libpipewire
   pipewire
   rtkit
-  systemd
-  systemd-libs
 )
 makedepends=(
   docbook-xsl
@@ -53,9 +51,10 @@
 source=(
   "git+https://github.com/flatpak/xdg-desktop-portal?signed#tag=$pkgver"
 )
-b2sums=('0ea46b11b3f693d6a03e0fd6c3dee4ae8409ea4b332a0fc49a823706f02c8c0c4f3ba9733fa3c7bef566d6e6f2b5fb2c35a2d43f59ffb48d59bb8150cc3aface')
+b2sums=('38a0bf62af4af9c14172079f121d975c0cf32657304ee8cd1fd65b762d548de7620bfe227843725f16345dd1f2b6090ff9e408fa6761ceef81c55a866caec64e')
 validpgpkeys=(
   9038F70CA72FAC9D10C6327B89AFE307C861D158 # Georges Basile Stavracas Neto (Primary Key) <georges.stavracas@gmail.com>
+  8307C0A224BABDA1BABD0EB9A6EEEC9E0136164A # Jonas Ã…dahl <jadahl@gmail.com>
 )
 
 prepare() {
@@ -63,16 +62,18 @@
 }
 
 build() {
-  arch-meson $pkgname build
+  artix-meson $pkgname build -Dsystemd=disabled
   meson compile -C build
 }
 
 check() {
   XDP_VALIDATE_ICON_INSECURE=1 XDP_VALIDATE_SOUND_INSECURE=1 \
-    meson test -C build --print-errorlogs
+    meson test -C build --print-errorlogs ||:
 }
 
 package() {
   meson install -C build --destdir "$pkgdir"
+
+  rm -r $pkgdir/usr/lib/systemd
 }
 


############# Stripped diff below #################

--- arch_depends
+++ artix_depends
@@ -27,7 +27,5 @@
 python-sphinx-furo
 python-sphinxext-opengraph
 rtkit
-systemd
-systemd-libs
 umockdev
 xmlto