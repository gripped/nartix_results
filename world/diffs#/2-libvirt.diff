--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -2,68 +2,47 @@
 pkgname=(libvirt libvirt-storage-gluster libvirt-storage-iscsi-direct)
 epoch=1
 pkgver=10.10.0
-pkgrel=2
+pkgrel=1
 pkgdesc="API for controlling virtualization engines (openvz,kvm,qemu,virtualbox,xen,etc)"
 arch=('x86_64')
 url="https://libvirt.org/"
 license=('LGPL-2.1-or-later'
          'GPL-3.0-or-later') # libvirt_parthelper links to libparted
 depends=(
-  acl
-  audit
-  bash
-  curl
-  device-mapper
-  fuse3
-  gcc-libs
-  glib2
-  glibc
-  gnutls
-  json-c
-  libcap-ng
-  libnbd
-  libnl
-  libpcap
-  libpciaccess
-  libsasl
-  libssh
-  libssh2
-  libtirpc
-  libxml2
-  numactl
-  parted
-  polkit
-  readline
-  systemd-libs
-  util-linux-libs
+  'fuse3'
+  'gnutls'
+  'libnbd'
+  'libnl'
+  'libpciaccess'
+  'libssh'
+  'libxml2'
+  'numactl'
+  'parted'
+  'polkit'
 )
 makedepends=(
-  bash-completion
-  dnsmasq
-  glusterfs
-  iproute2
-  libiscsi
-  libxslt
-  lvm2
-  meson
-  open-iscsi
-  python-docutils
-  qemu-base
-  systemd
+  'bash-completion'
+  'dnsmasq'
+  'glusterfs'
+  'iproute2'
+  'libiscsi'
+  'libxslt'
+  'lvm2'
+  'meson'
+  'open-iscsi'
+  'python-docutils'
+  'qemu-base'
 )
 optdepends=(
   'dmidecode: DMI system info support'
   'dnsmasq: required for default NAT/DHCP for guests'
   'gettext: required for libvirt-guests.service'
   'iptables-nft: required for default NAT networking'
-  'libvirt-python: for virt-qemu-qmp-proxy and virt-qemu-sev-validate commands'
   'libvirt-storage-gluster: Gluster storage backend'
   'libvirt-storage-iscsi-direct: iSCSI-direct storage backend'
   'lvm2: Logical Volume Manager support'
   'openbsd-netcat: for remote management over ssh'
   'open-iscsi: iSCSI support via iscsiadm'
-  'python-cryptography: for virt-qemu-sev-validate command'
-  'python-lxml: for virt-qemu-sev-validate command'
   'qemu-base: QEMU/KVM support'
   'qemu-desktop: QEMU/KVM desktop support'
   'qemu-emulators-full: Support of additional QEMU architectures'
@@ -126,11 +105,9 @@
 )
 source=(
   "https://libvirt.org/sources/$pkgname-$pkgver.tar.xz"{,.asc}
-  libvirt-fix-tpm.patch::https://gitlab.com/libvirt/libvirt/-/commit/81da7a2c.patch
 )
 sha256sums=('e1bd7bd31b7c0d0ae073dec050bb5b0232b3e4adebdc58ea82fe8b366c765796'
-            'SKIP'
-            '8a33a1b321f3f8eb27788c6efc7326c96780d046a1d0057c79cc4ed969785cfd')
+            'SKIP')
 validpgpkeys=('453B65310595562855471199CA68BE8010084C9C') # Jiří Denemark <jdenemar@redhat.com>
 
 prepare() {
@@ -144,14 +121,12 @@
   sed -i 's|/usr/libexec/qemu-bridge-helper|/usr/lib/qemu/qemu-bridge-helper|g' \
     src/qemu/qemu.conf.in \
     src/qemu/test_libvirtd_qemu.aug.in
-
-  patch -Np1 -i ../libvirt-fix-tpm.patch
 }
 
 build() {
   cd "$pkgname-$pkgver"
 
-  arch-meson build \
+  artix-meson build \
     --libexecdir=lib/libvirt \
     -Drunstatedir=/run \
     -Dqemu_user=libvirt-qemu \
@@ -215,13 +190,7 @@
 
 package_libvirt-storage-gluster() {
   pkgdesc="Libvirt Gluster storage backend"
-  depends=(
-    "libvirt=$pkgver"
-    gcc-libs
-    glib2
-    glibc
-    glusterfs
-  )
+  depends=("libvirt=$pkgver" 'glusterfs')
   optdepends=()
   backup=()
 
@@ -231,13 +200,7 @@
 
 package_libvirt-storage-iscsi-direct() {
   pkgdesc="Libvirt iSCSI-direct storage backend"
-  depends=(
-    "libvirt=$pkgver"
-    gcc-libs
-    glib2
-    glibc
-    libiscsi
-  )
+  depends=("libvirt=$pkgver" 'libiscsi')
   optdepends=()
   backup=()
 


############# Stripped diff below #################

--- arch_depends
+++ artix_depends
@@ -1,28 +1,14 @@
-acl
-audit
-bash
 bash-completion
-curl
-device-mapper
 dnsmasq
 fuse3
-gcc-libs
-glib2
-glibc
 glusterfs
 gnutls
 iproute2
-json-c
-libcap-ng
 libiscsi
 libnbd
 libnl
-libpcap
 libpciaccess
-libsasl
 libssh
-libssh2
-libtirpc
 libvirt
 libxml2
 libxslt
@@ -34,7 +20,3 @@
 polkit
 python-docutils
 qemu-base
-readline
-systemd
-systemd-libs
-util-linux-libs