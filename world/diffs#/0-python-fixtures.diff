--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,7 +1,8 @@
 
 pkgname=python-fixtures
-pkgver=4.2.6
-pkgrel=1
+pkgver=4.2.5
+_commit=1edd6c2bc6cb48cc666eb7d9ffdd182659c2cae0
+pkgrel=2
 pkgdesc="Python fixtures for testing / resource management"
 arch=('any')
 url="https://github.com/testing-cabal/fixtures"
@@ -15,22 +16,27 @@
   'python-wheel'
 )
 checkdepends=('python-testtools')
-source=("$url/archive/$pkgver/${pkgname#python-}-$pkgver.tar.gz")
-sha512sums=('22e14a5035797aa006556ae8eb302ad43cc77a74414d529882e95289c3df20f7d1b2c375e5e8be47e76b56dce8166c1f58f2faabe74aa17c19478a5f392e29f0')
+source=("$url/archive/$_commit/${pkgname#python-}-$_commit.tar.gz")
+sha512sums=('8485f2e9e755fb99d1f575941e2d960ec05a2048229c651eba0933b4aba7e41bc504cda45cc233fcd024cb2268af94dd3aa949a30215cd85446dbdc0d7e124df')
+
+pkgver() {
+  cd ${pkgname#python-}-$_commit
+  sed -n '/^CHANGES/{n;n;n;p;q;}' ChangeLog
+}
 
 build() {
-  cd ${pkgname#python-}-$pkgver
+  cd ${pkgname#python-}-$_commit
   export SETUPTOOLS_SCM_PRETEND_VERSION=$pkgver
   python -m build --wheel --no-isolation
 }
 
 check() {
-  cd ${pkgname#python-}-$pkgver
+  cd ${pkgname#python-}-$_commit
   python -m testtools.run fixtures.test_suite
 }
 
 package() {
-  cd ${pkgname#python-}-$pkgver
+  cd ${pkgname#python-}-$_commit
   python -m installer --destdir="$pkgdir" dist/*.whl
   install -vDm644 -t "$pkgdir/usr/share/licenses/$pkgname" COPYING BSD
 }


############# Stripped diff below #################



--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,5 +1,5 @@
 build() {
-cd ${pkgname#python-}-$pkgver
+cd ${pkgname#python-}-$_commit
 export SETUPTOOLS_SCM_PRETEND_VERSION=$pkgver
 python -m build --wheel --no-isolation
 }
