--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,11 +1,7 @@
 
-pkgbase=gupnp-av
-pkgname=(
-  gupnp-av
-  gupnp-av-docs
-)
-pkgver=0.14.4
-pkgrel=1
+pkgname=gupnp-av
+pkgver=0.14.3
+pkgrel=2
 pkgdesc="Library to ease handling and implementation of UPnP A/V profiles"
 url="https://wiki.gnome.org/Projects/GUPnP"
 arch=(x86_64)
@@ -16,29 +12,22 @@
   libxml2
 )
 makedepends=(
-  gi-docgen
   git
   glib2-devel
   gobject-introspection
+  gtk-doc
   meson
   vala
 )
-source=("git+https://gitlab.gnome.org/GNOME/gupnp-av.git?signed#tag=gupnp-av-$pkgver")
-b2sums=('e71b3cf4edeab33659111fac6f594690dd6a6c2d7c5ae9c02b1ab3308fcc2e0f721a031de611cf25a3a5246535fae85dd7981121af1a82a57e5515401f8bc4b5')
-validpgpkeys=(
-  AC9CD4E32D7C7F6357BA8ADD10F6E970175D29E1 # Jens Georg <mail@jensge.org>
-)
+source=("git+https://gitlab.gnome.org/GNOME/gupnp-av.git#tag=gupnp-av-$pkgver")
+b2sums=('78d905d0d0c2c46be1fc9d8602894ec2f684fb3d137ff740b1cb06f8d02766654eba8815ae91ab6451e098af59b1ee7a247393926978b94ad4d2b2bd2d7a608f')
 
 prepare() {
   cd gupnp-av
 }
 
 build() {
-  local meson_options=(
-    -D gtk_doc=true
-  )
-
-  arch-meson gupnp-av build "${meson_options[@]}"
+  artix-meson gupnp-av build -D gtk_doc=true
   meson compile -C build
 }
 
@@ -46,29 +35,10 @@
   meson test -C build --print-errorlogs
 }
 
-_pick() {
-  local p="$1" f d; shift
-  for f; do
-    d="$srcdir/$p/${f#$pkgdir/}"
-    mkdir -p "$(dirname "$d")"
-    mv "$f" "$d"
-    rmdir -p --ignore-fail-on-non-empty "$(dirname "$f")"
-  done
-}
-
-package_gupnp-av() {
+package() {
   depends+=(libg{lib,object}-2.0.so)
   provides+=(libgupnp-av-1.0.so)
 
   meson install -C build --destdir "$pkgdir"
-
-  cd "$pkgdir"
-  _pick docs usr/share/doc
 }
 
-package_gupnp-av-docs() {
-  pkgdesc+=" (documentation)"
-  depends=()
-  mv docs/* "$pkgdir"
-}
-


############# Stripped diff below #################

--- arch_depends
+++ artix_depends
@@ -1,10 +1,9 @@
-
-gi-docgen
 git
 glib2
 glib2-devel
 glibc
 gobject-introspection
+gtk-doc
 libglib-2.0.so
 libgobject-2.0.so
 libxml2

--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -2,9 +2,6 @@
 cd gupnp-av
 }
 build() {
-local meson_options=(
--D gtk_doc=true
-)
-arch-meson gupnp-av build "${meson_options[@]}"
+artix-meson gupnp-av build -D gtk_doc=true
 meson compile -C build
 }
