--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,7 +1,7 @@
 
 pkgname=obs-studio
 pkgver=31.0.3
-pkgrel=1
+pkgrel=2
 pkgdesc="Free, open source software for live streaming and recording"
 arch=('x86_64')
 url="https://obsproject.com"
@@ -19,8 +19,15 @@
             'sndio: Sndio input client'
             'qrcodegencpp-cmake: websocket support'
             'v4l2loopback-dkms: virtual camera support')
-source=($pkgname-$pkgver.tar.gz::https://github.com/obsproject/obs-studio/releases/download/$pkgver/OBS-Studio-$pkgver-Sources.tar.gz)
-sha256sums=('f99f49eae21059cc3e38411e7e16b62de6be8579e2537b2d7504d82a504f34a9')
+source=($pkgname-$pkgver.tar.gz::https://github.com/obsproject/obs-studio/releases/download/$pkgver/OBS-Studio-$pkgver-Sources.tar.gz
+        obs-studio-json11.patch::https://github.com/obsproject/obs-studio/commit/6931d80e16afc92498e345835204059ac1980782.patch)
+sha256sums=('f99f49eae21059cc3e38411e7e16b62de6be8579e2537b2d7504d82a504f34a9'
+            '7403d7540a9377afe68596f2931459f37ce3fa4b2ffb89e1e3e8574c0d55fa83')
+
+prepare() {
+  cd $pkgname-$pkgver-sources
+  patch -Np1 -i "$srcdir"/obs-studio-json11.patch
+}
 
 build() {
   export CFLAGS+=" -Wno-error=deprecated-declarations"


############# Stripped diff below #################



--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,3 +1,7 @@
+prepare() {
+cd $pkgname-$pkgver-sources
+patch -Np1 -i "$srcdir"/obs-studio-json11.patch
+}
 build() {
 export CFLAGS+=" -Wno-error=deprecated-declarations"
 cmake -B build -S $pkgname-$pkgver-sources \
