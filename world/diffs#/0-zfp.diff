--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,15 +1,21 @@
 
 pkgname=zfp
-pkgver=1.0.1
-pkgrel=1
+pkgver=1.0.0
+pkgrel=2
 pkgdesc="Compressed numerical arrays that support high-speed random access"
 arch=(x86_64)
 url="https://computing.llnl.gov/projects/floating-point-compression"
 license=(BSD)
 depends=(glibc gcc-libs)
 makedepends=(cmake gcc-fortran cython python python-numpy)
-source=(https://github.com/LLNL/zfp/archive/${pkgver}/${pkgname}-${pkgver}.tar.gz)
-sha256sums=('4984db6a55bc919831966dd17ba5e47ca7ac58668f4fd278ebd98cd2200da66f')
+source=(https://github.com/LLNL/zfp/archive/${pkgver}/${pkgname}-${pkgver}.tar.gz
+        zfp-fix-libm-check.patch::https://github.com/LLNL/zfp/commit/6d7d2424ed082eb41d696036b26831636650a614.patch)
+sha256sums=('fe13b03141ee9b571692aed42ff76cf37c9dcda40f9a43a808870dca3558a57c'
+            'fb90be8fd65448a209ea18e042e91d9207ebef63320da5cda9a2902309154e48')
+
+prepare() {
+  patch -d $pkgname-$pkgver -Np1 < zfp-fix-libm-check.patch
+}
 
 build() {
   cmake -B build -S ${pkgname}-${pkgver} \


############# Stripped diff below #################



--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,3 +1,6 @@
+prepare() {
+patch -d $pkgname-$pkgver -Np1 < zfp-fix-libm-check.patch
+}
 build() {
 cmake -B build -S ${pkgname}-${pkgver} \
 -DCMAKE_INSTALL_PREFIX=/usr \
