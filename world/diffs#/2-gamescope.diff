--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,6 +1,6 @@
 
 pkgname=gamescope
-pkgver=3.16.4
+pkgver=3.16.9
 pkgrel=1
 pkgdesc='SteamOS session compositing window manager'
 arch=(x86_64)
@@ -39,7 +39,7 @@
   pixman
   sdl2
   seatd
-  systemd-libs
+  libudev
   vulkan-icd-loader
   wayland
   xcb-util-errors
@@ -65,10 +65,9 @@
   git+https://github.com/KhronosGroup/SPIRV-Headers.git
   git+https://github.com/Joshua-Ashton/vkroots.git
   git+https://github.com/Joshua-Ashton/wlroots.git
-  https://github.com/ValveSoftware/openvr/pull/1890.patch
-  https://github.com/ValveSoftware/gamescope/commit/6a99868.patch
+  gamescope-openvr-cmake4.patch::https://github.com/ValveSoftware/openvr/pull/1890.patch
 )
-b2sums=('e773a84decd8664f7f641a9cf43d75eefbe4d653d8b31dfbb136f73007e09799213597947a70454a6983d615a06813039fa455943b954c1e11a4da843e811b1a'
+b2sums=('a8f152983417a5dcdfed0050f575d9567b1ed91b27f49d64c8b41034cd8a742e76fd0aa94560eecdd12ef655da5164a2064619d9f209f5fd1ea2cdc29c64e898'
         'SKIP'
         'SKIP'
         'SKIP'
@@ -76,8 +75,7 @@
         'SKIP'
         'SKIP'
         'SKIP'
-        'ca715d31473649b6e342d75f44c8cf22cb4c303d546718085a18f00afa2e32532f478261c8c150bd0799005b6742a993575c1914575f5da39ae551315f8cac31'
-        '9d667f65de94a75c7367bce03407faaefd0fbd4ecf670296e0ea3fae81f2152f5440c3e0c8e1be7890523d1f60c4b7ec2c624565616b7482505830378f428231')
+        'ca715d31473649b6e342d75f44c8cf22cb4c303d546718085a18f00afa2e32532f478261c8c150bd0799005b6742a993575c1914575f5da39ae551315f8cac31')
 
 prepare() {
   cd gamescope
@@ -90,14 +88,12 @@
   done
   git -c protocol.file.allow=always submodule update
 
-  patch -Np1 -R -i ${srcdir}/6a99868.patch
-
   cd subprojects/openvr
-  patch -Np1 -i ${srcdir}/1890.patch
+  patch -Np1 -i ${srcdir}/gamescope-openvr-cmake4.patch
 }
 
 build() {
-  arch-meson gamescope build \
+  artix-meson gamescope build \
     -Dforce_fallback_for=glm,stb,libdisplay-info,libliftoff,vkroots,wlroots \
     -Dpipewire=enabled
   meson compile -C build


############# Stripped diff below #################

--- arch_depends
+++ artix_depends
@@ -12,6 +12,7 @@
 libei
 libinput
 libpipewire-0.3.so
+libudev
 libx11
 libxcb
 libxcomposite
@@ -32,7 +33,6 @@
 pixman
 sdl2
 seatd
-systemd-libs
 vulkan-headers
 vulkan-icd-loader
 wayland