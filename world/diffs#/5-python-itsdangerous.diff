--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,40 +1,30 @@
 
 pkgname=python-itsdangerous
-pkgver=2.2.0
-pkgrel=1
+pkgver=2.1.2
+pkgrel=5
 pkgdesc='Various helpers to pass trusted data to untrusted environments'
 arch=('any')
-url='https://itsdangerous.palletsprojects.com'
-license=('BSD-3-Clause')
+url='https://palletsprojects.com/p/itsdangerous/'
+license=('BSD')
 depends=('python')
-makedepends=(
-  'python-build'
-  'python-flit-core'
-  'python-installer'
-  'python-wheel'
-)
-checkdepends=(
-  'python-freezegun'
-  'python-pytest'
-)
-source=("https://github.com/mitsuhiko/itsdangerous/archive/${pkgver}/${pkgname#python-}-$pkgver.tar.gz")
-sha256sums=('7b0c6d4186e963b88489b69603b7ab2bf7c8e9eb4135a7b13b5f21bd4b937f2b')
+makedepends=('python-setuptools' 'python-build' 'python-installer' 'python-wheel')
+checkdepends=('python-pytest' 'python-freezegun')
+source=("https://github.com/mitsuhiko/itsdangerous/archive/${pkgver}/$pkgname-$pkgver.tar.gz")
+sha256sums=('a983dd8e49b9374c942b7946f9bfbcf639ed4a22838d353e4cd30d45e20cc943')
 
 build() {
-  cd ${pkgname#python-}-$pkgver
+  cd "itsdangerous-$pkgver"
   python -m build --wheel --no-isolation
 }
 
 check() {
-  cd ${pkgname#python-}-$pkgver
-  python -m venv --system-site-packages test-env
-  test-env/bin/python -m installer dist/*.whl
-  test-env/bin/python -m pytest
+  cd "itsdangerous-$pkgver"
+  PYTHONPATH="build/lib" pytest
 }
 
 package() {
-  cd ${pkgname#python-}-$pkgver
+  cd "itsdangerous-$pkgver"
   python -m installer --destdir="$pkgdir" dist/*.whl
-  install -vDm 644 -t "$pkgdir/usr/share/licenses/$pkgname" LICENSE.txt
+  install -Dm 644 LICENSE.rst -t "$pkgdir/usr/share/licenses/$pkgname"
 }
 


############# Stripped diff below #################

--- arch_depends
+++ artix_depends
@@ -1,5 +1,5 @@
 python
 python-build
-python-flit-core
 python-installer
+python-setuptools
 python-wheel

--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,4 +1,4 @@
 build() {
-cd ${pkgname#python-}-$pkgver
+cd "itsdangerous-$pkgver"
 python -m build --wheel --no-isolation
 }
