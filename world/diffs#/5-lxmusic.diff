--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,61 +1,36 @@
 
 pkgname=lxmusic
-pkgver=0.4.8
-pkgrel=3
+pkgver=0.4.7
+pkgrel=7
 pkgdesc='Lightweight music player (XMMS2 client)'
-arch=(x86_64)
-url='https://github.com/lxde/lxmusic'
-license=(GPL-2.0-or-later)
-groups=(lxde)
-depends=(
-  gdk-pixbuf2
-  glib2
-  glibc
-  gtk3
-  hicolor-icon-theme
-  libnotify
-  xmms2
-)
-makedepends=(
-  git
-  intltool
-)
-replaces=(lxmusic-gtk3)
-source=(
-  "git+https://github.com/lxde/lxmusic.git#tag=$pkgver"
-  lxmusic.appdata.xml
-  lxmusic-transient-dialog.patch
-  lxmusic-no-systray.patch
-)
-b2sums=(
-  4ef3555677a61a09677eb3ef3c11fd59d60ad078afb044cdf902b3baecc680c51ed9a1edb651de6e453efacb3d84d354c05a0c2b6cbedac7430beee847d3d7df
-  20b37ccf69a2d6d427ab9d075132356dd77ed065be0d8f8c2e4a82ec10c5bd4d56bb7b746e976446ce87f39c79526eeb14a2d86d26f65d9927b9c61cdbaf00e4
-  3d8e1eba55e6542fe1ce4df2861c0bd911a21e76ca4a8143b1124859d559fb4daa85c5ca99632c3beaa89accdc169f9c05a74950b7208e137241230ca91c2172
-  f50362118aad683c0d1a97e72508a7d3327f5c4db2865257be1dd7f633f24615af05fb53d8e1f24eaef0a68cc2eb30015f285a51441feabce0818cd4659ac382
-)
+arch=('x86_64')
+url='https://lxde.org/'
+license=('GPL2')
+groups=('lxde')
+depends=('gtk3' 'libnotify' 'xmms2')
+makedepends=('intltool')
+replaces=('lxmusic-gtk3')
+source=("https://downloads.sourceforge.net/lxde/$pkgname-$pkgver.tar.xz"
+        'lxmusic.appdata.xml'
+        '0001-Use-themed-icon.patch')
+sha256sums=('4933987338eb6e8c77d63b14cea5a8886146e75acbc38a21438c6c3f47bc06ba'
+            '0093885fe76bda60a1b319970bd8d148903a3adb674690d3d9cf9262e053b05b'
+            '9cd869db22ac71c01e90365d9252b72bde64ec9f0a0bad8fecc32319da0a99fe')
 
 prepare() {
-  cd $pkgname
-
-  git apply -3 ../lxmusic-transient-dialog.patch
-
-  git apply -3 ../lxmusic-no-systray.patch
-
+  cd $pkgname-$pkgver
+  patch -Np1 -i ../0001-Use-themed-icon.patch
   autoreconf -fi
 }
 
 build() {
-  cd $pkgname
-  ./configure \
-    --prefix=/usr \
-    --sysconfdir=/etc \
-    --localstatedir=/var \
-    --enable-gtk3
+  cd $pkgname-$pkgver
+  ./configure --prefix=/usr --enable-gtk3
   make
 }
 
 package() {
-  cd $pkgname
+  cd $pkgname-$pkgver
   make DESTDIR="$pkgdir" install
   install -Dm644 ../$pkgname.appdata.xml "$pkgdir/usr/share/metainfo/$pkgname.appdata.xml"
 }


############# Stripped diff below #################

--- arch_depends
+++ artix_depends
@@ -1,9 +1,4 @@
-gdk-pixbuf2
-git
-glib2
-glibc
 gtk3
-hicolor-icon-theme
 intltool
 libnotify
 xmms2

--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,15 +1,10 @@
 prepare() {
-cd $pkgname
-git apply -3 ../lxmusic-transient-dialog.patch
-git apply -3 ../lxmusic-no-systray.patch
+cd $pkgname-$pkgver
+patch -Np1 -i ../0001-Use-themed-icon.patch
 autoreconf -fi
 }
 build() {
-cd $pkgname
-./configure \
---prefix=/usr \
---sysconfdir=/etc \
---localstatedir=/var \
---enable-gtk3
+cd $pkgname-$pkgver
+./configure --prefix=/usr --enable-gtk3
 make
 }
