--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,7 +1,7 @@
 
 pkgname=ruby-byebug
 pkgver=11.1.3
-pkgrel=6
+pkgrel=5
 pkgdesc='A simple to use and feature rich debugger for Ruby'
 arch=(x86_64)
 url='https://github.com/deivid-rodriguez/byebug'
@@ -43,45 +43,29 @@
 }
 
 build() {
+  local _gemdir="$(gem env gemdir)"
   cd byebug-$pkgver
-
-  local _gemdir="$(gem env gemdir)"
-
-  gem build --verbose byebug.gemspec
-
+  gem build byebug.gemspec
   gem install \
     --local \
     --verbose \
     --ignore-dependencies \
     --no-user-install \
-    --install-dir "tmp_install${_gemdir}" \
+    --install-dir "tmp_install/$_gemdir" \
     --bindir "tmp_install/usr/bin" \
     byebug-$pkgver.gem
-
-  rm --force --recursive --verbose \
-    "tmp_install${_gemdir}/cache/" \
-    "tmp_install${_gemdir}/gems/${_gemname}-${pkgver}/vendor/" \
-    "tmp_install${_gemdir}/doc/${_gemname}-${pkgver}/ri/ext/"
-
-  find "tmp_install${_gemdir}/gems/" \
+  find "tmp_install/$_gemdir/gems/" \
     -type f \
     \( \
-      -iname "*.o" -o \
-      -iname "*.c" -o \
-      -iname "*.so" -o \
-      -iname "*.time" -o \
-      -iname "gem.build_complete" -o \
-      -iname "Makefile" \
+        -iname "*.o" -o \
+        -iname "*.c" -o \
+        -iname "*.so" -o \
+        -iname "*.time" -o \
+        -iname "gem.build_complete" -o \
+        -iname "Makefile" \
     \) \
     -delete
-
-  find "tmp_install${_gemdir}/extensions/" \
-    -type f \
-    \( \
-      -iname "mkmf.log" -o \
-      -iname "gem_make.out" \
-    \) \
-    -delete
+  rm -r tmp_install/$_gemdir/cache
 }
 
 check() {
@@ -92,9 +76,6 @@
 
 package() {
   cd byebug-$pkgver
-
-  cp --archive --verbose tmp_install/* "${pkgdir}"
-
-  install --verbose -D --mode=0644 LICENSE* --target-directory "${pkgdir}/usr/share/licenses/${pkgname}"
-  install --verbose -D --mode=0644 *.md --target-directory "${pkgdir}/usr/share/doc/${pkgname}"
+  cp -a tmp_install/* "$pkgdir"/
+  install -Dm644 LICENSE -t "$pkgdir"/usr/share/licenses/$pkgname/
 }


############# Stripped diff below #################



--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -12,22 +12,18 @@
 test/processors/command_processor_test.rb
 }
 build() {
+local _gemdir="$(gem env gemdir)"
 cd byebug-$pkgver
-local _gemdir="$(gem env gemdir)"
-gem build --verbose byebug.gemspec
+gem build byebug.gemspec
 gem install \
 --local \
 --verbose \
 --ignore-dependencies \
 --no-user-install \
---install-dir "tmp_install${_gemdir}" \
+--install-dir "tmp_install/$_gemdir" \
 --bindir "tmp_install/usr/bin" \
 byebug-$pkgver.gem
-rm --force --recursive --verbose \
-"tmp_install${_gemdir}/cache/" \
-"tmp_install${_gemdir}/gems/${_gemname}-${pkgver}/vendor/" \
-"tmp_install${_gemdir}/doc/${_gemname}-${pkgver}/ri/ext/"
-find "tmp_install${_gemdir}/gems/" \
+find "tmp_install/$_gemdir/gems/" \
 -type f \
 \( \
 -iname "*.o" -o \
@@ -38,11 +34,5 @@
 -iname "Makefile" \
 \) \
 -delete
-find "tmp_install${_gemdir}/extensions/" \
--type f \
-\( \
--iname "mkmf.log" -o \
--iname "gem_make.out" \
-\) \
--delete
+rm -r tmp_install/$_gemdir/cache
 }
