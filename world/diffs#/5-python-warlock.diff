--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,33 +1,34 @@
 
 pkgname=python-warlock
-pkgver=2.1.0
-pkgrel=1
+pkgver=2.0.1
+pkgrel=4
 pkgdesc="Python object model built on JSON schema and JSON patch."
 arch=('any')
-license=('Apache-2.0')
+license=('Apache')
 url="https://github.com/bcwaldon/warlock"
 depends=('python-jsonschema' 'python-jsonpatch')
-makedepends=('git' 'python-build' 'python-installer' 'python-flit-core')
+makedepends=('python-build' 'python-installer' 'python-poetry-core')
 checkdepends=('python-pytest')
-source=("git+https://github.com/bcwaldon/warlock.git#tag=$pkgver")
-sha512sums=('854bf5e841f97e878b876519f321b528b92ab4c6d7b786c056d9ee8d32b971b73e1a55e3f49f7ff07acaaec595bd4355295485d67be5afc8b8b3c3f193076d9d')
+source=("$pkgname-$pkgver.tar.gz::https://github.com/bcwaldon/warlock/archive/$pkgver.tar.gz")
+sha512sums=('f354f0dd2af524a9e09ed03b072e1f68859fc70bf5ec083f8853fde2f1cec3172bef42318df176a3cf5fa48d93f030010db81d710961f2b05a092a4ee25041c1')
 
 prepare() {
-  cd warlock
+  cd warlock-$pkgver
   sed -i '/--cov/d' pytest.ini
 }
 
 build() {
-  cd warlock
+  cd warlock-$pkgver
   python -m build --wheel --no-isolation
 }
 
 check() {
-  cd warlock
+  cd warlock-$pkgver
   pytest
 }
 
 package() {
-  cd warlock
+  cd warlock-$pkgver
   python -m installer --destdir="$pkgdir" dist/*.whl
 }
+


############# Stripped diff below #################

--- arch_depends
+++ artix_depends
@@ -1,6 +1,5 @@
-git
 python-build
-python-flit-core
 python-installer
 python-jsonpatch
 python-jsonschema
+python-poetry-core

--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,8 +1,8 @@
 prepare() {
-cd warlock
+cd warlock-$pkgver
 sed -i '/--cov/d' pytest.ini
 }
 build() {
-cd warlock
+cd warlock-$pkgver
 python -m build --wheel --no-isolation
 }
