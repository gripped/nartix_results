--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,7 +1,8 @@
 
 pkgname=clazy
-pkgver=1.12
-pkgrel=2
+pkgver=1.11+r302+gf90c263c
+pkgrel=1
+_commit=f90c263c49c1df57bc442fe2fafa0e9e12460e28
 pkgdesc='Qt oriented code checker based on clang framework'
 url='https://www.kdab.com/'
 license=(GPL-2.0-or-later)
@@ -11,15 +12,20 @@
          llvm-libs
          sh)
 makedepends=(cmake
+             git
              llvm)
 arch=(x86_64)
-source=(https://download.kde.org/stable/$pkgname/$pkgver/src/$pkgname-$pkgver.tar.xz{,.sig})
-sha256sums=('611749141d07ce1e006f8a1253f9b2dbd5b7b44d2d5322d471d62430ec2849ac'
-            'SKIP')
+source=(git+https://invent.kde.org/sdk/clazy#commit=$_commit)
+sha256sums=('b618c419dca274f6e95770d605fd4dcbbfbe9e52f503b24e065cdd010874e40d')
 validpgpkeys=(949014B23D24354DFD548E5457416A0ADCEF0EFE) # Sergio Martins <sergio.martins@kdab.com>
 
+pkgver() {
+  cd $pkgname
+  git describe --tags | sed 's/^v//;s/[^-]*-g/r&/;s/-/+/g'
+}
+
 build() {
-  cmake -B build $pkgname-$pkgver \
+  cmake -B build $pkgname \
     -DCMAKE_INSTALL_PREFIX=/usr
   cmake --build build
 }


############# Stripped diff below #################

--- arch_depends
+++ artix_depends
@@ -1,6 +1,7 @@
 clang
 cmake
 gcc-libs
+git
 glibc
 llvm
 llvm-libs

--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,5 +1,5 @@
 build() {
-cmake -B build $pkgname-$pkgver \
+cmake -B build $pkgname \
 -DCMAKE_INSTALL_PREFIX=/usr
 cmake --build build
 }
