--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,8 +1,8 @@
 
 pkgbase=emacs
 pkgname=(emacs emacs-nativecomp emacs-nox emacs-wayland)
-pkgver=30.1
-pkgrel=1
+pkgver=29.4
+pkgrel=4
 arch=('x86_64')
 url='https://www.gnu.org/software/emacs/emacs.html'
 license=('GPL3')
@@ -34,7 +34,6 @@
   librsvg-2.so
   libsm
   sqlite libsqlite3.so
-  libsystemd.so
   libtiff.so
   libtree-sitter.so
   libwebp.so
@@ -46,7 +45,7 @@
 )
 makedepends=(libgccjit)
 source=(https://ftp.gnu.org/gnu/emacs/${pkgname}-${pkgver}.tar.xz{,.sig})
-b2sums=('ad502a2e15a04618f4766ec6e285739cb5bb6f19c5065c3aed03b3e50df590cee382a0331f382de6f13523f1362a4355f65961ce45504f7d33419ea6d04e326f'
+b2sums=('825fd2665b6427dbc3cb618b40df2f71fa6b08883bdd07be6d8acf0039df2aeebd294e679e98f4c64a9dd9bdad93589fc7c176cf3860d4fb823fce23f7f2b3cd'
         'SKIP')
 validpgpkeys=('17E90D521672C04631B1183EE78DAE0F3115E06B'  # Eli Zaretskii <eliz@gnu.org>
               'CEA1DE21AB108493CC9C65742E82323B8F4353EE') # Stefan Kangas <stefankangas@gmail.com>
@@ -66,7 +65,7 @@
     --with-cairo \
     --disable-build-details \
     --with-harfbuzz \
-    --with-libsystemd \
+    --with-libsystemd=no \
     --with-modules"
 
   export ac_cv_lib_gif_EGifPutExtensionLast=yes
@@ -137,7 +136,6 @@
     libdbus-1.so
     libgpm.so
     libncursesw.so
-    libsystemd.so
     libtree-sitter.so
     libxml2.so
     zlib


############# Stripped diff below #################

--- arch_depends
+++ artix_depends
@@ -27,7 +27,6 @@
 librsvg-2.so
 libsm
 libsqlite3.so
-libsystemd.so
 libtiff.so
 libtree-sitter.so
 libwebp.so