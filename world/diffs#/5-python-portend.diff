--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,7 +1,8 @@
 
-pkgname=python-portend
-pkgver=3.2.1
-pkgrel=1
+pkgname='python-portend'
+_pkgbase="${pkgname//python-/}"
+pkgver=3.2.0
+pkgrel=3
 pkgdesc="Use portend to monitor TCP ports for bound or unbound states."
 arch=('any')
 url="https://github.com/jaraco/portend"
@@ -11,7 +12,6 @@
   'python-tempora'
 )
 makedepends=(
-  'git'
   'python-build'
   'python-installer'
   'python-setuptools'
@@ -19,27 +19,22 @@
   'python-wheel'
 )
 checkdepends=('python-pytest')
-source=("git+$url#tag=v$pkgver")
-sha512sums=('053bcd4d588f6ed0e48d5e384ff5cee23f6e9dbd2f17cecafa8d4e5240924a4476e699815b70e3cf175188a573dc9d3e4cf503b54f3a10bf3912e7cad480910e')
-
-prepare() {
-  cd ${pkgname#python-}
-  git revert -n 9a81db3c77bc106017dcd4b0853a5a94f43ae33c
-}
+source=("$pkgname-$pkgver.tar.gz::$url/archive/v$pkgver.tar.gz")
+sha512sums=('c32794ec0d7220bc97a6956289c9a5f31bb51a17be4014b8e5d508efc3516aeb2a7c790496dad49af3ad19afc37b71bca4aa5dfde9bfa998e415df65866b41b5')
 
 build() {
-  cd ${pkgname#python-}
+  cd "$_pkgbase-$pkgver"
   export SETUPTOOLS_SCM_PRETEND_VERSION="$pkgver"
-  python -m build --wheel --no-isolation --skip-dependency-check
+  python -m build --wheel --no-isolation
 }
 
 check() {
-  cd ${pkgname#python-}
+  cd "$_pkgbase-$pkgver"
   pytest --override-ini="addopts="
 }
 
 package() {
-  cd ${pkgname#python-}
+  cd "$_pkgbase-$pkgver"
   python -m installer --destdir="$pkgdir" dist/*.whl
   install -vDm644 -t "$pkgdir/usr/share/licenses/$pkgname" LICENSE
 }


############# Stripped diff below #################

--- arch_depends
+++ artix_depends
@@ -1,4 +1,3 @@
-git
 python
 python-build
 python-installer

--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,9 +1,5 @@
-prepare() {
-cd ${pkgname#python-}
-git revert -n 9a81db3c77bc106017dcd4b0853a5a94f43ae33c
+build() {
+cd "$_pkgbase-$pkgver"
+export SETUPTOOLS_SCM_PRETEND_VERSION="$pkgver"
+python -m build --wheel --no-isolation
 }
-build() {
-cd ${pkgname#python-}
-export SETUPTOOLS_SCM_PRETEND_VERSION="$pkgver"
-python -m build --wheel --no-isolation --skip-dependency-check
-}
