--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,37 +1,40 @@
 
 pkgname=python-automat
-pkgver=25.4.16
-pkgrel=1
+pkgver=22.10.0
+pkgrel=7
 arch=('any')
 license=('MIT')
 pkgdesc="Self-service finite-state machines for the programmer on the go."
 url="https://github.com/glyph/automat"
-depends=('python')
-makedepends=('python-wheel' 'python-build' 'python-installer' 'python-wheel' 'python-setuptools-scm' 'python-hatch-vcs')
-checkdepends=('python-pytest' 'python-twisted' 'python-graphviz' 'python-pytest-benchmark')
+depends=('python-attrs')
+makedepends=('python-setuptools-scm' 'python-wheel')
+checkdepends=('python-pytest-benchmark' 'python-twisted' 'python-graphviz')
 optdepends=('python-graphviz: for automat-visualize'
             'python-twisted: for automat-visualize')
-source=("https://github.com/glyph/automat/archive/v$pkgver/$pkgname-$pkgver.tar.gz")
-sha512sums=('13280875ec0bc7d8e7296cf4f5a8aee687521dde5ec59e370f05fc648a6c344e1d8c956bf63136b4181ae0863285ccf7e5a06edb17d2272ec089783dba9656b5')
+source=("https://github.com/glyph/automat/archive/v$pkgver/$pkgname-$pkgver.tar.gz"
+	"stop-requiring-six.patch")
+sha512sums=('16caea66a8621b7d50e68e94007085218ec40ae0f57599d5076ed1915d4a2ebabd2da66659ba70acb9c6d30bc354bcd6126f913af0c0a005db305ca0c203481d'
+            'df960351c65cb067899f60c55fce284f65d61b06b35df699cdc75da22107b33753049f9307ff3dcba28e517fe8d6259a82489905b8e5562974b59e01b88acbad')
 
 export SETUPTOOLS_SCM_PRETEND_VERSION=$pkgver
 
 prepare() {
   cd automat-$pkgver
+  patch -Np1 -i ${srcdir}/stop-requiring-six.patch
 }
 
 build() {
   cd automat-$pkgver
-  python -m build --wheel --no-isolation
+  python setup.py build
 }
 
 check() {
   cd automat-$pkgver
-  PYTHONPATH=src pytest
+  pytest
 }
 
 package() {
   cd automat-$pkgver
-  python -m installer --destdir="$pkgdir" dist/*.whl
+  python setup.py install --root="$pkgdir" --optimize=1
   install -Dm644 LICENSE -t "$pkgdir"/usr/share/licenses/python-automat/
 }


############# Stripped diff below #################

--- arch_depends
+++ artix_depends
@@ -1,6 +1,3 @@
-python
-python-build
-python-hatch-vcs
-python-installer
+python-attrs
 python-setuptools-scm
 python-wheel

--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,7 +1,8 @@
 prepare() {
 cd automat-$pkgver
+patch -Np1 -i ${srcdir}/stop-requiring-six.patch
 }
 build() {
 cd automat-$pkgver
-python -m build --wheel --no-isolation
+python setup.py build
 }
