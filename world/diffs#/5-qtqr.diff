--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,29 +1,32 @@
 
 pkgname=qtqr
 pkgver=2.1
-_pkgver=2.1-0~47~ubuntu24.04.1
-pkgrel=8
+_bzrrev=43
+pkgrel=7
 pkgdesc='Qt GUI that makes easy creating and decoding QR codes'
 arch=('any')
 url='https://launchpad.net/qr-tools'
 license=('GPL3')
-depends=('python-pillow' 'python-pyqt5' 'qrencode' 'zbar')
-makedepends=('python-build' 'python-installer' 'python-setuptools' 'python-wheel')
-source=("https://launchpad.net/qr-tools/2.0/2.1/+download/qtqr_${_pkgver}.tar.gz"
+depends=('python-pillow' 'python-pyqt5' 'qrencode' 'qt5-translations' 'zbar')
+makedepends=('breezy' 'python-setuptools' 'python-tzlocal')
+provides=('python-qrtools')
+conflicts=('python-qrtools')
+replaces=('python-qrtools')
+source=("qr-tools::bzr+$url/trunk#revision=$_bzrrev"
         'qtqr.desktop'
         'qtqr.appdata.xml')
-sha256sums=('bcad4aa7b677c3cce34381f2acb3fc0de33216f8380af3c0365424f4cfdf6d44'
+sha256sums=('SKIP'
             '67ea09222b0ad8875e4253f74c02cd88bdd796ac2609a7e594148aefd0f8f565'
             '1a4739e4c61077e17fdc63b10b329c377b40080b8afd8ae9a2e269d3f5c094b0')
 
 build() {
-  cd $pkgname-$pkgver
-  python -m build --wheel --no-isolation
+  cd qr-tools
+  python setup.py build
 }
 
 package() {
-  cd $pkgname-$pkgver
-  python -m installer --destdir="$pkgdir" dist/*.whl
+  cd qr-tools
+  python setup.py install --root="$pkgdir" --optimize=1 --skip-build
 
   install -Dm755 qtqr.py "$pkgdir/usr/bin/qtqr"
   install -Dm644 -t "$pkgdir/usr/share/qt/translations" *.qm


############# Stripped diff below #################

--- arch_depends
+++ artix_depends
@@ -1,8 +1,8 @@
-python-build
-python-installer
+breezy
 python-pillow
 python-pyqt5
 python-setuptools
-python-wheel
+python-tzlocal
 qrencode
+qt5-translations
 zbar

--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,4 +1,4 @@
 build() {
-cd $pkgname-$pkgver
-python -m build --wheel --no-isolation
+cd qr-tools
+python setup.py build
 }
