--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -2,7 +2,7 @@
 pkgname=kwin
 pkgver=6.4.4
 _dirver=$(echo $pkgver | cut -d. -f1-3)
-pkgrel=10
+pkgrel=8
 pkgdesc='An easy to use, but flexible, Wayland compositor'
 arch=(x86_64)
 url='https://kde.org/plasma-desktop/'
@@ -60,7 +60,7 @@
          qt6-sensors
          qt6-svg
          qt6-tools
-         systemd-libs
+         libelogind
          wayland
          xcb-util-cursor
          xcb-util-keysyms
@@ -75,13 +75,11 @@
 optdepends=('maliit-keyboard: virtual keyboard')
 groups=(plasma)
 source=(https://download.kde.org/stable/plasma/$_dirver/$pkgname-$pkgver.tar.xz{,.sig}
-        https://invent.kde.org/plasma/kwin/-/commit/7d36003c.patch
-        https://invent.kde.org/plasma/kwin/-/commit/598438b9.patch)
+        https://invent.kde.org/plasma/kwin/-/commit/7d36003c.patch)
 install=$pkgname.install
 sha256sums=('b0742a12133b052519cb5af09132114ebf4d96b44e320015cc0d2d0bf055dae6'
             'SKIP'
-            '1c8e3913f20fd8dc168dbb80086ee60d44b557785edb34fe2903bf2c36fd1a6a'
-            '20e4b5e56a91060949018b0bf25abea78bdf689d49939bb5e07430118d53a070')
+            '0429f0a5a60631ae6d03a9b323a117fc6a0c85253db9213ba853d20182748832')
 validpgpkeys=('E0A3EB202F8E57528E13E72FD7574483BB57B18D'  # Jonathan Esk-Riddell <jr@jriddell.org>
               '0AAC775BB6437A8D9AF7A3ACFE0784117FBCE11D'  # Bhushan Shah <bshah@kde.org>
               'D07BD8662C56CB291B316EB2F5675605C74E02CF'  # David Edmundson <davidedmundson@kde.org>
@@ -90,7 +88,6 @@
 
 prepare() {
   patch -d $pkgname-$pkgver -p1 < 7d36003c.patch # Backport DRM fixes
-  patch -d $pkgname-$pkgver -p1 < 598438b9.patch # Backport crash fix
 }
 
 build() {
@@ -102,4 +99,6 @@
 
 package() {
   DESTDIR="$pkgdir" cmake --install build
+
+  rm -r $pkgdir/usr/lib/systemd
 }


############# Stripped diff below #################

--- arch_depends
+++ artix_depends
@@ -37,6 +37,7 @@
 libdisplay-info
 libdrm
 libei
+libelogind
 libepoxy
 libinput
 libpipewire
@@ -56,7 +57,6 @@
 qt6-sensors
 qt6-svg
 qt6-tools
-systemd-libs
 wayland
 wayland-protocols
 xcb-util-cursor