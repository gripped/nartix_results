--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -24,7 +24,7 @@
   qemu-{base,desktop,emulators-full,full}
 )
 pkgver=10.2.0
-pkgrel=1
+pkgrel=2
 pkgdesc="A generic and open source machine emulator and virtualizer"
 arch=(x86_64)
 url="https://www.qemu.org/"
@@ -58,7 +58,7 @@
   curl
   dtc
   fuse3
-  gcc-libs
+  libgcc
   gdk-pixbuf2
   glib2
   glib2-devel
@@ -110,7 +110,7 @@
   snappy
   spice-protocol
   spice
-  systemd
+  udev
   usbredir
   vde2
   virglrenderer
@@ -151,7 +151,7 @@
 _qemu_system_deps=(
   capstone
   fuse3
-  gcc-libs
+  libgcc
   glibc
   glib2 libgio-2.0.so libglib-2.0.so libgmodule-2.0.so
   gnutls
@@ -287,7 +287,6 @@
 
   sed -n '3,33p' $pkgbase-$pkgver/include/standard-headers/linux/fuse.h > fuse.LICENSE.BSD-2-Clause.txt
 
-  sed -e 's/multi-user.target/sockets.target/g' -i $pkgbase-$pkgver/contrib/systemd/*.socket
 
   mkdir -vp build
   mkdir -vp build-static
@@ -376,7 +375,7 @@
     --preserve-argv0 yes
   )
 
-  depends=(gcc-libs glibc glib2 libglib-2.0.so libgmodule-2.0.so hicolor-icon-theme libcap-ng libcap-ng.so)
+  depends=(glibc glib2 libgcc libglib-2.0.so libgmodule-2.0.so hicolor-icon-theme libcap-ng libcap-ng.so)
   backup=(
     etc/$pkgbase/bridge.conf
     etc/sasl2/$pkgbase.conf
@@ -606,14 +605,14 @@
 
 package_qemu-audio-dbus() {
   pkgdesc="QEMU D-Bus audio driver"
-  depends=(gcc-libs glib2 libgio-2.0.so libgobject-2.0.so libglib-2.0.so glibc qemu-common=$pkgver-$pkgrel)
+  depends=(glib2 libgio-2.0.so libgcc libgobject-2.0.so libglib-2.0.so glibc qemu-common=$pkgver-$pkgrel)
   mv -v $pkgname/* "$pkgdir"
   _install_licenses
 }
 
 package_qemu-audio-jack() {
   pkgdesc="QEMU JACK audio driver"
-  depends=(gcc-libs glibc jack libjack.so qemu-common=$pkgver-$pkgrel)
+  depends=(glibc jack libgcc libjack.so qemu-common=$pkgver-$pkgrel)
   mv -v $pkgname/* "$pkgdir"
   _install_licenses
 }
@@ -634,7 +633,7 @@
 
 package_qemu-audio-pipewire() {
   pkgdesc="QEMU PipeWire audio driver"
-  depends=(gcc-libs glibc libpipewire libpipewire-0.3.so qemu-common=$pkgver-$pkgrel)
+  depends=(glibc libgcc libpipewire libpipewire-0.3.so qemu-common=$pkgver-$pkgrel)
   mv -v $pkgname/* "$pkgdir"
   _install_licenses
 }
@@ -655,7 +654,7 @@
 
 package_qemu-block-curl() {
   pkgdesc="QEMU curl block driver"
-  depends=(curl libcurl.so gcc-libs glibc qemu-common=$pkgver-$pkgrel)
+  depends=(curl libcurl.so glibc libgcc qemu-common=$pkgver-$pkgrel)
   mv -v $pkgname/* "$pkgdir"
   _install_licenses
 }
@@ -669,35 +668,35 @@
 
 package_qemu-block-gluster() {
   pkgdesc="QEMU Gluster block driver"
-  depends=(gcc-libs glibc glusterfs qemu-common=$pkgver-$pkgrel)
+  depends=(glibc glusterfs libgcc qemu-common=$pkgver-$pkgrel)
   mv -v $pkgname/* "$pkgdir"
   _install_licenses
 }
 
 package_qemu-block-iscsi() {
   pkgdesc="QEMU iSCSI block driver"
-  depends=(gcc-libs glibc libiscsi qemu-common=$pkgver-$pkgrel)
+  depends=(glibc libgcc libiscsi qemu-common=$pkgver-$pkgrel)
   mv -v $pkgname/* "$pkgdir"
   _install_licenses
 }
 
 package_qemu-block-nfs() {
   pkgdesc="QEMU NFS block driver"
-  depends=(gcc-libs glibc libnfs qemu-common=$pkgver-$pkgrel)
+  depends=(glibc libgcc libnfs qemu-common=$pkgver-$pkgrel)
   mv -v $pkgname/* "$pkgdir"
   _install_licenses
 }
 
 package_qemu-block-ssh() {
   pkgdesc="QEMU SSH block driver"
-  depends=(gcc-libs glibc libssh libssh.so qemu-common=$pkgver-$pkgrel)
+  depends=(glibc libgcc libssh libssh.so qemu-common=$pkgver-$pkgrel)
   mv -v $pkgname/* "$pkgdir"
   _install_licenses
 }
 
 package_qemu-chardev-baum() {
   pkgdesc="QEMU Baum chardev driver"
-  depends=(brltty libbrlapi.so gcc-libs glibc qemu-common=$pkgver-$pkgrel)
+  depends=(brltty libbrlapi.so glibc libgcc qemu-common=$pkgver-$pkgrel)
   mv -v $pkgname/* "$pkgdir"
   _install_licenses
 }
@@ -717,14 +716,13 @@
 
 package_qemu-guest-agent() {
   pkgdesc="QEMU Guest Agent"
-  depends=(gcc-libs glib2 libglib-2.0.so libgmodule-2.0.so glibc liburing liburing.so numactl libnuma.so sh systemd-libs libudev.so)
+  depends=(glib2 libglib-2.0.so libgcc libgmodule-2.0.so glibc liburing liburing.so numactl libnuma.so sh libudev libudev.so)
   backup=(
     etc/$pkgbase/$pkgbase-ga.conf
     etc/$pkgbase/fsfreeze-hook
   )
   install=$pkgname.install
   mv -v $pkgname/* "$pkgdir"
-  install -vDm 644 $pkgbase-$pkgver/contrib/systemd/$pkgname.service -t "$pkgdir/usr/lib/systemd/system/"
   install -vDm 644 99-$pkgname.rules -t "$pkgdir/usr/lib/udev/rules.d/"
   install -vDm 644 $pkgbase-ga.conf -t "$pkgdir/etc/$pkgbase/"
   install -vDm 755 $pkgbase-$pkgver/scripts/$pkgname/fsfreeze-hook -t "$pkgdir/etc/$pkgbase/"
@@ -734,7 +732,7 @@
 
 package_qemu-hw-display-qxl() {
   pkgdesc="QEMU QXL display device"
-  depends=(gcc-libs glibc pixman libpixman-1.so qemu-common=$pkgver-$pkgrel qemu-ui-spice-core=$pkgver-$pkgrel spice libspice-server.so)
+  depends=(glibc pixman libgcc libpixman-1.so qemu-common=$pkgver-$pkgrel qemu-ui-spice-core=$pkgver-$pkgrel spice libspice-server.so)
   mv -v $pkgname/* "$pkgdir"
   _install_licenses
 }
@@ -748,14 +746,14 @@
 
 package_qemu-hw-display-virtio-gpu-rutabaga() {
   pkgdesc="QEMU virtio-gpu-rutabaga display device"
-  depends=(gcc-libs glibc pixman libpixman-1.so qemu-common=$pkgver-$pkgrel rutabaga-ffi)
+  depends=(glibc pixman libgcc libpixman-1.so qemu-common=$pkgver-$pkgrel rutabaga-ffi)
   mv -v $pkgname/* "$pkgdir"
   _install_licenses
 }
 
 package_qemu-hw-display-virtio-gpu-gl() {
   pkgdesc="QEMU virtio-gpu-gl display device"
-  depends=(gcc-libs glibc qemu-common=$pkgver-$pkgrel virglrenderer)
+  depends=(glibc libgcc qemu-common=$pkgver-$pkgrel virglrenderer)
   mv -v $pkgname/* "$pkgdir"
   _install_licenses
 }
@@ -811,14 +809,14 @@
 
 package_qemu-system-aarch64() {
   pkgdesc="QEMU system emulator for AARCH64"
-  depends=("${_qemu_system_deps[@]}" dtc edk2-aarch64 systemd-libs libudev.so)
+  depends=("${_qemu_system_deps[@]}" dtc libudev libudev.so)
   mv -v $pkgname/* "$pkgdir"
   _install_licenses
 }
 
 package_qemu-system-alpha() {
   pkgdesc="QEMU system emulator for Alpha"
-  depends=("${_qemu_system_deps[@]}" qemu-system-alpha-firmware=$pkgver-$pkgrel systemd-libs libudev.so)
+  depends=("${_qemu_system_deps[@]}" qemu-system-alpha-firmware=$pkgver-$pkgrel libudev libudev.so)
   mv -v $pkgname/* "$pkgdir"
   _install_licenses
 }
@@ -832,7 +830,7 @@
 
 package_qemu-system-arm() {
   pkgdesc="QEMU system emulator for ARM"
-  depends=("${_qemu_system_deps[@]}" dtc edk2-arm qemu-system-arm-firmware=$pkgver-$pkgrel systemd-libs libudev.so)
+  depends=("${_qemu_system_deps[@]}" dtc qemu-system-arm-firmware=$pkgver-$pkgrel libudev libudev.so)
   mv -v $pkgname/* "$pkgdir"
   _install_licenses
 }
@@ -853,7 +851,7 @@
 
 package_qemu-system-hppa() {
   pkgdesc="QEMU system emulator for HPPA"
-  depends=("${_qemu_system_deps[@]}" qemu-system-hppa-firmware=$pkgver-$pkgrel systemd-libs libudev.so)
+  depends=("${_qemu_system_deps[@]}" qemu-system-hppa-firmware=$pkgver-$pkgrel libudev libudev.so)
   mv -v $pkgname/* "$pkgdir"
   _install_licenses
 }
@@ -867,7 +865,7 @@
 
 package_qemu-system-loongarch64() {
   pkgdesc="QEMU system emulator for LoongArch64"
-  depends=("${_qemu_system_deps[@]}" dtc systemd-libs)
+  depends=("${_qemu_system_deps[@]}" dtc libudev)
   mv -v $pkgname/* "$pkgdir"
   _install_licenses
 }
@@ -895,21 +893,21 @@
 
 package_qemu-system-mips() {
   pkgdesc="QEMU system emulator for MIPS"
-  depends=("${_qemu_system_deps[@]}" dtc systemd-libs libudev.so)
+  depends=("${_qemu_system_deps[@]}" dtc libudev libudev.so)
   mv -v $pkgname/* "$pkgdir"
   _install_licenses
 }
 
 package_qemu-system-or1k() {
   pkgdesc="QEMU system emulator for OpenRisc32"
-  depends=("${_qemu_system_deps[@]}" dtc systemd-libs)
+  depends=("${_qemu_system_deps[@]}" dtc libudev)
   mv -v $pkgname/* "$pkgdir"
   _install_licenses
 }
 
 package_qemu-system-ppc() {
   pkgdesc="QEMU system emulator for PPC"
-  depends=("${_qemu_system_deps[@]}" dtc qemu-system-ppc-firmware=$pkgver-$pkgrel systemd-libs libudev.so)
+  depends=("${_qemu_system_deps[@]}" dtc qemu-system-ppc-firmware=$pkgver-$pkgrel libudev libudev.so)
   mv -v $pkgname/* "$pkgdir"
   _install_licenses
 }
@@ -923,7 +921,7 @@
 
 package_qemu-system-riscv() {
   pkgdesc="QEMU system emulator for RISC-V"
-  depends=("${_qemu_system_deps[@]}" dtc qemu-system-riscv-firmware=$pkgver-$pkgrel systemd-libs libudev.so)
+  depends=("${_qemu_system_deps[@]}" dtc qemu-system-riscv-firmware=$pkgver-$pkgrel libudev libudev.so)
   mv -v $pkgname/* "$pkgdir"
   _install_licenses
 }
@@ -944,7 +942,7 @@
 
 package_qemu-system-s390x() {
   pkgdesc="QEMU system emulator for S390"
-  depends=("${_qemu_system_deps[@]}" qemu-system-s390x-firmware=$pkgver-$pkgrel systemd-libs libudev.so)
+  depends=("${_qemu_system_deps[@]}" qemu-system-s390x-firmware=$pkgver-$pkgrel libudev libudev.so)
   mv -v $pkgname/* "$pkgdir"
   _install_licenses
 }
@@ -958,14 +956,14 @@
 
 package_qemu-system-sh4() {
   pkgdesc="QEMU system emulator for SH4"
-  depends=("${_qemu_system_deps[@]}" systemd-libs libudev.so)
+  depends=("${_qemu_system_deps[@]}" libudev libudev.so)
   mv -v $pkgname/* "$pkgdir"
   _install_licenses
 }
 
 package_qemu-system-sparc() {
   pkgdesc="QEMU system emulator for SPARC"
-  depends=("${_qemu_system_deps[@]}" qemu-system-sparc-firmware=$pkgver-$pkgrel systemd-libs libudev.so)
+  depends=("${_qemu_system_deps[@]}" qemu-system-sparc-firmware=$pkgver-$pkgrel libudev libudev.so)
   mv -v $pkgname/* "$pkgdir"
   _install_licenses
 }
@@ -986,7 +984,7 @@
 
 package_qemu-system-x86() {
   pkgdesc="QEMU system emulator for x86"
-  depends=("${_qemu_system_deps[@]}" dtc edk2-ovmf libcbor libcbor.so qemu-system-x86-firmware=$pkgver-$pkgrel seabios systemd-libs libudev.so)
+  depends=("${_qemu_system_deps[@]}" dtc edk2-ovmf libcbor libcbor.so qemu-system-x86-firmware=$pkgver-$pkgrel seabios libudev libudev.so)
   mv -v $pkgname/* "$pkgdir"
   _install_licenses
 }
@@ -1000,14 +998,14 @@
 
 package_qemu-system-xtensa() {
   pkgdesc="QEMU system emulator for Xtensa"
-  depends=("${_qemu_system_deps[@]}" dtc systemd-libs libudev.so)
+  depends=("${_qemu_system_deps[@]}" dtc libudev libudev.so)
   mv -v $pkgname/* "$pkgdir"
   _install_licenses
 }
 
 package_qemu-hw-uefi-vars() {
   pkgdesc="QEMU UEFI vars handling"
-  depends=(gcc-libs glibc gnutls qemu-common=$pkgver-$pkgrel)
+  depends=(glibc gnutls libgcc qemu-common=$pkgver-$pkgrel)
   mv -v $pkgname/* "$pkgdir"
   _install_licenses
 }
@@ -1021,30 +1019,29 @@
 
 package_qemu-hw-usb-redirect() {
   pkgdesc="QEMU usbredir device"
-  depends=(gcc-libs glibc qemu-common=$pkgver-$pkgrel usbredir)
+  depends=(glibc libgcc qemu-common=$pkgver-$pkgrel usbredir)
   mv -v $pkgname/* "$pkgdir"
   _install_licenses
 }
 
 package_qemu-hw-usb-smartcard() {
   pkgdesc="QEMU USB smartcard device"
-  depends=(gcc-libs libcacard glib2 libglib-2.0.so glibc qemu-common=$pkgver-$pkgrel)
+  depends=(libcacard glib2 libgcc libglib-2.0.so glibc qemu-common=$pkgver-$pkgrel)
   mv -v $pkgname/* "$pkgdir"
   _install_licenses
 }
 
 package_qemu-img() {
   pkgdesc="QEMU tooling for manipulating disk images"
-  depends=(fuse3 gcc-libs glib2 libglib-2.0.so libgmodule-2.0.so glibc gnutls libaio liburing liburing.so numactl libnuma.so pam libpam.so zlib zstd libzstd.so)
+  depends=(fuse3 glib2 libgcc libglib-2.0.so libgmodule-2.0.so glibc gnutls libaio liburing liburing.so numactl libnuma.so pam libpam.so zlib zstd libzstd.so)
   mv -v $pkgname/* "$pkgdir"
   _install_licenses
 }
 
 package_qemu-pr-helper() {
   pkgdesc="QEMU persistent reservation utility"
-  depends=(gcc-libs glib2 libglib-2.0.so libgmodule-2.0.so glibc gnutls libcap-ng libcap-ng.so liburing liburing.so multipath-tools numactl libnuma.so pam libpam.so qemu-common=$pkgver-$pkgrel systemd-libs)
-  mv -v $pkgname/* "$pkgdir"
-  install -vDm 644 $pkgbase-$pkgver/contrib/systemd/$pkgname.{service,socket} -t "$pkgdir/usr/lib/systemd/system/"
+  depends=(glib2 libgcc libglib-2.0.so libgmodule-2.0.so glibc gnutls libcap-ng libcap-ng.so liburing liburing.so multipath-tools numactl libnuma.so pam libpam.so qemu-common=$pkgver-$pkgrel libudev)
+  mv -v $pkgname/* "$pkgdir"
   _install_licenses
 }
 
@@ -1057,7 +1054,7 @@
 
 package_qemu-tools() {
   pkgdesc="QEMU tools"
-  depends=(curl libcurl.so gcc-libs glib2 libglib-2.0.so libgmodule-2.0.so glibc libxkbcommon libxkbcommon.so python qemu-common=$pkgver-$pkgrel)
+  depends=(curl libcurl.so glib2 libgcc libglib-2.0.so libgmodule-2.0.so glibc libxkbcommon libxkbcommon.so python qemu-common=$pkgver-$pkgrel)
   mv -v $pkgname/* "$pkgdir"
   install -vDm 644 $pkgbase-$pkgver/scripts/dump-guest-memory.py -t "$pkgdir/usr/share/$pkgbase/"
   install -vDm 755 $pkgbase-$pkgver/scripts/simpletrace.py -t "$pkgdir/usr/share/$pkgbase/"
@@ -1069,14 +1066,14 @@
 
 package_qemu-ui-curses() {
   pkgdesc="QEMU curses UI driver"
-  depends=(gcc-libs glib2 libglib-2.0.so glibc ncurses libncursesw.so qemu-common=$pkgver-$pkgrel)
+  depends=(glib2 libgcc libglib-2.0.so glibc ncurses libncursesw.so qemu-common=$pkgver-$pkgrel)
   mv -v $pkgname/* "$pkgdir"
   _install_licenses
 }
 
 package_qemu-ui-dbus() {
   pkgdesc="QEMU D-Bus UI driver"
-  depends=(gcc-libs glib2 libgio-2.0.so libgobject-2.0.so libglib-2.0.so glibc libepoxy pixman libpixman-1.so qemu-common=$pkgver-$pkgrel)
+  depends=(glib2 libgcc libgio-2.0.so libgobject-2.0.so libglib-2.0.so glibc libepoxy pixman libpixman-1.so qemu-common=$pkgver-$pkgrel)
   mv -v $pkgname/* "$pkgdir"
   _install_licenses
 }
@@ -1109,7 +1106,7 @@
 
 package_qemu-ui-opengl() {
   pkgdesc="QEMU OpenGL UI driver"
-  depends=(gcc-libs glibc libepoxy mesa pixman libpixman-1.so qemu-common=$pkgver-$pkgrel)
+  depends=(glibc libgcc libepoxy mesa pixman libpixman-1.so qemu-common=$pkgver-$pkgrel)
   mv -v $pkgname/* "$pkgdir"
   _install_licenses
 }
@@ -1130,14 +1127,14 @@
 
 package_qemu-ui-spice-core() {
   pkgdesc="QEMU spice core UI driver"
-  depends=(gcc-libs glibc pixman libpixman-1.so qemu-common=$pkgver-$pkgrel qemu-ui-opengl=$pkgver-$pkgrel spice libspice-server.so)
+  depends=(glibc pixman libgcc libpixman-1.so qemu-common=$pkgver-$pkgrel qemu-ui-opengl=$pkgver-$pkgrel spice libspice-server.so)
   mv -v $pkgname/* "$pkgdir"
   _install_licenses
 }
 
 package_qemu-user() {
   pkgdesc="QEMU user mode emulation"
-  depends=(capstone gcc-libs glib2 libglib-2.0.so libgmodule-2.0.so glibc gnutls libelf liburing liburing.so numactl libnuma.so qemu-common=$pkgver-$pkgrel zlib)
+  depends=(capstone glib2 libgcc libglib-2.0.so libgmodule-2.0.so glibc gnutls libelf liburing liburing.so numactl libnuma.so qemu-common=$pkgver-$pkgrel zlib)
   optdepends=('qemu-user-binfmt: for binary format rules')
   mv -v $pkgname/* "$pkgdir"
   _install_licenses
@@ -1170,7 +1167,7 @@
 
 package_qemu-vhost-user-gpu() {
   pkgdesc="QEMU vhost-user-gpu display device"
-  depends=(gcc-libs glib2 libglib-2.0.so libgmodule-2.0.so glibc pixman libepoxy libpixman-1.so mesa numactl libnuma.so qemu-common=$pkgver-$pkgrel virglrenderer)
+  depends=(glib2 libgcc libglib-2.0.so libgmodule-2.0.so glibc pixman libepoxy libpixman-1.so mesa numactl libnuma.so qemu-common=$pkgver-$pkgrel virglrenderer)
   mv -v $pkgname/* "$pkgdir"
   _install_licenses
 }
@@ -1178,9 +1175,8 @@
 package_qemu-vmsr-helper() {
   pkgdesc="QEMU persistent reservation utility"
   arch=(x86_64)
-  depends=(gcc-libs glib2 libglib-2.0.so libgmodule-2.0.so glibc gnutls libcap-ng libcap-ng.so liburing liburing.so numactl libnuma.so pam libpam.so qemu-common=$pkgver-$pkgrel)
-  mv -v $pkgname/* "$pkgdir"
-  install -vDm 644 $pkgbase-$pkgver/contrib/systemd/$pkgname.{service,socket} -t "$pkgdir/usr/lib/systemd/system/"
+  depends=(glib2 libgcc libglib-2.0.so libgmodule-2.0.so glibc gnutls libcap-ng libcap-ng.so liburing liburing.so numactl libnuma.so pam libpam.so qemu-common=$pkgver-$pkgrel)
+  mv -v $pkgname/* "$pkgdir"
   _install_licenses
 }
 


############# Stripped diff below #################

--- arch_depends
+++ artix_depends
@@ -5,11 +5,8 @@
 capstone
 curl
 dtc
-edk2-aarch64
-edk2-arm
 edk2-ovmf
 fuse3
-gcc-libs
 gdk-pixbuf2
 glib2
 glib2-devel
@@ -34,6 +31,7 @@
 libcurl.so
 libelf
 libepoxy
+libgcc
 libgdk-3.so
 libgdk_pixbuf-2.0.so
 libgio-2.0.so
@@ -63,6 +61,7 @@
 libspice-server.so
 libssh
 libssh.so
+libudev
 libudev.so
 liburing
 liburing.so
@@ -181,8 +180,7 @@
 snappy
 spice
 spice-protocol
-systemd
-systemd-libs
+udev
 usbredir
 vde2
 virglrenderer