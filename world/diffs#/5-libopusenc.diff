--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,41 +1,29 @@
 
 pkgname=libopusenc
-pkgver=0.3
-pkgrel=1
+pkgver=0.2.1
+pkgrel=5
 pkgdesc='High-level API for encoding .opus files'
-arch=(x86_64)
+arch=('x86_64')
 url='https://opus-codec.org/'
-license=(BSD-3-Clause)
-depends=(glibc opus)
-makedepends=(git)
-options=(staticlibs)
+license=('BSD')
+depends=('glibc' 'opus')
+options=('staticlibs')
 source=("https://archive.mozilla.org/pub/opus/libopusenc-$pkgver.tar.gz")
-source=("$pkgname::git+https://gitlab.xiph.org/xiph/libopusenc#tag=v$pkgver")
-sha512sums=('74d43e0dfee674a9a58aecd6b5036335ed400cec6190d4c5c35cc090133f286eecedcbd96618ef44c47f80e11a1aea304ab71b1f97d8b467b5d31b6300de284b')
-b2sums=('e252c7b0cdd6168c87992468aa9c3d3271b6317cecc29472c6b69f3c3b83b313308cecdbb8a02dab1920de3b977c6d16ad94ad3159ca81ce15ce265e5650fcf7')
-
-prepare() {
-  cd "$pkgname"
-
-  autoreconf -vfi
-}
+sha256sums=('8298db61a8d3d63e41c1a80705baa8ce9ff3f50452ea7ec1c19a564fe106cbb9')
 
 build() {
-  cd "$pkgname"
+  cd "$pkgname-$pkgver"
 
-  export CFLAGS+=" -ffat-lto-objects"
-
+  CFLAGS+=" -ffat-lto-objects" \
   ./configure --prefix="/usr"
-
   make
 }
 
 package() {
-  cd "$pkgname"
+  cd "$pkgname-$pkgver"
 
   make DESTDIR="$pkgdir" install
 
-  install -vDm644 -t "$pkgdir/usr/share/licenses/$pkgname" COPYING
-
+  install -Dm644 "COPYING" "$pkgdir/usr/share/licenses/libopusenc/COPYING"
   rm -rf "$pkgdir/usr/share/doc"
 }


############# Stripped diff below #################

--- arch_depends
+++ artix_depends
@@ -1,3 +1,2 @@
-git
 glibc
 opus

--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,10 +1,6 @@
-prepare() {
-cd "$pkgname"
-autoreconf -vfi
-}
 build() {
-cd "$pkgname"
-export CFLAGS+=" -ffat-lto-objects"
+cd "$pkgname-$pkgver"
+CFLAGS+=" -ffat-lto-objects" \
 ./configure --prefix="/usr"
 make
 }
