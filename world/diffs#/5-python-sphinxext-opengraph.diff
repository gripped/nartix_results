--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,52 +1,29 @@
 
-pkgname=python-sphinxext-opengraph
-pkgver=0.13.0
-pkgrel=1
-pkgdesc='Sphinx extension to generate unique OpenGraph metadata'
-arch=(any)
-url='https://github.com/sphinx-doc/sphinxext-opengraph'
-license=(BSD-3-Clause)
-depends=(
-  python
-  python-sphinx
-  python-matplotlib
-  python-docutils
-)
-makedepends=(
-  git
-  python-build
-  python-installer
-  python-flit-core
-)
-checkdepends=(
-  python-pytest
-  python-beautifulsoup4
-)
-source=("$pkgname::git+$url#tag=v$pkgver")
-sha512sums=('3fbbe884bdf5c86b2f9c460105456178580c49b896dbe82038d947ec67ac905711056852a97b3b136407202f71bf5306666d913896b528c07d6775acdbc51aab')
-b2sums=('fe88d5b6eae99428bd2afb52fb6f2bbc8713c463ab43642de610f680dcc71008203c74b9a6f1430114bb2d7a1352c641782ac1bdfb08d5c910fa5d37dd4c407f')
+_name=sphinxext-opengraph
+pkgname=python-$_name
+pkgver=0.9.1
+pkgrel=4
+pkgdesc="Sphinx extension to generate unique OpenGraph metadata"
+arch=('any')
+url="https://sphinxext-opengraph.readthedocs.io/"
+license=('BSD')
+depends=('python-sphinx' 'python-matplotlib')
+makedepends=('python-setuptools' 'python-setuptools-scm')
+source=(https://files.pythonhosted.org/packages/source/s/$_name/$_name-$pkgver.tar.gz)
+sha256sums=('dd2868a1e7c9497977fbbf44cc0844a42af39ca65fe1bb0272518af225d06fc5')
+
+prepare() {
+  cd $_name-$pkgver
+}
 
 build() {
-  cd "$pkgname"
-
-  python -m build --wheel --no-isolation
-}
-
-check() {
-  cd "$pkgname"
-
-  python -m installer --destdir="$(pwd)/tmp" dist/*.whl
-  local site_packages=$(python -c "import site; print(site.getsitepackages()[0])")
-  export PYTHONPATH="$(pwd)/tmp/$site_packages"
-
-  pytest -v
+  cd $_name-$pkgver
+  python setup.py build
 }
 
 package() {
-  cd "$pkgname"
-
-  python -m installer --destdir="$pkgdir" dist/*.whl
-
-  install -vDm644 -t "$pkgdir/usr/share/licenses/$pkgname" LICENCE.rst
+  cd $_name-$pkgver
+  python setup.py install --root="$pkgdir" --optimize=1 --skip-build
+  install -Dm644 -t "$pkgdir/usr/share/licenses/$pkgname" LICENSE.md
 }
 


############# Stripped diff below #################

--- arch_depends
+++ artix_depends
@@ -1,8 +1,4 @@
-git
-python
-python-build
-python-docutils
-python-flit-core
-python-installer
 python-matplotlib
+python-setuptools
+python-setuptools-scm
 python-sphinx

--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,4 +1,7 @@
+prepare() {
+cd $_name-$pkgver
+}
 build() {
-cd "$pkgname"
-python -m build --wheel --no-isolation
+cd $_name-$pkgver
+python setup.py build
 }
