--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,48 +1,26 @@
 
 pkgname=python-bitstring
-_pkgname=${pkgname#python-}
-pkgver=4.2.3
-pkgrel=1
-pkgdesc='A Python module to help you manage your bits'
+pkgver=3.1.9
+pkgrel=5
+pkgdesc='Python module designed to help make the creation, manipulation and analysis of binary data as simple and natural as possible'
 arch=('any')
 url="https://github.com/scott-griffiths/bitstring"
 license=('MIT')
-depends=(
-  'python'
-  'python-bitarray'
-)
-makedepends=(
-  'python-build'
-  'python-installer'
-  'python-setuptools'
-  'python-wheel'
-)
-checkdepends=(
-  'python-hypothesis'
-  'python-pytest'
-)
-source=("$url/archive/$_pkgname-$pkgver.tar.gz")
-sha256sums=('38a4275c6b23a60addf5a94d952fae5fe1f81cd76a2258c6380f1f3b2a17d0f3')
+depends=('python')
+makedepends=('python-setuptools')
+source=("https://github.com/scott-griffiths/bitstring/archive/${pkgname/python-}-${pkgver}.tar.gz")
+sha256sums=('32da255b20b93a15260a8498170411ef1f112de5e5011fd0ae81fd834edf5f07')
 
 build() {
-  cd "$_pkgname-$_pkgname-$pkgver"
-  python -m build --wheel --no-isolation
-}
+  cd "${srcdir}/${pkgname/python-}-${pkgname/python-}-${pkgver}"
 
-check() {
-  cd "$_pkgname-$_pkgname-$pkgver"
-  local pytest_args=(
-    --ignore=tests/test_fp8.py
-    --ignore=tests/test_mxfp.py
-
-    --deselect=tests/test_benchmarks.py
-  )
-  pytest "${pytest_args[@]}"
+  python setup.py build
 }
 
 package() {
-  cd "$_pkgname-$_pkgname-$pkgver"
-  python -m installer --destdir="$pkgdir" dist/*.whl
-  install -vDm644 -t "$pkgdir/usr/share/licenses/$pkgname" LICENSE
+  cd "${srcdir}/${pkgname/python-}-${pkgname/python-}-${pkgver}"
+
+  python setup.py install --root="${pkgdir}/" --optimize=1
+  install -D -m0644 LICENSE "${pkgdir}/usr/share/licenses/${pkgname}/LICENSE"
 }
 


############# Stripped diff below #################

--- arch_depends
+++ artix_depends
@@ -1,6 +1,2 @@
 python
-python-bitarray
-python-build
-python-installer
 python-setuptools
-python-wheel

--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,4 +1,4 @@
 build() {
-cd "$_pkgname-$_pkgname-$pkgver"
-python -m build --wheel --no-isolation
+cd "${srcdir}/${pkgname/python-}-${pkgname/python-}-${pkgver}"
+python setup.py build
 }
