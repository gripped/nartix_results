--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -96,22 +96,12 @@
 build() {
   cd ${_jdkdir}
 
-  NUM_PROC_OPT=''
-  MAKEFLAG_J=$(echo ${MAKEFLAGS} | sed -En 's/.*-j([0-9]+).*/\1/p')
-  if [ -n "${MAKEFLAG_J}" ]; then
-    echo "Removing '-j${MAKEFLAG_J}' from MAKEFLAGS to prevent build fail. Passing it directly to ./configure."
-    export MAKEFLAGS=${MAKEFLAGS/-j${MAKEFLAG_J}/}
-    NUM_PROC_OPT="--with-num-cores=${MAKEFLAG_J}"
-  fi
+  local MAKEFLAG_J=$(echo ${MAKEFLAGS} | sed -En 's/.*-j([0-9]+).*/\1/p')
+  export MAKEFLAGS=${MAKEFLAGS/-j${MAKEFLAG_J}/}
 
   local _CFLAGS="${CFLAGS//-O2/-O3} ${CPPFLAGS} -fcommon"
   local _CXXFLAGS="${CXXFLAGS//-O2/-O3} ${CPPFLAGS} -fcommon"
   local _LDFLAGS=${LDFLAGS}
-  if [[ ${CARCH} = i686 ]]; then
-    echo "Removing '-fno-plt' from CFLAGS and CXXFLAGS to prevent build fail with this architecture"
-    _CFLAGS=${CFLAGS/-fno-plt/}
-    _CXXFLAGS=${CXXFLAGS/-fno-plt/}
-  fi
 
   _CFLAGS=${CFLAGS/-fexceptions/}
   _CXXFLAGS=${CXXFLAGS/-fexceptions/}
@@ -145,8 +135,7 @@
     --with-native-debug-symbols=internal \
     --enable-unlimited-crypto \
     --disable-warnings-as-errors \
-    --with-vendor-name="Arch Linux" \
-    ${NUM_PROC_OPT}
+    --with-vendor-name="Artix Linux"
 
   make images legacy-jre-image docs
 


############# Stripped diff below #################



--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,20 +1,10 @@
 build() {
 cd ${_jdkdir}
-NUM_PROC_OPT=''
-MAKEFLAG_J=$(echo ${MAKEFLAGS} | sed -En 's/.*-j([0-9]+).*/\1/p')
-if [ -n "${MAKEFLAG_J}" ]; then
-echo "Removing '-j${MAKEFLAG_J}' from MAKEFLAGS to prevent build fail. Passing it directly to ./configure."
+local MAKEFLAG_J=$(echo ${MAKEFLAGS} | sed -En 's/.*-j([0-9]+).*/\1/p')
 export MAKEFLAGS=${MAKEFLAGS/-j${MAKEFLAG_J}/}
-NUM_PROC_OPT="--with-num-cores=${MAKEFLAG_J}"
-fi
 local _CFLAGS="${CFLAGS//-O2/-O3} ${CPPFLAGS} -fcommon"
 local _CXXFLAGS="${CXXFLAGS//-O2/-O3} ${CPPFLAGS} -fcommon"
 local _LDFLAGS=${LDFLAGS}
-if [[ ${CARCH} = i686 ]]; then
-echo "Removing '-fno-plt' from CFLAGS and CXXFLAGS to prevent build fail with this architecture"
-_CFLAGS=${CFLAGS/-fno-plt/}
-_CXXFLAGS=${CXXFLAGS/-fno-plt/}
-fi
 _CFLAGS=${CFLAGS/-fexceptions/}
 _CXXFLAGS=${CXXFLAGS/-fexceptions/}
 unset CFLAGS
@@ -43,8 +33,7 @@
 --with-native-debug-symbols=internal \
 --enable-unlimited-crypto \
 --disable-warnings-as-errors \
---with-vendor-name="Arch Linux" \
-${NUM_PROC_OPT}
+--with-vendor-name="Artix Linux"
 make images legacy-jre-image docs
 find "${srcdir}/${_imgdir}" -iname '*.so' -exec chmod +x {} \;
 }
