--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,12 +1,14 @@
 
 pkgname=elixir
-pkgver=1.19.4
+pkgver=1.19.3
 pkgrel=1
 pkgdesc="A dynamic, functional language for building scalable and maintainable applications"
 url="https://elixir-lang.org"
 license=('Apache-2.0')
 arch=('any')
-depends=('erlang-core')
+depends=(
+  'erlang-core'
+)
 makedepends=(
   'erlang-compiler'
   'erlang-crypto'
@@ -19,32 +21,32 @@
   'erlang-stdlib'
   'erlang-tools'
   'erlang-xmerl'
-  'git'
 )
 checkdepends=(
   'erlang-dialyzer'
   'erlang-eunit'
+  'git'
   'rebar3'
 )
-source=("git+https://github.com/elixir-lang/elixir.git#tag=v${pkgver}")
-sha512sums=('e50912fd912a197487c9edaebb0c1db3f2b1afd65053f8312c0d9efea0072715ba8b7447b6b443a7989a888097470ea1b90546d62dc25c830709dec74d57361f')
-
+source=(
+  "${pkgname}-${pkgver}.tar.gz::https://github.com/elixir-lang/elixir/archive/v${pkgver}.tar.gz"
+)
+sha256sums=('a76299ec8d14b43a84a03b3b700b9f912a64912f03ced8e024ae267b7e40c26d')
 build() {
-  cd ${pkgname}
+  cd "${pkgname}-${pkgver}"
   export REBAR3=/usr/bin/rebar3
   make
 }
 
 check() {
-  cd ${pkgname}
+  cd "${pkgname}-${pkgver}"
   export REBAR3=/usr/bin/rebar3
   export ERL_EPMD_PORT=5369
-  unset GIT_CONFIG_GLOBAL GIT_CONFIG_SYSTEM
   make test
   epmd -port $ERL_EPMD_PORT -kill
 }
 
 package() {
-  cd ${pkgname}
+  cd "${pkgname}-${pkgver}"
   make DESTDIR="${pkgdir}" PREFIX=/usr install
 }


############# Stripped diff below #################

--- arch_depends
+++ artix_depends
@@ -10,4 +10,3 @@
 erlang-stdlib
 erlang-tools
 erlang-xmerl
-git

--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,5 +1,5 @@
 build() {
-cd ${pkgname}
+cd "${pkgname}-${pkgver}"
 export REBAR3=/usr/bin/rebar3
 make
 }
