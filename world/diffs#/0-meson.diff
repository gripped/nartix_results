--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,7 +1,7 @@
 
 pkgname=meson
-pkgver=1.4.1
-pkgrel=1
+pkgver=1.4.0
+pkgrel=5
 pkgdesc="High productivity build system"
 url="https://mesonbuild.com/"
 arch=(any)
@@ -67,21 +67,27 @@
   https://github.com/mesonbuild/meson/releases/download/$pkgver/meson-$pkgver.tar.gz{,.asc}
   meson-reference-$pkgver.3::https://github.com/mesonbuild/meson/releases/download/$pkgver/meson-reference.3
   meson-reference-$pkgver.json::https://github.com/mesonbuild/meson/releases/download/$pkgver/reference_manual.json
-  arch-meson
+  artix-meson
   cross-lib32
   native-clang
   0001-Skip-broken-tests.patch
-  0002-cuda-avoid-test-failure-without-GPU-available.patch
+  0002-unittests-Add-a-helper-for-copying-source-trees.patch
+  0003-tests-Fix-unit-tests-with-high-parallelism.patch
+  0004-Revert-rust-recursively-pull-proc-macro-dependencies.patch
+  0005-Fix-builds-with-Ninja-12-and-remove-a-5-year-old-wor.patch
 )
-b2sums=('1eb83ad34d9e0a80eaf667a5edf04cf40ff043c0b9e8c78c5bd553eb2dae372b4c0dc8e30760da0321b7c33d331304c21c7f51d2133681c9fa66d551039952f3'
+b2sums=('7f742ef870c182e552c1ff3508d65f251009d610def6a08e01fddb6c6a4ed6d608ead0d52cf8ca7d66b5bd7a4732dccd7ab5d98f141a4a61e275398885f79486'
         'SKIP'
-        'a0ea6a1dd599c0a559dae64772f730ac7cad7df3ea63acc8355ff933152873567803efff012e6ea0a4c75ef9c8be023a8d927411a49e43de20bbfc69b1263488'
-        'f44fdcb30d576e1f94d184963a379745c7ff8561622151f2ecd2c03de854bc2c9b4e1162c34dc8c6a367f16c7307044691f7e43076725bce66c979e4f4a5ce5f'
+        '8ad24592c1a9100832dead97a55d4cb358892fc1cd6aee641f9610cb6a5df211831e6cfc42e047d5e835ed53de1bb9c7d711dd1a0a8cfe18a0f85e92a1a3f925'
+        '6d08a48551e4aa68b05c307dc970e74164ba689b27f7412e39840b5cea7c65addb28e7c0fb46f4a6469b8d1a6dc6b50eb4ea477cb3d25a7f09c49b86015f6052'
         '70f042a7603d1139f6cef33aec028da087cacabe278fd47375e1b2315befbfde1c0501ad1ecc63d04d31b232a04f08c735d61ce59d7244521f3d270e417fb5af'
         '9b16477aa77a706492e26fb3ad42e90674b8f0dfe657dd3bd9ba044f921be12ceabeb0050a50a15caee4d999e1ec33ed857bd3bed9e4444d73bb4a4f06381081'
         '7d88929d5a3b49d91c5c9969f19d9b47f3151706526b889515acaeda0141257d5115875ac84832e9ea46f83a7700d673adcc5db84b331cd798c70ae6e90eac1e'
-        'ba31657ec0362795c95ada7a3d903f34aa04effe2594cc8b7731f8de1d5407350855bc438b8d79cae45726283f22be5e8dbf18fc7a119f410e4a110441d4f79b'
-        '0318ef99fbb9e268496e75e6ec584b65fb961dc5b4b37b43f14485ebfce197688f5d9f434ec028011a2c7b720581e346075905520d10863e1b36a65d18de0289')
+        'b0e050d6cfa7e9cb5692e6aa12185632313536bd4ad59c704cfa2b655ad52e3f34d038da3e2f01d47b16f910db8d458b69f3b2b07bd8d74b92622b00bfc7d120'
+        'a5206ac07afa0c3cde982109f52e208a30e59daf1200b42946005bc6db09e647dc9ce220eb359fc0820d2ab1d401c5547e44bbadc0c5e1d7c942865951b9fdd7'
+        '655fdebe13d1857505889c5c8bd4605c989e1c92ac930f42e0162bb75fc53e460c15d929c93e2e9740a99ea49b5ed36f264da5a99dc6110eb1509d665a33ccf9'
+        '62e19e7ec8c3448989167fdda724104389176440ead253e8f1665f6f383542fbc9afae9d6c64f6365e8b2878863416554266e6e651d6e58981fa8e145d321e49'
+        'c7e8e652505ef349b5ad91c71c7d1665dda22945fdfceeddac51dfca43edfec7cae89f5bd962dca27661dd5396835b8b59614d7cb01db67b5a189e1d7dc3ba22')
 validpgpkeys=(
   19E2D6D9B46D8DAA6288F877C24E631BABB1FE70  # Jussi Pakkanen <jpakkane@gmail.com>
 )
@@ -91,7 +97,12 @@
 
   patch -Np1 -i ../0001-Skip-broken-tests.patch
 
-  patch -Np1 -i ../0002-cuda-avoid-test-failure-without-GPU-available.patch
+  patch -Np1 -i ../0002-unittests-Add-a-helper-for-copying-source-trees.patch
+  patch -Np1 -i ../0003-tests-Fix-unit-tests-with-high-parallelism.patch
+
+  patch -Np1 -i ../0004-Revert-rust-recursively-pull-proc-macro-dependencies.patch
+
+  patch -Np1 -i ../0005-Fix-builds-with-Ninja-12-and-remove-a-5-year-old-wor.patch
 }
 
 build() {
@@ -118,7 +129,8 @@
   install -Dm644 ../meson-reference-$pkgver.3    "$pkgdir/usr/share/man/man3/meson-reference.3"
   install -Dm644 ../meson-reference-$pkgver.json "$pkgdir/usr/share/doc/$pkgname/reference_manual.json"
 
-  install -D ../arch-meson -t "$pkgdir/usr/bin"
+  install -D ../artix-meson -t "${pkgdir}/usr/bin"
+  ln -sfv artix-meson "${pkgdir}"/usr/bin/arch-meson
 
   install -Dm644 ../cross-lib32 "$pkgdir/usr/share/meson/cross/lib32"
   install -Dm644 ../native-clang "$pkgdir/usr/share/meson/native/clang"


############# Stripped diff below #################



--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,7 +1,10 @@
 prepare() {
 cd $pkgname-$pkgver
 patch -Np1 -i ../0001-Skip-broken-tests.patch
-patch -Np1 -i ../0002-cuda-avoid-test-failure-without-GPU-available.patch
+patch -Np1 -i ../0002-unittests-Add-a-helper-for-copying-source-trees.patch
+patch -Np1 -i ../0003-tests-Fix-unit-tests-with-high-parallelism.patch
+patch -Np1 -i ../0004-Revert-rust-recursively-pull-proc-macro-dependencies.patch
+patch -Np1 -i ../0005-Fix-builds-with-Ninja-12-and-remove-a-5-year-old-wor.patch
 }
 build() {
 cd $pkgname-$pkgver
