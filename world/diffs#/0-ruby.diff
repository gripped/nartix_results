--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -7,8 +7,8 @@
   ruby-bundled-gems
   ruby-stdlib
 )
-pkgver=3.4.8
-pkgrel=1
+pkgver=3.4.7
+pkgrel=2
 pkgdesc='An object-oriented language for quick and easy programming'
 url='https://www.ruby-lang.org/en/'
 arch=(x86_64)
@@ -35,9 +35,12 @@
 options=('!emptydirs')
 source=(
   "https://cache.ruby-lang.org/pub/ruby/${pkgver:0:3}/ruby-${pkgver}.tar.xz"
-)
-sha512sums=('b6289654685c2d381d15123cf07a131fd088edf13a5336966af5a2e8fad9adda42d14caa7bb0998331831af71e35c546091db55c82089e89b9508603ff5f92d6')
-b2sums=('e40144cea391c32a4ce1e6c576884dd9ca3a31398b0110bb67e96eca90dc1d8cb0376269e691a1b48b06bbbb23b0137e67bd05ae4aeccb5c26d163fbce5cec55')
+  "https://github.com/ruby/openssl/commit/e8481cd687840f6d8247ca70967c1de47093ecb8.patch"
+)
+sha512sums=('a6b99a2f1d0115d5e7efa710da440b9066c524c335928367c80852630f8db5da36c0a82d6e7ace90e8c40cb20c6097cbdca15a51c343254cadf5f0adf60f8505'
+            '7c9682ee0ebcdfc0bf702ff7e7af9914c3ef61c1e0d033784a3bc3a062d7ac7d10ce9239098d3e17f9a60bbe057fb383eb767e2214c5f2f1b768d6299d1b6b1b')
+b2sums=('27732452672e30c5d3d11b6aa6f6e3ebf1c363492145c3e43244804e522d83230f68075d81c6361b4504ad4b9dcb5ac23335412d1f290c03c44a83f940024e8b'
+        'b134071523bc2eeb08aa755c35691667c10c50f4a4394d6a0e037d9f668a8ecee156da0dfa25493ea1833a50cb5792b1de70b73eae1e124aa06bab726c4fdc1a')
 
 _bootstrap=0
 _rubyver="${pkgver:0:3}.0"
@@ -155,6 +158,11 @@
 prepare() {
   cd "ruby-${pkgver}"
 
+  (
+    cd ./ext/openssl
+    patch --verbose --strip=1 --input="../../../e8481cd687840f6d8247ca70967c1de47093ecb8.patch"
+  )
+
   autoreconf -fiv
 }
 


############# Stripped diff below #################



--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,5 +1,9 @@
 prepare() {
 cd "ruby-${pkgver}"
+(
+cd ./ext/openssl
+patch --verbose --strip=1 --input="../../../e8481cd687840f6d8247ca70967c1de47093ecb8.patch"
+)
 autoreconf -fiv
 }
 build() {
