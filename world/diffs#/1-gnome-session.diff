--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,49 +1,57 @@
 
 pkgname=gnome-session
-pkgver=49.0
+pkgver=48.0
 pkgrel=1
 pkgdesc="The GNOME Session Handler"
 url="https://gitlab.gnome.org/GNOME/gnome-session"
 arch=(x86_64)
 license=(GPL-2.0-or-later)
 depends=(
+  bash
   dconf
   gcc-libs
   glib2
   glibc
-  gnome-desktop-4
+  gnome-desktop
+  gnome-keyring
+  gnome-mimeapps
   gsettings-desktop-schemas
-  gtk4
+  gtk3
   json-glib
-  systemd-libs
+  libepoxy
+  libgl
+  libice
+  libsm
+  libx11
+  libxcomposite
+  libxtst
+  libelogind
   xdg-desktop-portal-gnome
 )
 makedepends=(
   docbook-xsl
   git
   glib2-devel
-  libxslt
+  gtk-doc
+  mesa
   meson
+  python
   xmlto
+  xtrans
 )
-conflicts=(gnome-mimeapps)
-replaces=(gnome-mimeapps)
-provides=(gnome-mimeapps)
 groups=(gnome)
-source=("git+https://gitlab.gnome.org/GNOME/gnome-session.git#tag=${pkgver/[a-z]/.&}")
-b2sums=('b8f4494818e8943dae6a13f2af42de47e672068530e67c1a718753cf2fb29e5eb7fe57b5b13093e1cd68ee8b75501d2a81dced4319f4fed05969091d83165edf')
+source=("git+https://gitlab.gnome.org/GNOME/gnome-session.git#tag=${pkgver/[a-z]/.&}"
+        "0001-meson-add-logind-provider-option.patch")
+b2sums=('e7364791aae9fe2be01dc907218b5208eb7cb7aa27e18f34b41502459aab1333327ba0c82511d0021ee20758eb3dace4145be2a6776ee2cc90c8b04d4bcb738d'
+        '016b4861e92f75c2a880f5479d6c05970949955b4682474f327356520d1198fc96f20fccfd34a65261a97de70f47e62996df9d4884f9a5704ff73f2b9f14e8d7')
 
 prepare() {
   cd $pkgname
+  git apply -3 ../0001-meson-add-logind-provider-option.patch
 }
 
 build() {
-  local meson_options=(
-    -D docbook=true
-    -D man=true
-  )
-
-  arch-meson $pkgname build "${meson_options[@]}"
+  artix-meson $pkgname build -Dlogind_provider=elogind
   meson compile -C build
 }
 


############# Stripped diff below #################

--- arch_depends
+++ artix_depends
@@ -1,3 +1,4 @@
+bash
 dconf
 docbook-xsl
 gcc-libs
@@ -5,12 +6,24 @@
 glib2
 glib2-devel
 glibc
-gnome-desktop-4
+gnome-desktop
+gnome-keyring
+gnome-mimeapps
 gsettings-desktop-schemas
-gtk4
+gtk-doc
+gtk3
 json-glib
-libxslt
+libelogind
+libepoxy
+libgl
+libice
+libsm
+libx11
+libxcomposite
+libxtst
+mesa
 meson
-systemd-libs
+python
 xdg-desktop-portal-gnome
 xmlto
+xtrans