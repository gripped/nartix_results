--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,31 +1,41 @@
 
 pkgname=python-bcrypt
-pkgver=4.2.1
-pkgrel=2
+pkgver=4.3.0
+pkgrel=1
 pkgdesc="Modern password hashing for your software and your servers"
 arch=('x86_64')
 url="https://github.com/pyca/bcrypt"
-license=('Apache')
+license=('Apache-2.0')
 depends=('python')
-makedepends=('python-build' 'python-installer' 'python-setuptools-rust' 'python-wheel')
+makedepends=(
+  'git'
+  'python-build'
+  'python-installer'
+  'python-setuptools-rust'
+  'python-wheel'
+)
 checkdepends=('python-pytest')
-source=("$pkgname-$pkgver.tar.gz::https://github.com/pyca/bcrypt/archive/$pkgver.tar.gz")
-sha512sums=('1a8af20bffa321c4e88c60b9e22ac1139de85033f11014cf1cbfcd261069bf62f7830432715561f3919c14408e408b05b0774a48d1ea954b600adc635fe7cf57')
+source=("$pkgname::git+$url#tag=$pkgver")
+sha512sums=('da142a8cac0aefcb94b513740d5846c7ca47b93bac9b28ce33f5960b43fc311819de1820b41e010f10721f155c6fe0f5d30a01b6f0cb359c733a2228a401a7e0')
+b2sums=('1caf433bf1b3c66df077f94018772c41df1c99cc3f3f2dfb8b01b287c348ed7ef022b90f0422b5bf8d05eebbbee2afefc7421bb1a859b9dbcb648294d78a99ed')
 
 build() {
-  cd bcrypt-$pkgver
+  cd "$pkgname"
+
   python -m build --wheel --no-isolation
 }
 
 check() {
+  cd "$pkgname"
+
+  python -m installer --destdir=test_dir dist/*.whl
+
   local _site_packages=$(python -c "import site; print(site.getsitepackages()[0])")
-
-  cd bcrypt-$pkgver
-  python -m installer --destdir=test_dir dist/*.whl
   PYTHONPATH="test_dir/$_site_packages:$PYTHONPATH" pytest
 }
 
 package() {
-  cd bcrypt-$pkgver
+  cd "$pkgname"
+
   python -m installer --destdir="$pkgdir" dist/*.whl
 }


############# Stripped diff below #################

--- arch_depends
+++ artix_depends
@@ -1,3 +1,4 @@
+git
 python
 python-build
 python-installer

--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,4 +1,4 @@
 build() {
-cd bcrypt-$pkgver
+cd "$pkgname"
 python -m build --wheel --no-isolation
 }
