--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,8 +1,8 @@
 
 _gemname='webmock'
 pkgname="ruby-${_gemname}"
-pkgver=3.24.0
-pkgrel=1
+pkgver=3.19.1
+pkgrel=3
 pkgdesc='Allows stubbing HTTP requests and setting expectations on HTTP requests.'
 arch=('any')
 url='https://github.com/bblimke/webmock'
@@ -11,14 +11,17 @@
 checkdepends=('ruby-rake' 'ruby-minitest' 'ruby-test-unit' 'ruby-rspec')
 depends=('ruby' 'ruby-crack' 'ruby-hashdiff' 'ruby-addressable')
 options=(!emptydirs)
-source=("${url}/archive/v${pkgver}/${pkgname}-v${pkgver}.tar.gz")
-sha512sums=('4fd6e02c4ea4f7031a82f15c2cf222959d6040981440d335f4e186dc8af0b413a14652126c104c384277d78cef718bc05a97dc397dd7d2166ddaafc030efc486')
+source=("${url}/archive/v${pkgver}/${pkgname}-v${pkgver}.tar.gz"
+        'disable-unneeded-dependencies.patch')
+sha512sums=('40fb5587221693662e8c970aab52b4e73114c45f26850f05799b8cc0ae5f18a2b2941ab4c5d595dbd40501b93d421c9cb3158e911a8c9b31b97966cfcebe4b14'
+            'd946429e8f4f90ef263e8b28b4b536b2d81a46f48076a64f5a68ea06fa9abb19470c9bd14035d086d8e054b0df9085f5793b1aa38ffda576b5161852ddae64aa')
 
 prepare() {
   cd "${srcdir}/${_gemname}-${pkgver}"
 
   sed --in-place 's|git ls-files|find|' "${_gemname}.gemspec" spec/quality_spec.rb
 
+  patch --forward --verbose --strip=1 --input='../disable-unneeded-dependencies.patch'
   sed --in-place '/bundler/d' Rakefile
   sed --in-place '/Bundler/d' Rakefile
 }


############# Stripped diff below #################



--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,6 +1,7 @@
 prepare() {
 cd "${srcdir}/${_gemname}-${pkgver}"
 sed --in-place 's|git ls-files|find|' "${_gemname}.gemspec" spec/quality_spec.rb
+patch --forward --verbose --strip=1 --input='../disable-unneeded-dependencies.patch'
 sed --in-place '/bundler/d' Rakefile
 sed --in-place '/Bundler/d' Rakefile
 }
