--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,6 +1,6 @@
 pkgname=hexer-hobu
 pkgver=1.4.0
-pkgrel=13
+pkgrel=14
 pkgdesc="LAS and OGR hexagonal density and boundary surface generation"
 arch=('x86_64')
 url="https://github.com/hobu/hexer"
@@ -16,13 +16,16 @@
   cd hexer-${pkgver}
 
   patch -Np1 < "${srcdir}/1c528390ec47588661c86e773dcef771787fc564.patch"
+  sed -e 's|CMAKE_MAJOR_VERSION GREATER 2|FALSE|' -i CMakeLists.txt # Fix build with cmake 4
 }
 
 build() {
   mkdir -p hexer-${pkgver}/build
   cd hexer-${pkgver}/build
 
-  cmake -DCMAKE_INSTALL_PREFIX=/usr ..
+  cmake .. \
+    -DCMAKE_INSTALL_PREFIX=/usr \
+    -DCMAKE_POLICY_VERSION_MINIMUM=3.5
   make
 }
 


############# Stripped diff below #################



--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,10 +1,13 @@
 prepare() {
 cd hexer-${pkgver}
 patch -Np1 < "${srcdir}/1c528390ec47588661c86e773dcef771787fc564.patch"
+sed -e 's|CMAKE_MAJOR_VERSION GREATER 2|FALSE|' -i CMakeLists.txt # Fix build with cmake 4
 }
 build() {
 mkdir -p hexer-${pkgver}/build
 cd hexer-${pkgver}/build
-cmake -DCMAKE_INSTALL_PREFIX=/usr ..
+cmake .. \
+-DCMAKE_INSTALL_PREFIX=/usr \
+-DCMAKE_POLICY_VERSION_MINIMUM=3.5
 make
 }
