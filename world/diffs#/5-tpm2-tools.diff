--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,28 +1,24 @@
 
 pkgname=tpm2-tools
-pkgver=5.7
+pkgver=5.6
 pkgrel=1
 pkgdesc='Trusted Platform Module 2.0 tools based on tpm2-tss'
 arch=(x86_64)
 url='https://github.com/tpm2-software/tpm2-tools'
 license=(BSD-3-Clause)
 depends=(
-  efivar
   glibc
 )
 makedepends=(
-  git
-  autoconf-archive
   curl
   openssl
-  pandoc
   tpm2-tss
-  python-yaml
 )
 checkdepends=(
   cmocka
   expect
   iproute2
+  python-yaml
   swtpm
   tpm2-abrmd
   util-linux-libs
@@ -30,29 +26,26 @@
 )
 optdepends=('tpm2-abrmd: user space resource manager')
 options=(!lto)
-source=(git+https://github.com/tpm2-software/tpm2-tools?signed#tag=${pkgver})
-b2sums=('9129a411b12103e1d98c33f2e3b318b77407b9ed69c7b9f47de8f80aa33803488010ccaea7f63026a0d7c9d856d91d950061eb9d93e5fe943abce6fc132d2741')
+source=($url/releases/download/$pkgver/$pkgname-$pkgver.tar.gz{,.asc})
+sha512sums=('14216f29ed3ecca5fbe356ed3744c8b6b25a62ff11b2aed596d11101328c8bfd29a02f6ca5a218f9a4477a5e9648c50f0ae96e71de0b4ff5ea1f98ebeeb73cd7'
+            'SKIP')
+b2sums=('fe88722c26d62128cd6dfbdd8ef2568656a75fe27b1443fed28387d0db1f50b7d0651819d34dfa98acde785b4cfb4e7c11420b110bb5333ed2bb6b67cdd4fc70'
+        'SKIP')
 validpgpkeys=(
-  'D533275B0123D0A679F51FF48F4F9A45D7FFEE74'  # Andreas Fuchs <andreas.fuchs@infineon.com
   '5B482B8E3E19DA7C978E1D016DE2E9078E1F50C1'  # William Roberts (Bill Roberts) <william.c.roberts@intel.com>
   '6313E6DC41AAFC315A8760A414986F6944B1F72B'  # Desai, Imran (idesai-github-gpg) <imran.desai@intel.com>
   '6F72A30EEA41B9B548570AD20D0DB2B265493E29'  # ajay kishore <ajay.kishore@intel.com>
 )
 
-prepare() {
-  cd ${pkgname}
-  ./bootstrap
-}
-
 build() {
-  cd ${pkgname}
+  cd $pkgname-$pkgver
   ./configure --prefix=/usr --enable-unit
   make
 }
 
 check() {
-  cd ${pkgname}
-  make check || return 0
+  cd $pkgname-$pkgver
+  make check
 }
 
 package() {
@@ -62,7 +55,7 @@
     tpm2-tss libtss2-esys.so libtss2-fapi.so libtss2-mu.so libtss2-rc.so libtss2-sys.so libtss2-tctildr.so
   )
 
-  cd ${pkgname}
+  cd $pkgname-$pkgver
   make DESTDIR="$pkgdir" install
-  install -Dm644 docs/LICENSE -t "$pkgdir/usr/share/licenses/${pkgname}"
+  install -Dm644 docs/LICENSE -t "$pkgdir/usr/share/licenses/$pkgname"
 }


############# Stripped diff below #################

--- arch_depends
+++ artix_depends
@@ -1,7 +1,4 @@
-autoconf-archive
 curl
-efivar
-git
 glibc
 libcrypto.so
 libcurl.so
@@ -12,6 +9,4 @@
 libtss2-sys.so
 libtss2-tctildr.so
 openssl
-pandoc
-python-yaml
 tpm2-tss

--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,9 +1,5 @@
-prepare() {
-cd ${pkgname}
-./bootstrap
-}
 build() {
-cd ${pkgname}
+cd $pkgname-$pkgver
 ./configure --prefix=/usr --enable-unit
 make
 }
