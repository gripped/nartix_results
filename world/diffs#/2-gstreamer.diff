--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -11,7 +11,6 @@
   gst-libav
   gst-plugin-gtk
   gst-plugin-msdk
-  gst-plugin-onnx
   gst-plugin-opencv
   gst-plugin-qml6
   gst-plugin-qmlgl
@@ -26,7 +25,7 @@
   gst-python
   gstreamer-docs
 )
-pkgver=1.26.9
+pkgver=1.26.8
 pkgrel=1
 pkgdesc="Multimedia graph framework"
 url="https://gstreamer.freedesktop.org/"
@@ -138,7 +137,6 @@
   nasm
   neon
   nettle
-  onnxruntime
   openal
   opencore-amr
   opencv
@@ -177,7 +175,6 @@
   srt
   svt-av1
   svt-hevc
-  systemd-libs
   taglib
   twolame
   v4l-utils
@@ -205,10 +202,10 @@
   "https://gstreamer.freedesktop.org/src/gstreamer-docs/gstreamer-docs-$pkgver.tar.xz"{,.asc}
   0001-HACK-meson-Disable-broken-tests.patch
 )
-b2sums=('c6718f99ff5ce06e462171706cd9ac6e0039c370dc132cefc3cbe61f06b7b71135619ef75bccffc119133cbc444911c6f4716f65cdf2c27a0a4274e23f3d21bf'
-        'febf6aa59450d6e3ba4a2ca6166dfc84847fd28443b64dd5c40f1e1c6d7309d9bd8fa17b1cfec79c6a682bc2c2ebc8f1639f8061c9f0989845dcae23a76278fe'
+b2sums=('71db8565d00e3f5b94687fce22aed66274d12a6fcee10d962348222c211b751765684c64ff710ed2892a752d96014b4c04244f7ff424fbbe28e39b37199040f3'
+        'a46ebfeb1c6ad0a7ca43234d2f0bce4ecff7377923a540bcd6c0fc971513350bdf859ac0120156009481c78b58a79ec5bca71205c23d7958cc45f33c92131dc8'
         'SKIP'
-        'aad557e5d9fd37dd4e2aceffc1e68a1109775538edff2c21a7b8c4989acaaad4d5f2e37a6243b33c675de2ae3c756373740139d808baa65233185d5d17a5ce50')
+        '7c7064c8c9906f1e1d73d7516e69bf938d02259eb825053e9c33733f0403f70f5d9802a537a1780f25bf6354c5b3e5237dc712991e78e652706abbc77348d579')
 validpgpkeys=(
   D637032E45B8C6585B9456565D2EEE6F6F349D7C # Tim MÃ¼ller <tim@gstreamer-foundation.org>
 )
@@ -221,6 +218,7 @@
 
 build() {
   local meson_options=(
+    -D gst-plugins-bad:onnx=disabled
     -D benchmarks=disabled
     -D examples=disabled
     -D glib_debug=disabled
@@ -260,7 +258,7 @@
     -D gstreamer:ptp-helper-permissions=capabilities
     -D libnice=disabled
     -D orc-source=system
-    -D package-name="Arch Linux GStreamer ${epoch:+$epoch:}$pkgver-$pkgrel"
+    -D package-name="Artix Linux GStreamer ${epoch:+$epoch:}$pkgver-$pkgrel"
     -D package-origin="https://www.archlinux.org/"
     -D vaapi=enabled
   )
@@ -270,7 +268,7 @@
   export CARGO_PROFILE_RELEASE_DEBUG=2 CARGO_PROFILE_RELEASE_STRIP=false
   export CARGO_PROFILE_RELEASE_LTO=true CARGO_PROFILE_RELEASE_CODEGEN_UNITS=1
 
-  arch-meson gstreamer build "${meson_options[@]}"
+  artix-meson gstreamer build "${meson_options[@]}"
   meson compile -C build
 }
 
@@ -281,7 +279,7 @@
   export NO_AT_BRIDGE=1 GTK_A11Y=none
 
   xvfb-run -s "-nolisten local" \
-    meson test -C build --print-errorlogs -t 5
+    meson test -C build --print-errorlogs -t 5 || :
 )
 
 _install() {
@@ -920,23 +918,6 @@
   ); _install
 }
 
-package_gst-plugin-onnx() {
-  pkgdesc+=" - onnx plugin"
-  depends=(
-    "gst-plugins-bad-libs=$pkgver-$pkgrel"
-    "gst-plugins-base-libs=$pkgver-$pkgrel"
-    "gstreamer=$pkgver-$pkgrel"
-    gcc-libs
-    glib2
-    glibc
-    onnxruntime
-    openmpi
-  )
-
-  cd root; local files=(
-    usr/lib/gstreamer-1.0/libgstonnx.so
-  ); _install
-}
 
 package_gst-plugin-opencv() {
   pkgdesc+=" - opencv plugin"
@@ -1187,7 +1168,6 @@
     libva
     libx11
     libxrandr
-    systemd-libs
     wayland
   )
 


############# Stripped diff below #################

--- arch_depends
+++ artix_depends
@@ -109,7 +109,6 @@
 nasm
 neon
 nettle
-onnxruntime
 openal
 opencore-amr
 opencv
@@ -148,7 +147,6 @@
 srt
 svt-av1
 svt-hevc
-systemd-libs
 taglib
 twolame
 v4l-utils