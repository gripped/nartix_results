--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -22,7 +22,7 @@
   meson
   python-dbus
   python-dbusmock
-  systemd
+  linux-api-headers
 )
 checkdepends=(umockdev)
 source=("git+$url.git?signed#tag=$pkgver")
@@ -33,11 +33,12 @@
 
 build() {
   local meson_options=(
+    -D systemdsystemunitdir=/usr/lib/systemd # dummy dir
     -D gtk_doc=true
     -D tests=true
   )
 
-  arch-meson $pkgname build "${meson_options[@]}"
+  artix-meson $pkgname build "${meson_options[@]}"
   meson compile -C build
 }
 
@@ -47,5 +48,7 @@
 
 package() {
   meson install -C build --destdir "$pkgdir"
+
+  rm -r $pkgdir/usr/lib/systemd
 }
 


############# Stripped diff below #################

--- arch_depends
+++ artix_depends
@@ -6,9 +6,9 @@
 gtk-doc
 libdrm
 libgudev
+linux-api-headers
 meson
 python
 python-dbus
 python-dbusmock
 python-gobject
-systemd