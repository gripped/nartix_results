--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,58 +1,24 @@
 
 pkgbase=wireshark
 pkgname=('wireshark-cli' 'wireshark-qt')
-pkgver=4.4.1
+pkgver=4.2.1
 pkgrel=1
 pkgdesc='Network traffic and protocol analyzer/sniffer'
 url='https://www.wireshark.org/'
 arch=('x86_64')
-license=('GPL-2.0-only')
-makedepends=(
-  'asciidoctor'
-  'bcg729'
-  'brotli'
-  'c-ares'
-  'cmake'
-  'desktop-file-utils'
-  'doxygen'
-  'gcc-libs'
-  'glib2'
-  'glibc'
-  'gnutls'
-  'hicolor-icon-theme'
-  'krb5'
-  'libcap'
-  'libgcrypt'
-  'libmaxminddb'
-  'libnghttp2'
-  'libnl'
-  'libpcap'
-  'libssh'
-  'libxml2'
-  'libxslt'
-  'lua53'
-  'lz4'
-  'minizip'
-  'ninja'
-  'opus'
-  'python'
-  'qt6-5compat'
-  'qt6-multimedia'
-  'qt6-svg'
-  'qt6-tools'
-  'sbc'
-  'snappy'
-  'spandsp'
-  'speexdsp'
-  'zlib'
-  'zstd'
-)
+license=('GPL2')
+makedepends=('glibc' 'cmake' 'ninja' 'c-ares' 'libmaxminddb' 'qt6-tools' 'qt6-svg'
+             'qt6-multimedia' 'qt6-5compat' 'krb5' 'libpcap' 'libssh' 'libxml2' 'libnghttp2'
+             'snappy' 'lz4' 'spandsp' 'gnutls' 'lua52' 'python' 'libcap' 'libnl'
+             'glib2' 'libgcrypt' 'sbc' 'bcg729' 'desktop-file-utils' 'libxslt'
+             'hicolor-icon-theme' 'zstd' 'zlib' 'gcc-libs' 'brotli' 'asciidoctor'
+             'doxygen' 'minizip' 'speexdsp' 'opus')
 options=('!emptydirs')
 source=(https://www.wireshark.org/download/src/${pkgbase}-${pkgver}.tar.xz
         wireshark.sysusers)
-sha512sums=('66c5e035a5a0d2bbb82fba67b652e0e37c296ab470da59b8ed71ef4e6d6d061d6a2649b5af544b737cdf31d808a7f8f07a64a9e4d805674ce8965eff23081de4'
+sha512sums=('e08217b0997a53b614cca871edb68c659a2a64b59c1a3072ad3183e3297f039781c50fc44359532bf279f830101a32aeb7238c684272f5b4cb19632787c00d92'
             '3956c1226e64f0ce4df463f80b55b15eed06ecd9b8703b3e8309d4236a6e1ca84e43007336f3987bc862d8a5e7cfcaaf6653125d2a34999a0f1357c52e7c4990')
-b2sums=('747ffe14a7b30c4d7bb435bff1fded11efcf03a8bfcacd48d36141fae7a9cfb7965076b1a807d7f095f66bb99148732c090493d2c3654b4a20355f8dbeac3972'
+b2sums=('ae9672ae6148955dbb509ebbcaab9ad10090958ce0ad4824dabe7aae48a3742fd298a29c4505778218332e7c6783ddc235d8fa3915b2144ed7ee60c0db3aa03e'
         '3cebcc993f51eaf0e09673c77e0436598593ef5eff306d880415ccc8eecb32fee93c9a6986f1a7bb0835ab7f9732369d7c5a07e6c053d6293e73a1ea84c58a5c')
 
 build() {
@@ -66,45 +32,17 @@
     -DCMAKE_INSTALL_LIBDIR=lib \
     -DCMAKE_INSTALL_RPATH= \
     -DCMAKE_SKIP_RPATH=ON \
-    -DENABLE_LUA=ON \
     -Wno-dev
   ninja -C build -v
 }
 
 package_wireshark-cli() {
   pkgdesc+=' - CLI tools and data files'
-  depends=(
-    'bcg729'
-    'brotli'
-    'c-ares'
-    'glib2'
-    'glibc'
-    'gnutls'
-    'krb5'
-    libbrotlidec.so
-    'libcap'
-    libcap.so
-    libcares.so
-    'libgcrypt'
-    libk5crypto.so
-    libkrb5.so
-    'libmaxminddb'
-    'libnghttp2'
-    'libpcap'
-    libpcap.so
-    'libssh'
-    'libxml2'
-    'lua53'
-    'lz4'
-    'opencore-amr'
-    'opus'
-    'sbc'
-    'snappy'
-    'spandsp'
-    'speexdsp'
-    'zlib'
-    'zstd'
-  )
+  depends=('glibc' 'c-ares' 'libmaxminddb' 'krb5' 'libgcrypt' 'libcap' 'libpcap'
+           'gnutls' 'glib2' 'lua52' 'libssh' 'libxml2' 'libnghttp2' 'snappy'
+           'lz4' 'spandsp' 'sbc' 'bcg729' 'zstd' 'zlib' 'brotli' 'speexdsp'
+           'opus' 'opencore-amr' libpcap.so libcap.so libbrotlidec.so libcares.so
+           libkrb5.so libk5crypto.so)
   install=wireshark.install
   conflicts=(wireshark)
   provides=(libwireshark.so libwiretap.so libwsutil.so)
@@ -129,28 +67,11 @@
 
 package_wireshark-qt() {
   pkgdesc+=' - Qt GUI'
-  depends=(
-    'desktop-file-utils'
-    'gcc-libs'
-    'glibc'
-    'hicolor-icon-theme'
-    'libgcrypt'
-    'libnl'
-    'libpcap'
-    libpcap.so
-    'libwireshark.so'
-    'libwiretap.so'
-    'libwsutil.so'
-    'minizip'
-    'qt6-5compat'
-    'qt6-multimedia'
-    'qt6-svg'
-    'shared-mime-info'
-    'speexdsp'
-    'wireshark-cli'
-    'xdg-utils'
-    'zlib'
-  )
+  depends=('glibc' 'desktop-file-utils' 'qt6-multimedia' 'qt6-svg' 'qt6-5compat'
+           'wireshark-cli' 'libwireshark.so' 'libwiretap.so' 'libwsutil.so'
+           'shared-mime-info' 'hicolor-icon-theme' 'xdg-utils' 'gcc-libs'
+           'zlib' 'libpcap' 'libgcrypt' 'libnl' 'minizip' 'speexdsp'
+           libpcap.so)
   replaces=(wireshark wireshark-gtk wireshark-common)
   conflicts=(wireshark wireshark-gtk wireshark-common)
 
@@ -159,8 +80,8 @@
   DESTDIR="${srcdir}/staging" ninja -C build install
 
   install -Dm 755 build/run/wireshark -t "${pkgdir}"/usr/bin
-  install -Dm 644 build/doc/man_pages/wireshark.1 -t "${pkgdir}"/usr/share/man/man1
-  install -Dm 644 build/doc/man_pages/wireshark.html -t "${pkgdir}"/usr/share/doc/wireshark
+  install -Dm 644 build/doc/wireshark.1 -t "${pkgdir}"/usr/share/man/man1
+  install -Dm 644 build/doc/wireshark.html -t "${pkgdir}"/usr/share/doc/wireshark
 
   cd "${srcdir}"/staging/usr/share
   install -Dm 644 applications/org.wireshark.Wireshark.desktop -t "${pkgdir}"/usr/share/applications


############# Stripped diff below #################

--- arch_depends
+++ artix_depends
@@ -29,7 +29,7 @@
 libwsutil.so
 libxml2
 libxslt
-lua53
+lua52
 lz4
 minizip
 ninja

--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -9,7 +9,6 @@
 -DCMAKE_INSTALL_LIBDIR=lib \
 -DCMAKE_INSTALL_RPATH= \
 -DCMAKE_SKIP_RPATH=ON \
--DENABLE_LUA=ON \
 -Wno-dev
 ninja -C build -v
 }
