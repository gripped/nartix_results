--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,45 +1,29 @@
 
 pkgname=libmatekbd
-pkgver=1.28.0
-pkgrel=2
+pkgver=1.26.0
+pkgrel=1.1
 pkgdesc="MATE keyboard library"
-arch=(x86_64)
-url='https://github.com/mate-desktop/libmatekbd'
-license=(LGPL-2.0-or-later)
-depends=(
-  cairo
-  dconf
-  gdk-pixbuf2
-  glib2
-  glibc
-  gtk3
-  libx11
-  libxklavier
-  pango
-)
-makedepends=(
-  git
-  glib2-devel
-  gobject-introspection
-)
-source=("git+https://github.com/mate-desktop/libmatekbd.git#tag=v$pkgver")
-b2sums=(b0a71c4fdfa1477e22c5427a6693e2b8111c1feaac71773bfe8d75bf260950ccbfb5bbf387219bf6c9b5a95b47ba934e8638695f569716eab98911f3bc85f66a)
+url="https://mate-desktop.org"
+arch=('x86_64')
+license=('LGPL')
+depends=('gtk3' 'gettext' 'libxklavier')
+makedepends=('python')
+conflicts=('libmatekbd-gtk3')
+replaces=('libmatekbd-gtk3')
+source=("https://pub.mate-desktop.org/releases/${pkgver%.*}/${pkgname}-${pkgver}.tar.xz")
+sha256sums=('220ee8cab0cbc5f42ca6b621bcd009b0b736507945a2aedbffe2235fa1d811ad')
 
-prepare() {
-  cd $pkgname
-  autoreconf -fiv
+build() {
+    	cd "$pkgname-$pkgver"
+    	./configure \
+        	--prefix=/usr
+
+    	sed -i -e 's/ -shared / -Wl,-O1,--as-needed\0/g' libtool
+
+    	make
 }
 
-build() {
-  cd $pkgname
-  ./configure \
-    --prefix=/usr \
-    --sysconfdir=/etc \
-    --localstatedir=/var
-  make
+package_libmatekbd() {
+	cd "${pkgname}-${pkgver}"
+    	make DESTDIR="${pkgdir}" install
 }
-
-package() {
-  cd $pkgname
-  make DESTDIR="$pkgdir" install
-}


############# Stripped diff below #################

--- arch_depends
+++ artix_depends
@@ -1,12 +1,4 @@
-cairo
-dconf
-gdk-pixbuf2
-git
-glib2
-glib2-devel
-glibc
-gobject-introspection
+gettext
 gtk3
-libx11
 libxklavier
-pango
+python

--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,12 +1,7 @@
-prepare() {
-cd $pkgname
-autoreconf -fiv
-}
 build() {
-cd $pkgname
+cd "$pkgname-$pkgver"
 ./configure \
---prefix=/usr \
---sysconfdir=/etc \
---localstatedir=/var
+--prefix=/usr
+sed -i -e 's/ -shared / -Wl,-O1,--as-needed\0/g' libtool
 make
 }
