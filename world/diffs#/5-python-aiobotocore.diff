--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,41 +1,43 @@
 
 pkgname=python-aiobotocore
 _pkgname=aiobotocore
-pkgver=2.13.2
-pkgrel=1
+pkgver=2.14.0
+pkgrel=2
 pkgdesc='asyncio support for botocore library using aiohttp'
 arch=(any)
 url='https://github.com/aio-libs/aiobotocore'
 license=('Apache-2.0')
 depends=(python python-aiohttp python-botocore python-wrapt python-aioitertools
          python-dateutil python-jmespath python-multidict python-urllib3)
-makedepends=(python-build python-installer python-setuptools python-wheel)
+makedepends=(python-build python-installer python-setuptools python-wheel git)
 checkdepends=(python-moto python-pytest python-pytest-asyncio python-dill python-docutils python-pip
               python-docker python-openapi-spec-validator python-yaml python-flask python-flask-cors)
-source=("https://github.com/aio-libs/aiobotocore/archive/$pkgver/$pkgname-$pkgver.tar.gz"
+source=("git+https://github.com/aio-libs/aiobotocore.git#tag=$pkgver"
         "moto-5.x.diff")
-sha256sums=('678de334febfd754b3aa6ad2ca9a9598dc3198fdd53438595a589f338619ab0f'
+sha256sums=('1430f03fd6d72fb87fcbd1ba2a293f9c816c53aca0459675a26fd4d581e9ee01'
             '2bfadc984a4ad3a6420b356d572c8085b82a46949fc0ecaea98ddce45980503b')
 
 prepare() {
-  cd $_pkgname-$pkgver
+  cd $_pkgname
   patch -Np1 -i ../moto-5.x.diff
+
+  git cherry-pick -n 24a44d7ecf4679b059349989eda0e3d39160c8be
 }
 
 build() {
-  cd $_pkgname-$pkgver
+  cd $_pkgname
   python -m build --wheel --no-isolation
 }
 
 check() {
-  cd $_pkgname-$pkgver
+  cd $_pkgname
 
   export PYTHONPATH="$PWD"
-  pytest -m moto tests \
+  pytest -m moto tests -k "not test_fail_proxy_request" \
       --ignore=tests/test_lambda.py
 }
 
 package() {
-  cd $_pkgname-$pkgver
+  cd $_pkgname
   python -m installer --destdir="$pkgdir" dist/*.whl
 }


############# Stripped diff below #################

--- arch_depends
+++ artix_depends
@@ -1,3 +1,4 @@
+git
 python
 python-aiohttp
 python-aioitertools

--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,8 +1,9 @@
 prepare() {
-cd $_pkgname-$pkgver
+cd $_pkgname
 patch -Np1 -i ../moto-5.x.diff
+git cherry-pick -n 24a44d7ecf4679b059349989eda0e3d39160c8be
 }
 build() {
-cd $_pkgname-$pkgver
+cd $_pkgname
 python -m build --wheel --no-isolation
 }
