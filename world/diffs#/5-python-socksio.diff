--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,46 +1,35 @@
 
-pkgname=python-socksio
+_pkgname=socksio
+pkgname=python-$_pkgname
 pkgver=1.0.0
-pkgrel=7
+pkgrel=6
 pkgdesc='Sans-I/O implementation of SOCKS4, SOCKS4A, and SOCKS5'
 arch=(any)
 url='https://github.com/sethmlarson/socksio'
-license=(MIT)
+license=(BSD)
 depends=(python)
-makedepends=(
-  git
-  python-build
-  python-installer
-  python-flit-core
-  python-wheel
-)
+makedepends=(python-flit-core python-build python-installer python-wheel)
 checkdepends=(python-pytest)
-source=("$pkgname::git+$url#tag=$pkgver")
-sha512sums=('7e2f72b8a7602cd993b9351e9abcc20507299156eadabc536089e5cb2c26b8b376cbd31d58bf98b7f37e4e0598f91eac6ab14c09e0ead75fcbc86dbe8a3d21b8')
-b2sums=('4850f47add23c5c5f51ea42d3336d0838f6a9b1c5b51a5cb2bb55fd8101cc340efa777f664067f7dd26879362c9b6db25c51f05bc29ca042b79456ca35e6dd51')
+source=(https://pypi.python.org/packages/source/${_pkgname:0:1}/${_pkgname/-/_}/${_pkgname/-/_}-${pkgver}.tar.gz)
+sha256sums=('f88beb3da5b5c38b9890469de67d0cb0f9d494b78b106ca1845f96c10b91c4ac')
 
 prepare() {
-  cd "$pkgname"
-
-  git cherry-pick --no-commit b326406915fd98a8185c1c160165c5b8963b30c1
+  cd $_pkgname-$pkgver
+  sed -i 's#>=2,<3##' pyproject.toml
 }
 
 build() {
-  cd "$pkgname"
-
+  cd $_pkgname-$pkgver
   python -m build --wheel --no-isolation
 }
 
 check() {
-  cd "$pkgname"
-
+  cd $_pkgname-$pkgver
   PYTHONPATH="$PWD" pytest -o addopts=''
 }
 
 package() {
-  cd "$pkgname"
-
+  cd $_pkgname-$pkgver
   python -m installer --destdir="$pkgdir" dist/*.whl
-
-  install -vDm644 -t "$pkgdir/usr/share/licenses/$pkgname" LICENSE
+  install -Dm644 LICENSE -t "$pkgdir"/usr/share/licenses/$pkgname
 }


############# Stripped diff below #################

--- arch_depends
+++ artix_depends
@@ -1,4 +1,3 @@
-git
 python
 python-build
 python-flit-core

--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,8 +1,8 @@
 prepare() {
-cd "$pkgname"
-git cherry-pick --no-commit b326406915fd98a8185c1c160165c5b8963b30c1
+cd $_pkgname-$pkgver
+sed -i 's#>=2,<3##' pyproject.toml
 }
 build() {
-cd "$pkgname"
+cd $_pkgname-$pkgver
 python -m build --wheel --no-isolation
 }
