--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,7 +1,7 @@
 
 pkgname=arrow
-pkgver=19.0.0
-pkgrel=1
+pkgver=18.1.0
+pkgrel=3
 pkgdesc="Columnar in-memory analytics layer for big data."
 arch=(x86_64)
 url="https://arrow.apache.org"
@@ -49,17 +49,21 @@
   https://archive.apache.org/dist/$pkgname/$pkgname-$pkgver/apache-$pkgname-$pkgver.tar.gz{,.asc}
   git+https://github.com/apache/parquet-testing.git
   git+https://github.com/apache/arrow-testing.git
+  fix-repetition-levels-for-encryption-test.patch
 )
-sha512sums=('6820de33a5d5b0922ea64dd8ff55d186ef02596ad0415578067aaf3e5cf7d3eead473bc3a5f92d6d3f19b97d153fe1c901359008d922d1ffb0fc2a65dc860c79'
+sha512sums=('7249c03a6097bc64fb0092143e4d4aaef3227565147e6254f026ddd504177c8dd565a184a0df39743dc989070dc3785e5b66f738c8e310ed9c982b61c2ec4914'
             'SKIP'
             'SKIP'
-            'SKIP')
+            'SKIP'
+            '225c1d3b513ab3f82ffa946c22a2aebc7f43af0cdbbede55cbbd9746637d8a032a2e7b888bed6d6e152d28d6d78c842a298187fab94d8864867ba436eeee835d')
 validpgpkeys=(265F80AB84FE03127E14F01125BCCA5220D84079  # Krisztian Szucs (apache) <szucs.krisztian@gmail.com>
               08D3564B7C6A9CAFBFF6A66791D18FCF079F8007  # Kouhei Sutou <kou@cozmixng.org>
               AF6AADA4C9835B75973FF5DA275C532289DD0F4A) # Raúl Cumplido Domínguez (CODE SIGNING KEY) <raulcd@apache.org>
 
 prepare() {
   cd apache-$pkgname-$pkgver
+  patch -Np1 -i ../fix-repetition-levels-for-encryption-test.patch
+
   sed -i 's|COMPONENTS config|COMPONENTS|' cpp/cmake_modules/FindAWSSDKAlt.cmake
 }
 


############# Stripped diff below #################



--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,5 +1,6 @@
 prepare() {
 cd apache-$pkgname-$pkgver
+patch -Np1 -i ../fix-repetition-levels-for-encryption-test.patch
 sed -i 's|COMPONENTS config|COMPONENTS|' cpp/cmake_modules/FindAWSSDKAlt.cmake
 }
 build() {
