--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,7 +1,7 @@
 
 pkgname=python-lark-parser
-pkgver=1.2.2
-pkgrel=1
+pkgver=1.1.9
+pkgrel=3
 pkgdesc='A modern parsing library'
 arch=('any')
 url='https://github.com/lark-parser/lark'
@@ -29,14 +29,18 @@
   'python-js2py: for nearley support'
 )
 provides=('python-lark')
+_commit='262ab71d497a8814f0ca42ca468b923fdb47a3c7'
 source=(
-  "$pkgname::git+$url#tag=$pkgver"
+  "$pkgname::git+$url#commit=$_commit"
   'github.com-Hardmath123-nearley::git+https://github.com/Hardmath123/nearley'
 )
-sha512sums=('f20915d7c94a774f04679949d8a302cceda0408fec1aa02c68aaed2bb4855fd1de0a2b05b48b6ceed842aa64663eb42e3ea570ae5ff05836af3fd3cc36b274e7'
-            'SKIP')
-b2sums=('372b3b9cc27a5ab2ff493c7bc7cd32e9c01c52c32b2106ce1920351671cce36a247e2d4485876e9589d83fa5e2de3514b876a7f21336d2ca265141c274f1b25d'
-        'SKIP')
+b2sums=('SKIP' 'SKIP')
+
+pkgver() {
+  cd "$pkgname"
+
+  git describe --tags | sed 's/^v//'
+}
 
 prepare() {
   cd "$pkgname"
@@ -44,6 +48,8 @@
   git submodule init
   git config submodule.tests/test_nearley/nearley.url "$srcdir/github.com-Hardmath123-nearley"
   git -c protocol.file.allow=always submodule update
+
+  git cherry-pick --no-commit 656334cb8793fd4e08a12843eaced5a7bb518be3
 }
 
 build() {


############# Stripped diff below #################



--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -3,6 +3,7 @@
 git submodule init
 git config submodule.tests/test_nearley/nearley.url "$srcdir/github.com-Hardmath123-nearley"
 git -c protocol.file.allow=always submodule update
+git cherry-pick --no-commit 656334cb8793fd4e08a12843eaced5a7bb518be3
 }
 build() {
 cd "$pkgname"
