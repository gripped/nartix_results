--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,40 +1,30 @@
 
 pkgname=menu-cache
 pkgver=1.1.1
-pkgrel=2
+pkgrel=1
 pkgdesc='Caching mechanism for freedesktop.org compliant menus'
-arch=(x86_64)
-url='https://github.com/lxde/menu-cache'
-license=(LGPL-2.1-or-later)
-depends=(
-  glib2
-  glibc
-  libfm-extra
-)
-makedepends=(
-  git
-  gtk-doc
-)
-source=("git+https://github.com/lxde/menu-cache.git#tag=$pkgver")
-b2sums=(bf9b2f53b4bd519b25536f4167c764a39ddd851de203c062b7bb2bd2cb5a01f8df6e99987dd856107e0e4aca2ce82eef4892c8a893cf87dfb7c08e1d5bba049a)
+arch=('x86_64')
+license=('GPL2')
+url='https://lxde.org/'
+depends=('libfm-extra')
+makedepends=('gtk-doc')
+source=(https://github.com/lxde/menu-cache/archive/$pkgver/$pkgname-$pkgver.tar.gz)
+sha256sums=('e8af90467df271c3c8700c840ca470ca2915699c6f213c502a87d74608748f08')
 
 prepare() {
-  cd $pkgname
-  autoreconf -fi
+  cd $pkgname-$pkgver
+  autoreconf -vif
 }
 
 build() {
-  cd $pkgname
-  ./configure \
-    --prefix=/usr \
-    --sysconfdir=/etc \
-    --localstatedir=/var \
+  cd $pkgname-$pkgver
+  ./configure --prefix=/usr --sysconfdir=/etc \
     --libexecdir=/usr/lib \
     --enable-gtk-doc
   make
 }
 
 package() {
-  cd $pkgname
+  cd $pkgname-$pkgver
   make DESTDIR="$pkgdir" install
 }


############# Stripped diff below #################

--- arch_depends
+++ artix_depends
@@ -1,5 +1,2 @@
-git
-glib2
-glibc
 gtk-doc
 libfm-extra

--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,13 +1,10 @@
 prepare() {
-cd $pkgname
-autoreconf -fi
+cd $pkgname-$pkgver
+autoreconf -vif
 }
 build() {
-cd $pkgname
-./configure \
---prefix=/usr \
---sysconfdir=/etc \
---localstatedir=/var \
+cd $pkgname-$pkgver
+./configure --prefix=/usr --sysconfdir=/etc \
 --libexecdir=/usr/lib \
 --enable-gtk-doc
 make
