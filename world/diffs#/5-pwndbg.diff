--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,11 +1,11 @@
 
 pkgname=pwndbg
 pkgver=2025.01.20
-pkgrel=1
+pkgrel=2
 pkgdesc='Makes debugging with GDB suck less'
 url='https://github.com/pwndbg/pwndbg'
-arch=('any')
-license=('MIT')
+arch=(any)
+license=(MIT)
 depends=(
   debuginfod
   gdb
@@ -20,6 +20,7 @@
   python-pygments
   python-requests
   python-setuptools
+  python-sortedcontainers
   python-tabulate
   python-typing_extensions
   python-unicorn
@@ -37,14 +38,21 @@
   'ropgadget: ropgadget command support'
   'radare2: radare2 command support'
   'rizin: rizin command support'
+  'one_gadget: command to find ROP one_gadget'
 )
-source=(https://github.com/pwndbg/pwndbg/archive/${pkgver}/${pkgname}-${pkgver}.tar.gz)
-sha512sums=('b619b8b3727a4a23a3146f2bb0f3475ad788e82712cb669d233d88ce546546f114882162df6e5d0b357e9fa143a6829f7387132ee2a7f922dc4e669a215d8d51')
-b2sums=('58c2c6139d8d96c939c602f694519167d4722f7ed05a92a5c38e55e0a894ffd930813d583e07bc70d0114abdcf8e34e7e859ceeb1113fc0cd00dd4af513f213b')
+source=(
+  https://github.com/pwndbg/pwndbg/archive/${pkgver}/${pkgname}-${pkgver}.tar.gz
+  pwndbg-gdb-16.patch::https://github.com/pwndbg/pwndbg/commit/8b2952ef1bcecb686317cc63a4d92268b4632be7.patch
+)
+sha512sums=('b619b8b3727a4a23a3146f2bb0f3475ad788e82712cb669d233d88ce546546f114882162df6e5d0b357e9fa143a6829f7387132ee2a7f922dc4e669a215d8d51'
+            '27c1c3e63975c75f1faaa62b20f7ee5861cae6f9482569f2763d708f73fa8cc66fa2a21a4be9820d92f4a534e263bac8a64ab86bbb3df154d9a8cdd7ab17049c')
+b2sums=('58c2c6139d8d96c939c602f694519167d4722f7ed05a92a5c38e55e0a894ffd930813d583e07bc70d0114abdcf8e34e7e859ceeb1113fc0cd00dd4af513f213b'
+        '83d4b3aa308c07225df524fe693809cfc6ac4928a783c765ebbe56a245026084492ac4153b6b2d3d68679c612170240b5e191ba95c0cb719c8d2efb50bda9d75')
 
 prepare() {
   cd ${pkgname}-${pkgver}
   rm -rf caps profiling
+  patch -Np1 < ../pwndbg-gdb-16.patch
 }
 
 build() {


############# Stripped diff below #################

--- arch_depends
+++ artix_depends
@@ -14,6 +14,7 @@
 python-pygments
 python-requests
 python-setuptools
+python-sortedcontainers
 python-tabulate
 python-typing_extensions
 python-unicorn

--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,6 +1,7 @@
 prepare() {
 cd ${pkgname}-${pkgver}
 rm -rf caps profiling
+patch -Np1 < ../pwndbg-gdb-16.patch
 }
 build() {
 cd ${pkgname}-${pkgver}
