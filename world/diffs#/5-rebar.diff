--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -2,36 +2,19 @@
 pkgname=rebar
 epoch=1
 pkgver=2.6.4
-pkgrel=6
+pkgrel=4
 pkgdesc="A sophisticated build-tool for Erlang projects that follows OTP principles."
 arch=('any')
 url="https://github.com/rebar/rebar"
-license=('Apache-2.0')
-depends=('erlang-core')
-makedepends=(
-  'erlang'
-  'git'
-)
-source=(
-  "$pkgname-$pkgver.tar.gz::https://github.com/rebar/rebar/archive/$pkgver.tar.gz"
-  "https://src.fedoraproject.org/rpms/erlang-rebar/raw/rawhide/f/rebar-0015-Disable-two-test-suites-in-Erlang-24.patch"
-)
-sha256sums=('577246bafa2eb2b2c3f1d0c157408650446884555bf87901508ce71d5cc0bd07'
-            'da6bd83431c232e79e96066792b93cd7eac4a64fb53d61024fdf5de0874e7213')
-
-prepare() {
-  cd "$srcdir/rebar-$pkgver"
-  patch -Np1 -i ../rebar-0015-Disable-two-test-suites-in-Erlang-24.patch
-}
+license=('APACHE')
+depends=('erlang-nox')
+makedepends=('git')
+source=("$pkgname-$pkgver.tar.gz::https://github.com/rebar/rebar/archive/$pkgver.tar.gz")
+sha256sums=('577246bafa2eb2b2c3f1d0c157408650446884555bf87901508ce71d5cc0bd07')
 
 build() {
   cd "$srcdir/rebar-$pkgver"
   make
-}
-
-check() {
-  cd "$srcdir/rebar-$pkgver"
-  ./rebar eunit
 }
 
 package() {


############# Stripped diff below #################

--- arch_depends
+++ artix_depends
@@ -1,3 +1,2 @@
-erlang
-erlang-core
+erlang-nox
 git

--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,7 +1,3 @@
-prepare() {
-cd "$srcdir/rebar-$pkgver"
-patch -Np1 -i ../rebar-0015-Disable-two-test-suites-in-Erlang-24.patch
-}
 build() {
 cd "$srcdir/rebar-$pkgver"
 make
