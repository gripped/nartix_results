--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,13 +1,11 @@
 
 pkgname=python-arrow
-_name="${pkgname#python-}"
 pkgver=1.3.0
-pkgrel=2
+pkgrel=1
 pkgdesc='Better dates and times for Python'
 arch=(any)
 url=https://arrow.readthedocs.io
-_url=https://github.com/arrow-py/arrow
-license=(Apache-2.0)
+license=(APACHE)
 depends=(
   python
   python-dateutil
@@ -19,26 +17,27 @@
   python-flit-core
   python-installer
 )
-checkdepends=(
-  python-pytest
-  python-pytest-mock
-  python-pytz
-  python-simplejson
-)
-source=($pkgname-$pkgver.tar.gz::$_url/archive/refs/tags/$pkgver.tar.gz)
-sha256sums=('108c9d0339dbb06f6a255d1e8399a9bd88ec53ae6ede044b4ca7b3c563184a1b')
+checkdepends=(python-tox)
+_tag=87a1a774aad0505d9da18ad1d16f6e571f262503
+source=(git+https://github.com/crsmithdev/arrow.git#tag=${_tag})
+sha256sums=(SKIP)
+
+pkgver() {
+  cd arrow
+  git describe --tags
+}
 
 build() {
-  cd $_name-$pkgver
+  cd arrow
   python -m build --wheel --no-isolation
 }
 
 check() {
-  cd $_name-$pkgver
-  pytest -vv -o addopts=''
+  cd arrow
+  tox -e py311
 }
 
 package() {
-  python -m installer --destdir="${pkgdir}" $_name-$pkgver/dist/*.whl
+  python -m installer --destdir="${pkgdir}" arrow/dist/*.whl
 }
 


############# Stripped diff below #################



--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,4 +1,4 @@
 build() {
-cd $_name-$pkgver
+cd arrow
 python -m build --wheel --no-isolation
 }
