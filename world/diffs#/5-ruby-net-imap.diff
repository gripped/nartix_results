--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,19 +1,18 @@
 
 _gemname='net-imap'
 pkgname="ruby-${_gemname}"
-pkgver=0.5.6
-pkgrel=1
+pkgver=0.4.12
+pkgrel=5
 pkgdesc='Ruby client api for Internet Message Access Protocol'
 arch=('any')
 url="https://github.com/ruby/${_gemname}"
 license=('RUBY' 'BSD-2-CLAUSE')
 depends=(
   ruby
-  ruby-net-protocol
 )
 makedepends=(
   ruby-rdoc
-)
+  )
 checkdepends=(
   ruby-base64
   ruby-bundler
@@ -22,14 +21,9 @@
   ruby-test-unit-ruby-core
 )
 options=('!emptydirs')
-source=(
-  "${url}/archive/v${pkgver}/${pkgname}-${pkgver}.tar.gz"
-  "${pkgname}_disable_simplecov.patch"
-)
-sha512sums=('39c10dc8c678383b3ac3d92196d8fe35bba6c766b842602e06bc8d601536c22b1e7d337930299936361b42a6c8223ce5b44c75e4c7b7cc4e42d0dcc447a8faca'
-            '59d7e1420ffc554bfeec155fbe1f6c4534fe8b2c92f4a1cb68361f337ddf186c9018fa952ee5b255acd0ce0c5862452c06ab2785ed6cd98b58857c2ab1a9d393')
-b2sums=('4ee63644b38c5e88ab6e901f6b8ee5a0622bcb241415bdcb22bd4436ff32125afe449ecf64fd937ab32cf8d5de536de0b196cc3268c4585dc124f16c059fb3f7'
-        '7c8a437ab751c48afb441209634bc695e050d7fb7c28038e87a57c1acc73c66136f215c17a1fc6b51d6a54174894e1537eddc5ca80930428e5c62d0ae7548273')
+source=("${url}/archive/v${pkgver}/${pkgname}-${pkgver}.tar.gz")
+sha512sums=('ad3b030ba5a7daf8831a34a0e0effe0780134d7c81aeb4025adb39f11dd97ba57bcddd555b9038a34bdcc809ea722d778e0368a26d04739e084f6d4b7714aed8')
+b2sums=('d3ccd6f799671f2101c38fcba437ae3962a61a2fe4b73545fbeee5f10ad035c0819afb25e7617fdcfce88337b4c99c3c4d98eeae914a1fc77a90519430b4e889')
 
 prepare() {
   cd "${_gemname}-${pkgver}"
@@ -37,11 +31,6 @@
   sed --in-place --regexp-extended 's|~>|>=|g' "${_gemname}.gemspec"
 
   sed --in-place --regexp-extended 's|`git ls-files -z 2>/dev/null`\.split\("\\x0"\)|`find . -type f -not -path "*/\.git*" -printf "%P\n"`\.split\("\n"\)|' "${_gemname}.gemspec"
-
-  patch --verbose --strip=1 --input="../${pkgname}_disable_simplecov.patch"
-  sed --in-place --regexp-extended \
-    --expression '/group :test/,/end/d' \
-    Gemfile
 }
 
 build() {


############# Stripped diff below #################

--- arch_depends
+++ artix_depends
@@ -1,3 +1,2 @@
 ruby
-ruby-net-protocol
 ruby-rdoc

--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -2,10 +2,6 @@
 cd "${_gemname}-${pkgver}"
 sed --in-place --regexp-extended 's|~>|>=|g' "${_gemname}.gemspec"
 sed --in-place --regexp-extended 's|`git ls-files -z 2>/dev/null`\.split\("\\x0"\)|`find . -type f -not -path "*/\.git*" -printf "%P\n"`\.split\("\n"\)|' "${_gemname}.gemspec"
-patch --verbose --strip=1 --input="../${pkgname}_disable_simplecov.patch"
-sed --in-place --regexp-extended \
---expression '/group :test/,/end/d' \
-Gemfile
 }
 build() {
 cd "${_gemname}-${pkgver}"
