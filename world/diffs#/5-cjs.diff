--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,31 +1,39 @@
 
 pkgname=cjs
-pkgver=128.1
+pkgver=6.0.0
 pkgrel=1
 pkgdesc="Javascript Bindings for Cinnamon"
 arch=('x86_64')
 url="https://github.com/linuxmint/${pkgname}"
-license=('LGPL-2.0-or-later')
-depends=('gobject-introspection-runtime' 'js128' 'readline' 'gcc-libs'
-         'libffi' 'cairo' 'glib2' 'libgirepository' 'libx11' 'glibc')
-makedepends=('dbus' 'meson' 'gobject-introspection')
-checkdepends=('xorg-server-xvfb' 'gtk3')
+license=('GPL')
+depends=('gtk3' 'gobject-introspection-runtime' 'js102')
+makedepends=('meson' 'samurai' 'gobject-introspection')
+checkdepends=('xorg-server-xvfb')
 source=("${pkgname}-${pkgver}.tar.gz::${url}/archive/${pkgver}.tar.gz")
-sha512sums=('41aff6bfbd64cec59a64eb49c8913637dd0a482316e6b138f3e3ebef071d2668847f0988d2c6bedd7eec394f538c78683d4c9aacb81f95d198722a0e597611aa')
-b2sums=('4b6d0c4d5bb92e8862f0f3ad5703bac5181a68bfc0e3f4167da039d46e4f065d91b49b5345dc97a8b4f991575b6c15a703c36722f4bb47c59b3182263700b18f')
+sha512sums=('4cb359bf817d22a727683fd451ad6bde19aff4409e9033a97ef9cb204b3bd4c5e86421d7c01a267c3b4d42feb9b3bc5effb6fd970b3baf733242868c09536d95')
+b2sums=('4290f0801f715aab1387da2ce0724376912db8ff3ad16fa8ad7eff03538dfc53ecbff2b7df0e70e52d16295b23ce51024da735d0e618b995fd3d3dfe297f9e26')
 
 build() {
-    arch-meson ${pkgname}-${pkgver} build -D installed_tests=false
-    meson compile -C build
+    mkdir -p ${pkgname}-${pkgver}/builddir
+    cd ${pkgname}-${pkgver}/builddir
+
+    meson --prefix=/usr \
+          --libexecdir=/usr/lib \
+          --buildtype=plain \
+          -Dinstalled_tests=false \
+          ..
+
+    samu
 }
 
 check() {
-    dbus-run-session xvfb-run -s '-nolisten local' \
-        meson test -C build --print-errorlogs
+    cd ${pkgname}-${pkgver}/builddir
+
+    xvfb-run meson test --print-errorlogs
 }
 
 package() {
-    meson install -C build --destdir "${pkgdir}"
+    cd ${pkgname}-${pkgver}/builddir
 
-    rm -r "${pkgdir}/usr/lib/installed-tests"
+    DESTDIR="${pkgdir}" samu install
 }


############# Stripped diff below #################

--- arch_depends
+++ artix_depends
@@ -1,13 +1,6 @@
-cairo
-dbus
-gcc-libs
-glib2
-glibc
 gobject-introspection
 gobject-introspection-runtime
-js128
-libffi
-libgirepository
-libx11
+gtk3
+js102
 meson
-readline
+samurai

--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,4 +1,10 @@
 build() {
-arch-meson ${pkgname}-${pkgver} build -D installed_tests=false
-meson compile -C build
+mkdir -p ${pkgname}-${pkgver}/builddir
+cd ${pkgname}-${pkgver}/builddir
+meson --prefix=/usr \
+--libexecdir=/usr/lib \
+--buildtype=plain \
+-Dinstalled_tests=false \
+..
+samu
 }
