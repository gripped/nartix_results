--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,8 +1,8 @@
 
 pkgname=python-aiobotocore
 _pkgname=aiobotocore
-pkgver=2.16.0
-pkgrel=3
+pkgver=2.15.2
+pkgrel=2
 pkgdesc='asyncio support for botocore library using aiohttp'
 arch=(any)
 url='https://github.com/aio-libs/aiobotocore'
@@ -11,16 +11,17 @@
          python-dateutil python-jmespath python-multidict python-urllib3)
 makedepends=(python-build python-installer python-setuptools python-wheel git)
 checkdepends=(python-moto python-pytest python-pytest-asyncio python-dill python-docutils python-pip
-              python-time-machine
               python-docker python-openapi-spec-validator python-yaml python-flask python-flask-cors)
 source=("git+https://github.com/aio-libs/aiobotocore.git#tag=$pkgver"
         "moto-5.x.diff")
-sha256sums=('b00c43901c9f268b9d18af39eb244eee800cfc9cb04b52849470d6f5bd564e16'
+sha256sums=('3e1932d68a097f8d6c7afd812514c9bc4d7f4e61f5a1bfcd5aa1b5d0eefd88da'
             '2bfadc984a4ad3a6420b356d572c8085b82a46949fc0ecaea98ddce45980503b')
 
 prepare() {
   cd $_pkgname
   patch -Np1 -i ../moto-5.x.diff
+
+  git cherry-pick -n 24a44d7ecf4679b059349989eda0e3d39160c8be
 }
 
 build() {
@@ -32,7 +33,7 @@
   cd $_pkgname
 
   export PYTHONPATH="$PWD"
-  pytest -m "not localonly" tests \
+  pytest -m moto tests -k "not test_fail_proxy_request" \
       --ignore=tests/test_lambda.py
 }
 


############# Stripped diff below #################



--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,6 +1,7 @@
 prepare() {
 cd $_pkgname
 patch -Np1 -i ../moto-5.x.diff
+git cherry-pick -n 24a44d7ecf4679b059349989eda0e3d39160c8be
 }
 build() {
 cd $_pkgname
