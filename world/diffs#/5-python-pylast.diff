--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,13 +1,12 @@
 
 pkgname=python-pylast
-pkgver=7.0.2
-pkgrel=1
+pkgver=7.0.0
+pkgrel=2
 pkgdesc='A Python interface to Last.fm and Libre.fm'
 arch=(any)
 url='https://github.com/pylast/pylast'
-license=(Apache-2.0)
+license=(Apache)
 depends=(
-  python
   python-httpx
 )
 makedepends=(
@@ -17,18 +16,21 @@
   python-hatchling
   python-installer
 )
-source=("$pkgname::git+https://github.com/pylast/pylast.git#tag=$pkgver")
-sha512sums=('6e7094152490a2f82708dec1f304e73281fa0c5420768e97de43c446829f68e748f104129a914dc11044447ffc58f77ed68b4860d1f9a87cefd5fccc50cc407d')
-b2sums=('713cf4d4fff535fcedecd26297338285cd4e01d7139cf02b1998a26ab87c675efc0c4b0d6f19dd68eff830cac74d4386a1d32ccd4dae308bee3e78d0d6c5b3f4')
+_tag=b95a694b6af9cc8f8279e03c5b859cc0bd5dff52
+source=(git+https://github.com/pylast/pylast.git#tag=${_tag})
+b2sums=('1bc52fd97ebfefe07b8269eb6fcc5790133880436f6e16a299dff076d782f5b97ce028dc88394ad14dc1641617d456559d1b66d6322ac48f89f2c36d40d8353c')
+
+pkgver() {
+  cd pylast
+  git describe --tags
+}
 
 build() {
-  cd "$pkgname"
-
+  cd pylast
   python -m build --wheel --no-isolation
 }
 
 package() {
-  cd "$pkgname"
+  python -m installer --destdir="${pkgdir}" pylast/dist/*.whl
+}
 
-  python -m installer --destdir="$pkgdir" dist/*.whl
-}


############# Stripped diff below #################

--- arch_depends
+++ artix_depends
@@ -1,5 +1,4 @@
 git
-python
 python-build
 python-hatch-vcs
 python-hatchling

--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,4 +1,4 @@
 build() {
-cd "$pkgname"
+cd pylast
 python -m build --wheel --no-isolation
 }
