--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,7 +1,7 @@
 
 pkgname=broadcom-wl-dkms
 pkgver=6.30.223.271
-pkgrel=41
+pkgrel=38
 pkgdesc='Broadcom 802.11 Linux STA wireless driver'
 arch=(x86_64)
 url='https://www.broadcom.com/site-search?filters[pages][content_type][values][]=Downloads&q=802.11%20linux%20sta%20wireless%20driver'
@@ -28,10 +28,9 @@
         015-linux600.patch
         016-linux601.patch
         017-linux612.patch
-        018-linux613.patch
         "https://docs.broadcom.com/docs-and-downloads/docs/linux_sta/hybrid-v35_64-nodebug-pcoem-${pkgver//./_}.tar.gz")
 b2sums=('7c4eaa825a37358509a08e5105665eeabc9f097945b6fa163cd5722b00638da5889f5466bd2c5f1b01172f2d0c9fb195f6e18329f2880adb2774406684cbc4c0'
-        '2d9d5cf410b74c9eb9238a469ff04cd3c4223716c51fa6431abb36c3d31e13ce2bea7179df392e92c23e615ee9d4f34ff156aefa2ea9bf6a2754b2079fcad5db'
+        '5a692428b82b6229c3c4384d226bbe4f45774709ea8a36f2b416c82fe0a0a8a486f89622de6123861b0e665217e10c79a03e745b2c5cc7c132e49278f872f528'
         '038150b9a50025dbd3c81d09755956216b83c0b54db29dc4bfbc3b46bd67cf4640ad643d69ba7f8d486f52cedeb00929b97e02152e72404e6126a05855f97d6f'
         'bbc80e1ac01683ccc2d940212347fc11c74bdc252d492ca79a292015ac25df6a153ac97cb6c0f0a8d51c1c33d5dc0de4fdd61b1958499b946dc817d29646b72f'
         'ecf3eb75f8eb3331b0a36b39851536de43cffd3b303db9e9f4fe6fe55d463c3343aba17a99668448427764a719e15e3e862d6a3dc0bc61cb68da9934fb427c6f'
@@ -49,19 +48,9 @@
         '7d4dfe48577456436d0932bd1eca78fc1f0a952e141f13641b93bb24161a9f6847152966631cc05a6d707f9cf8adbded55a19aeaa2c15c963fffb5db9eff9f63'
         'ca3aa742339bbe767916c8e2b62ec0b96e0e3f9b74bde55737fb98b7d71e97ecf7bf772fa9c4e8a50a4e8d821eeb8638d8d060c8e01de1a6fc7df58167459c38'
         '89a234cfbe2ddf3c938fc33b846c29cbf67907919bc3b103405b4e020bbaeb615ad0fc884ec314b17ca9c3ac63256dea2387851383934b7483cfca67dccbed17'
-        '03e42e33a1fa2a1b64f36cd38f83ca431aa9d3914d52015bac6e4717071938e05c69c53f644653823a4a2a2278243a4d8564477597e8cae28bdb017615b4b102'
         'e9d01c1a1a63c07f720e3ee53ee3ef634ab12694135300cb0ce47ade0e9e0084967a0b6df64d983e8184240eb3defb128f650bddb7727e901d50315307f3398a')
 
 prepare() {
-  local src
-  for src in "${source[@]}"; do
-    src="${src%%::*}"
-    src="${src##*/}"
-    [[ $src = *.patch ]] || continue
-    msg2 "Applying patch $src..."
-    patch -Np1 --no-backup-if-mismatch < "./$src"
-  done
-
   sed -e "s/@PACKAGE_VERSION@/$pkgver/" dkms.conf.in > dkms.conf
   sed -i -e '/BRCM_WLAN_IFNAME/s/eth/wlan/' src/wl/sys/wl_linux.c
   sed -i -e "/EXTRA_LDFLAGS/s|\$(src)/lib|/usr/lib/$pkgname|;/GE_49 :=/s|:= .*|:= 1|" Makefile
@@ -71,6 +60,7 @@
   local dest="$pkgdir/usr/src/${pkgname/-dkms/}-$pkgver"
   install -Dm644 Makefile "$dest/Makefile"
   install -Dm644 dkms.conf "$dest/dkms.conf"
+  install -Dm644 -t "$dest/patches" *.patch
   cp -a src "$dest"
   install -Dm644 lib/wlc_hybrid.o_shipped \
     "$pkgdir/usr/lib/$pkgname/wlc_hybrid.o_shipped"


############# Stripped diff below #################



--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,12 +1,4 @@
 prepare() {
-local src
-for src in "${source[@]}"; do
-src="${src%%::*}"
-src="${src##*/}"
-[[ $src = *.patch ]] || continue
-msg2 "Applying patch $src..."
-patch -Np1 --no-backup-if-mismatch < "./$src"
-done
 sed -e "s/@PACKAGE_VERSION@/$pkgver/" dkms.conf.in > dkms.conf
 sed -i -e '/BRCM_WLAN_IFNAME/s/eth/wlan/' src/wl/sys/wl_linux.c
 sed -i -e "/EXTRA_LDFLAGS/s|\$(src)/lib|/usr/lib/$pkgname|;/GE_49 :=/s|:= .*|:= 1|" Makefile
