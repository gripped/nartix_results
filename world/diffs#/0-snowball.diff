--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,27 +1,27 @@
 
 pkgbase=snowball
-pkgname=(snowball libstemmer)
-pkgver=2.2.0
-pkgrel=2
+pkgname=(
+  snowball
+  libstemmer
+)
+pkgver=3.0.1
+pkgrel=1
 pkgdesc="String processing language for creating stemming algorithms"
 url="https://snowballstem.org/"
 arch=(x86_64)
-license=(BSD)
+license=(BSD-3-Clause)
+depends=(glibc)
 makedepends=(git)
-_commit=48a67a2831005f49c48ec29a5837640e23e54e6b  # tags/v2.2.0^0
-source=("git+https://github.com/snowballstem/snowball#commit=$_commit"
-        dynamiclib.diff)
-sha256sums=('SKIP'
-            'c031da5a11bafa079df6c33b38b8795b65cf2c91cc6b452dcf2b10612288a3e6')
-
-pkgver() {
-  cd snowball
-  git describe --tags | sed 's/^v//;s/[^-]*-g/r&/;s/-/+/g'
-}
+source=(
+  "git+https://github.com/snowballstem/snowball#tag=v$pkgver"
+  0001-Make-libstemmer-a-shared-library.patch
+)
+b2sums=('01ee54f79f76d12bfbcf89d3b6f2b036756c704bee2232a5401aba91f62f4da01229d7efe8a738602871fb77b33e1d1753def3efee0e51178a9228ad71655296'
+        '91334cdd8142db106db709fdd5d5e9dd910505f6138d2ee40c0305aed3a652e5dac840c8abcca9784a77feea00a4c5dbec310e9190a25e7991b9d373cd3c129b')
 
 prepare() {
   cd snowball
-  git apply -3 ../dynamiclib.diff
+  git apply -3 ../0001-Make-libstemmer-a-shared-library.patch
 }
 
 build() {
@@ -31,26 +31,27 @@
 
 
 package_snowball() {
-  depends=(libstemmer)
+  depends+=(libstemmer)
 
   cd snowball
 
-  install -Dt "$pkgdir/usr/bin" snowball stemwords
+  install -D snowball stemwords -t "$pkgdir/usr/bin"
 
-  install -Dt "$pkgdir/usr/share/licenses/$pkgname" -m644 COPYING
+  install -Dm644 COPYING -t "$pkgdir/usr/share/licenses/$pkgname"
 }
 
 package_libstemmer() {
   pkgdesc="Stemming library supporting several languages"
-  depends=(glibc)
   provides=(libstemmer.so)
 
   cd snowball
 
-  install -Dt "$pkgdir/usr/include" -m644 include/libstemmer.h
+  install -Dm644 include/libstemmer.h -t "$pkgdir/usr/include"
+
   install -Dm644 libstemmer.so.0 "$pkgdir/usr/lib/libstemmer.so.0.0.0"
   ln -s libstemmer.so.0.0.0 "$pkgdir/usr/lib/libstemmer.so.0"
   ln -s libstemmer.so.0 "$pkgdir/usr/lib/libstemmer.so"
 
-  install -Dt "$pkgdir/usr/share/licenses/$pkgname" -m644 COPYING
+  install -Dm644 COPYING -t "$pkgdir/usr/share/licenses/$pkgname"
 }
+


############# Stripped diff below #################



--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,6 +1,6 @@
 prepare() {
 cd snowball
-git apply -3 ../dynamiclib.diff
+git apply -3 ../0001-Make-libstemmer-a-shared-library.patch
 }
 build() {
 cd snowball
