--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,29 +1,25 @@
 
 pkgname=python-paramiko
-pkgver=4.0.0
+pkgver=3.5.1
 pkgrel=1
 pkgdesc="Python module that implements the SSH2 protocol"
 url="https://github.com/paramiko/paramiko/"
-license=('LGPL-2.1-only')
+license=('LGPL')
 arch=('any')
-depends=('python-bcrypt' 'python-cryptography' 'python-pynacl' 'python-invoke')
-makedepends=('python-build' 'python-installer' 'python-wheel' 'python-setuptools')
-checkdepends=('python-pytest-relaxed' 'python-pyasn1' 'python-gssapi' 'python-icecream')
-optdepends=('python-gssapi: GSS-API/SSPI support'
+depends=('python-bcrypt' 'python-cryptography' 'python-pynacl')
+makedepends=('python-setuptools' 'python-bcrypt' 'python-cryptography' 'python-pynacl')
+checkdepends=('python-pytest-relaxed' 'python-pyasn1' 'python-invoke' 'python-lexicon' 'python-icecream')
+optdepends=('python-invoke: config support'
+            'python-gssapi: GSS-API/SSPI support'
             'python-pyasn1: GSS-API/SSPI support')
 source=(
   "https://github.com/paramiko/paramiko/archive/$pkgver/$pkgname-$pkgver.tar.gz"
 )
-sha512sums=('5a6d4cf000f13e1a9ee2558f18a942e3b7f334807b007bed77cfb9d50f15d423b3490a0deca08f82749391092d2514c44cd7d8dda2dc66436db3816c2501c72a')
+sha512sums=('a1198f7f21cfbdbb843acb59cc431f9af0a47d687a7e9702244f36b555bb37b75149c0e22302040400f20df50dee1d83154e5acd582982ca44f6cf68ff592675')
 
 prepare() {
   cd paramiko-$pkgver
   sed -i "s/from invoke.vendor.lexicon import Lexicon/from lexicon import Lexicon/" tests/conftest.py
-}
-
-build() {
-  cd paramiko-$pkgver
-  python -m build --wheel --no-isolation
 }
 
 check() {
@@ -34,7 +30,7 @@
 package() {
   cd paramiko-$pkgver
 
-  python -m installer --destdir="$pkgdir" dist/*.whl
+  python setup.py install --root="$pkgdir" --optimize=1
   install -dm755 "$pkgdir"/usr/share/doc/$pkgname/demos
   install -m644 demos/* "$pkgdir"/usr/share/doc/$pkgname/demos
   chmod 755 "$pkgdir"/usr/share/doc/$pkgname/demos/*.py


############# Stripped diff below #################

--- arch_depends
+++ artix_depends
@@ -1,8 +1,4 @@
 python-bcrypt
-python-build
 python-cryptography
-python-installer
-python-invoke
 python-pynacl
 python-setuptools
-python-wheel

--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -2,7 +2,3 @@
 cd paramiko-$pkgver
 sed -i "s/from invoke.vendor.lexicon import Lexicon/from lexicon import Lexicon/" tests/conftest.py
 }
-build() {
-cd paramiko-$pkgver
-python -m build --wheel --no-isolation
-}
