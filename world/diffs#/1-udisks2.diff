--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,13 +1,8 @@
 
 pkgbase=udisks2
-pkgname=(
-  udisks2
-  udisks2-btrfs
-  udisks2-lvm2
-  udisks2-docs
-)
+pkgname=(udisks2 udisks2-{btrfs,lvm2})
 pkgver=2.10.1
-pkgrel=5
+pkgrel=4
 pkgdesc="Daemon, tools and libraries to access and manipulate disks, storage devices and technologies"
 arch=('x86_64')
 url="https://www.freedesktop.org/wiki/Software/udisks/"
@@ -17,11 +12,8 @@
 )
 makedepends=(
   'acl'
-  'autoconf-archive'
   'gcc-libs'
-  'git'
   'glib2'
-  'glib2-devel'
   'glibc'
   'gobject-introspection'
   'gtk-doc'
@@ -30,20 +22,21 @@
   'libblockdev-btrfs'
   'libblockdev-crypto'
   'libblockdev-fs'
+  'libblockdev-mdraid'
   'libblockdev-loop'
   'libblockdev-lvm'
-  'libblockdev-mdraid'
   'libblockdev-nvme'
   'libblockdev-part'
   'libblockdev-swap'
   'libgudev'
   'lvm2'
   'polkit'
-  'systemd-libs'
+  'libelogind'
   'util-linux-libs'
 )
-source=("git+https://github.com/storaged-project/udisks#tag=udisks-$pkgver")
-b2sums=('a27d8b416dbfb24ce8ad2cfbdfc4b8fca37794167b56d88272c3c0761b3e65380f888a7fc3cabd64ca2d3911ea0e9348081f57c0390ec90982056f4da8e51c07')
+source=("https://github.com/storaged-project/udisks/releases/download/udisks-$pkgver/udisks-$pkgver.tar.bz2")
+sha512sums=('9cdaeca4306a970c85f88d406dbe5d2dad23d72f47d9ab1c021b8c2888d4c790f680eb94388d86f9255024283b4a36e98b8aee4408d193a7d4aad1e74463356a')
+b2sums=('41282e4dbbd93e6bda2a10a6ff2f2fb82bfc83b3ccbed9450cca7888c634cde9300fcd0b7d055e0d8e4c8fc0b431a75d5612a24132ea9b2677d194529732178d')
 
 _pick() {
   local p="$1" f d; shift
@@ -53,11 +46,6 @@
     mv "$f" "$d"
     rmdir -p --ignore-fail-on-non-empty "$(dirname "$f")"
   done
-}
-
-prepare() {
-  cd udisks
-  NOCONFIGURE=1 ./autogen.sh
 }
 
 build() {
@@ -71,17 +59,18 @@
     --prefix=/usr
     --sbindir=/usr/bin
     --sysconfdir=/etc
-    --with-systemdsystemunitdir=/usr/lib/systemd/system
+    --with-systemdsystemunitdir=no
+    --with-tmpfilesdir=/usr/lib/tmpfiles.d
   )
 
-  cd udisks
+  cd udisks-$pkgver
   ./configure "${configure_options[@]}"
   sed -i -e 's/ -shared / -Wl,-O1,--as-needed\0/g' libtool
   make
 }
 
 check() {
-  cd udisks
+  cd udisks-$pkgver
   make check
 }
 
@@ -103,13 +92,12 @@
     libblockdev-swap  # dynamically loaded by libblockdev.so, required for default operation
     libgudev libgudev-1.0.so
     polkit libpolkit-agent-1.so libpolkit-gobject-1.so
-    systemd-libs libsystemd.so
+    libelogind libelogind.so
     util-linux-libs libblkid.so libmount.so libuuid.so
   )
   optdepends=(
     'udisks2-btrfs: for BTRFS module'
     'udisks2-lvm2: for LVM2 module'
-    'udisks2-docs: API documentation'
     'btrfs-progs: for BTRFS support in libblockdev-fs'
     'dosfstools: for FAT support in libblockdev-fs'
     'exfatprogs: for exFAT support in libblockdev-fs'
@@ -122,19 +110,19 @@
   provides=(libudisks2.so)
   backup=('etc/udisks2/udisks2.conf')
 
-  cd udisks
+  cd udisks-$pkgver
   make DESTDIR="$pkgdir" install
 
   install -vDm 644 data/org.freedesktop.UDisks2.xml -t "$pkgdir/usr/share/dbus-1/interfaces/"
 
   cd "$pkgdir"
-  for _mod in btrfs lvm2; do
-    _pick udisks2-${_mod} usr/lib/udisks2/modules/libudisks2_${_mod}.so
-    _pick udisks2-${_mod} usr/lib/pkgconfig/udisks2-${_mod}.pc
-    _pick udisks2-${_mod} usr/share/polkit-1/actions/org.freedesktop.UDisks2.${_mod}.policy
-  done
+  _pick $pkgbase-btrfs usr/lib/$pkgbase/modules/lib${pkgbase}_btrfs.so
+  _pick $pkgbase-btrfs usr/lib/pkgconfig/$pkgbase-btrfs.pc
+  _pick $pkgbase-btrfs usr/share/polkit-1/actions/org.freedesktop.UDisks2.btrfs.policy
 
-  _pick udisks2-docs usr/share/gtk-doc
+  _pick $pkgbase-lvm2 usr/lib/$pkgbase/modules/lib${pkgbase}_lvm2.so
+  _pick $pkgbase-lvm2 usr/lib/pkgconfig/$pkgbase-lvm2.pc
+  _pick $pkgbase-lvm2 usr/share/polkit-1/actions/org.freedesktop.UDisks2.lvm2.policy
 }
 
 package_udisks2-btrfs() {
@@ -150,7 +138,7 @@
     libblockdev-btrfs  # dynamically loaded by libblockdev.so
     libgudev libgudev-1.0.so
     polkit libpolkit-gobject-1.so
-    systemd-libs libsystemd.so
+    libelogind libelogind.so
     udisks2 libudisks2.so
     util-linux-libs libblkid.so libmount.so libuuid.so
   )
@@ -171,16 +159,10 @@
     libgudev libgudev-1.0.so
     lvm2
     polkit libpolkit-gobject-1.so
-    systemd-libs libsystemd.so
+    libelogind libelogind.so
     udisks2 libudisks2.so
     util-linux-libs libblkid.so libmount.so libuuid.so
   )
 
   mv -v $pkgname/* "$pkgdir/"
 }
-
-package_udisks2-docs() {
-  pkgdesc+=" - documentation"
-
-  mv -v $pkgname/* "$pkgdir/"
-}


############# Stripped diff below #################

--- arch_depends
+++ artix_depends
@@ -1,11 +1,8 @@
 acl
-autoconf-archive
 btrfs-progs
 dbus
 gcc-libs
-git
 glib2
-glib2-devel
 glibc
 gobject-introspection
 gtk-doc
@@ -24,6 +21,8 @@
 libblockdev-part
 libblockdev-swap
 libblockdev.so
+libelogind
+libelogind.so
 libgio-2.0.so
 libglib-2.0.so
 libgmodule-2.0.so
@@ -33,11 +32,9 @@
 libmount.so
 libpolkit-agent-1.so
 libpolkit-gobject-1.so
-libsystemd.so
 libudisks2.so
 libuuid.so
 lvm2
 polkit
-systemd-libs
 udisks2
 util-linux-libs