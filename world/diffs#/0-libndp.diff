--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,35 +1,31 @@
 
 pkgname=libndp
 pkgver=1.8
-pkgrel=2
+pkgrel=1
 pkgdesc="Library for Neighbor Discovery Protocol"
+arch=(x86_64)
 url="http://libndp.org/"
-arch=(x86_64)
-license=(LGPL-2.1-or-later)
+license=(LGPL)
 depends=(glibc)
 makedepends=(git)
-source=("git+https://github.com/jpirko/libndp#tag=v$pkgver")
-b2sums=('e2b6d04137c769fa870fa85be159f3a9d3b7c3302d7999962279a643ecc85639e9513c6c8d6a531b23b4bfb929aa16382eab062ee4e5a3f46425ed3ea7747b2e')
+_commit=009ce9cd9b950ffa1f4f94c9436027b936850d0c  # tags/v1.8
+source=("git+https://github.com/jpirko/libndp#commit=$_commit")
+sha256sums=('SKIP')
+
+pkgver() {
+  cd $pkgname
+  git describe --tags | sed 's/^v//;s/-/+/g'
+}
 
 prepare() {
   cd $pkgname
-
-  git cherry-pick -n 05e4ba7b0d126eea4c04387dcf40596059ee24af
-
   ./autogen.sh
 }
 
 build() {
-  local configure_options=(
-    --prefix=/usr
-    --sysconfdir=/etc
-    --localstatedir=/var
-    --libexecdir=/usr/lib
-    --disable-static
-  )
-
   cd $pkgname
-  ./configure "${configure_options[@]}"
+  ./configure --prefix=/usr --sysconfdir=/etc --localstatedir=/var \
+    --disable-static --libexecdir=/usr/lib
   make
 }
 
@@ -42,4 +38,3 @@
   cd $pkgname
   make DESTDIR="$pkgdir" install
 }
-


############# Stripped diff below #################



--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,17 +1,10 @@
 prepare() {
 cd $pkgname
-git cherry-pick -n 05e4ba7b0d126eea4c04387dcf40596059ee24af
 ./autogen.sh
 }
 build() {
-local configure_options=(
---prefix=/usr
---sysconfdir=/etc
---localstatedir=/var
---libexecdir=/usr/lib
---disable-static
-)
 cd $pkgname
-./configure "${configure_options[@]}"
+./configure --prefix=/usr --sysconfdir=/etc --localstatedir=/var \
+--disable-static --libexecdir=/usr/lib
 make
 }
