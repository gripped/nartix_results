--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,28 +1,21 @@
 
-pkgbase=erlang
-pkgname=(erlang erlang-unixodbc)
-pkgver=26.2.3
-pkgrel=1
+pkgname=erlang
+pkgver=26.2.4
+pkgrel=3
 _docver=26.1
-_commit=928d03e6da416208fce7b9a7dbbfbb4f25d26c37 # OTP-26.2.3
+_commit=e26c5206dc98ec1b8f978fceaa61fd1354266ccb # OTP-26.2.4
 arch=(x86_64)
 url='https://erlang.org'
 license=(Apache)
-makedepends=(fop git glu java-environment libxslt lksctp-tools mesa perl unixodbc wxwidgets-gtk3)
+makedepends=(fop git glu java-environment libxslt lksctp-tools mesa perl wxwidgets-gtk3)
 options=(staticlibs)
-source=(epmd.conf
-        epmd.service
-        epmd.socket
-        "$url/download/otp_doc_man_$_docver.tar.gz"
+source=("$url/download/otp_doc_man_$_docver.tar.gz"
         "git+https://github.com/erlang/otp#commit=$_commit")
-b2sums=('1675ac9bf948ab19e8b63077d870ccf356fcdbce14de2777f00b3488aa1ce34a5e0a5cdc0428707f744dee5940b12653a44e0ded0554de95ebb31bce4676ff87'
-        '1f765318bcd322ce697a48c064ccdb1bd107b4a84e164a87f62678391cb82a9ab17a397d679cf266e037a5a2d91772b85f7a97f9cc5478c0f18118743b30045f'
-        'c37706f5f6e2d49100104fb442ebf15edd6ee0a1e8038d0364794cf34fd3f02a61b9ad2706228b3327b85b0cadcd11aac6087e7c98408eae2d307a09191b6553'
-        '2eed8963d425fe5ff3cd02eeacfd0eb86051225578613e374b71818a91e4f0b6953c4297a06ee59803d9421730c93871660ce66150a13d808f122a6f84f74f2a'
-        'SKIP')
+b2sums=('2eed8963d425fe5ff3cd02eeacfd0eb86051225578613e374b71818a91e4f0b6953c4297a06ee59803d9421730c93871660ce66150a13d808f122a6f84f74f2a'
+        'd114d9de971b3389e71e6310ee865d6051546abd1223be132a013e053ec4476a22381f49a4e26a7a7839d332e7b6cd590ef4bca7f43d92943cff812de8998def')
 
 prepare() {
-  sed -i 's/^LDFLAGS = /LDFLAGS += /g' otp/lib/{odbc/c_src,megaco/src/flex}/Makefile.in
+  sed -i 's/^LDFLAGS = /LDFLAGS += /g' otp/lib/megaco/src/flex/Makefile.in
 
   sed -i 's/^JAVA_OPTIONS =/JAVA_OPTIONS = --release 11/g' otp/lib/jinterface/java_src/com/ericsson/otp/erlang/Makefile
 }
@@ -36,7 +29,7 @@
     --enable-shared-zlib \
     --enable-ssl=dynamic-ssl-lib \
     --prefix=/usr \
-    --with-odbc
+    --without-odbc
   DOC_TARGETS=chunks make all
   DOC_TARGETS=chunks make docs
 }
@@ -44,21 +37,13 @@
 package_erlang() {
   pkgdesc='General-purpose concurrent functional programming language developed by Ericsson'
   depends=(glu ncurses openssl webkit2gtk wxwidgets-gtk3)
-  optdepends=('erlang-unixodbc: database support'
-              'java-environment: for Java support'
+  optdepends=('java-environment: for Java support'
               'lksctp-tools: for SCTP support')
   provides=(erlang-nox)
   conflicts=(erlang-nox)
 
   export PATH="$srcdir/bin:$PATH"
   make -C otp DESTDIR="$pkgdir" DOC_TARGETS=chunks install install-docs
-
-  mkdir -p unixodbc
-  mv "$pkgdir/usr/lib/erlang/lib/odbc"* "$srcdir/unixodbc/"
-
-  install -Dm644 epmd.service "$pkgdir/usr/lib/systemd/system/epmd.service"
-  install -Dm644 epmd.socket "$pkgdir/usr/lib/systemd/system/epmd.socket"
-  install -Dm644 epmd.conf "$pkgdir/etc/conf.d/epmd"
 
   install -Dm644 otp/README.md "$pkgdir/usr/share/doc/$pkgname/README.md"
   install -Dm644 otp/LICENSE.txt "$pkgdir/usr/share/licenses/$pkgname/LICENSE"
@@ -67,13 +52,3 @@
 
   cp -r -v man "$pkgdir/usr/lib/erlang/"
 }
-
-package_erlang-unixodbc() {
-  pkgdesc='Unixodbc support for Erlang'
-  depends=(erlang-nox unixodbc)
-
-  install -d "$pkgdir/usr/lib/erlang/lib"
-  mv unixodbc/* "$pkgdir/usr/lib/erlang/lib/"
-  install -Dm644 otp/LICENSE.txt \
-    "$pkgdir/usr/share/licenses/$pkgname/LICENCE.txt"
-}


############# Stripped diff below #################

--- arch_depends
+++ artix_depends
@@ -1,4 +1,3 @@
-erlang-nox
 fop
 git
 glu
@@ -9,6 +8,5 @@
 ncurses
 openssl
 perl
-unixodbc
 webkit2gtk
 wxwidgets-gtk3

--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,5 +1,5 @@
 prepare() {
-sed -i 's/^LDFLAGS = /LDFLAGS += /g' otp/lib/{odbc/c_src,megaco/src/flex}/Makefile.in
+sed -i 's/^LDFLAGS = /LDFLAGS += /g' otp/lib/megaco/src/flex/Makefile.in
 sed -i 's/^JAVA_OPTIONS =/JAVA_OPTIONS = --release 11/g' otp/lib/jinterface/java_src/com/ericsson/otp/erlang/Makefile
 }
 build() {
@@ -11,7 +11,7 @@
 --enable-shared-zlib \
 --enable-ssl=dynamic-ssl-lib \
 --prefix=/usr \
---with-odbc
+--without-odbc
 DOC_TARGETS=chunks make all
 DOC_TARGETS=chunks make docs
 }
