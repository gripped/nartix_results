--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,38 +1,23 @@
 
 pkgname=python-patch-ng
-pkgver=1.19.0
-pkgrel=1
-pkgdesc='Python library to parse and apply unified diffs (new generation)'
+pkgver=1.18.0
+pkgrel=2
+pkgdesc='Library to parse and apply unified diffs forked from python-patch.'
 arch=('any')
-url='https://github.com/conan-io/python-patch-ng/'
+url="https://github.com/conan-io/python-patch/"
 license=('MIT')
-depends=(
-    'python')
-makedepends=(
-    'python-build'
-    'python-installer'
-    'python-setuptools'
-    'python-wheel')
-source=("https://github.com/conan-io/python-patch-ng/archive/${pkgver}/${pkgname}-${pkgver}.tar.gz")
-sha256sums=('19be239070b96224ff5d95de5be3c010610361cdc92af8634588f8c98686ef08')
+depends=('python')
+makedepends=('python-setuptools')
+_name=${pkgname#python-}
+source=($pkgname-$pkgver.tar.gz::"https://pypi.io/packages/source/${_name::1}/$_name/$_name-$pkgver.tar.gz")
 
 build() {
-    cd "${pkgname}-${pkgver}"
-    python -m build --wheel --no-isolation
-}
-
-check() {
-    cd "${pkgname}-${pkgver}/tests"
-    ./run_tests.py
+  cd "$srcdir/$_name-$pkgver"
+  python setup.py build
 }
 
 package() {
-    python -m installer --destdir="$pkgdir" "${pkgname}-${pkgver}/dist"/*.whl
-
-    local _sitepkgs
-    _sitepkgs="$(python -c 'import site; print(site.getsitepackages()[0])')"
-
-    install -d -m755 "${pkgdir}/usr/share/licenses/${pkgname}"
-    ln -sr "${pkgdir}${_sitepkgs}/patch_ng-${pkgver}.dist-info/licenses/LICENSE" \
-        "${pkgdir}/usr/share/licenses/${pkgname}/LICENSE"
+  cd "$srcdir/$_name-$pkgver"
+  python setup.py install --optimize=1 --root "$pkgdir"
 }
+sha256sums=('da067628d6d5fd9dc5a55eab37951d46bd95661b7219fab364b711366abcc690')


############# Stripped diff below #################

--- arch_depends
+++ artix_depends
@@ -1,5 +1,2 @@
 python
-python-build
-python-installer
 python-setuptools
-python-wheel

--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,4 +1,4 @@
 build() {
-cd "${pkgname}-${pkgver}"
-python -m build --wheel --no-isolation
+cd "$srcdir/$_name-$pkgver"
+python setup.py build
 }
