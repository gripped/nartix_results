--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -2,7 +2,7 @@
 _name=dask
 pkgname=python-$_name
 pkgver=2025.12.0
-pkgrel=2
+pkgrel=1
 pkgdesc="Parallel computing with task scheduling"
 arch=(any)
 url="https://dask.org"
@@ -12,6 +12,7 @@
   python-click
   python-cloudpickle
   python-fsspec
+  python-importlib-metadata
   python-packaging
   python-partd
   python-yaml
@@ -26,18 +27,11 @@
 )
 optdepends=(
   'python-distributed: distributed computing'
-  'python-graphviz: graph visualization using the graphviz engine'
-  'python-jinja: HTML representations of Dask objects in Jupyter notebooks'
-  'python-lz4: transparent use of lz4 compression algorithm'
-  'python-matplotlib: color map support for graph visualization'
   'python-numpy: arrays and dataframes support'
   'python-pandas: dataframes support'
   'python-psutil: more accurate CPU count'
   'python-pyarrow: Apache Arrow, for parquet support'
-  'python-scipy: for dask.array.stats, dask.array.fft, and dask.array.linalg.lu'
-  'python-snappy: snappy compression for reading/writing Avro or Parquet files'
   'python-sqlalchemy: writing and reading from SQL databases'
-  'python-xarray: N-D labeled arrays and datasets'
   'python-xxhash: faster hashing of arrays'
 )
 checkdepends=(
@@ -45,17 +39,28 @@
   python-pytest
   python-pytest-mock
   python-pytest-rerunfailures
-  python-pytest-timeout
   python-pytest-xdist
+  python-aiohttp
+  python-boto3
+  python-botocore
+  python-cytoolz
   python-distributed
   python-graphviz
+  python-h5py
+  python-httpretty
   python-jinja
+  python-jsonschema
   python-lz4
   python-matplotlib
+  python-moto
+  python-numexpr
   python-numpy
   python-pandas
   python-psutil
   python-pyarrow
+  python-pytables
+  python-requests
+  python-scikit-learn
   python-scipy
   python-snappy
   python-sqlalchemy
@@ -77,27 +82,13 @@
   local pytest_options=(
     -vv
     --override-ini="addopts="
+    -k 'not test_RandomState_only_funcs'
+    -m 'not network and not slow and not gpu'
     -W ignore::DeprecationWarning
     -n auto
-    --dist loadscope
-    --timeout-method signal
-    -k 'not test_RandomState_only_funcs'
-    -m 'not network and not slow and not gpu'
     --deselect dask/dataframe/dask_expr/tests/test_shuffle.py::test_set_index_head_nlargest_string
     --deselect dask/array/tests/test_xarray.py::test_xarray_blockwise_fusion_store
     --deselect dask/tests/test_tokenize.py::test_tokenize_range_index
-    --deselect dask/tests/test_tokenize.py::test_tokenize_pandas
-    --deselect dask/tests/test_tokenize.py::test_tokenize_pandas_extension_array
-    --deselect dask/dataframe/dask_expr/tests/test_reductions.py::test_cat_value_counts_large_unknown_categories
-    --deselect dask/dataframe/dask_expr/tests/test_groupby.py::test_groupby_index_array
-    --deselect dask/dataframe/dask_expr/tests/test_shuffle.py::test_set_index_with_dask_dt_index
-    --deselect dask/dataframe/io/tests/test_parquet.py::test_pyarrow_schema_inference
-    --deselect dask/dataframe/io/tests/test_parquet.py::test_timeseries_nulls_in_schema
-    --deselect dask/dataframe/tests/test_groupby.py
-    --deselect dask/dataframe/tests/test_shuffle.py
-    --deselect dask/dataframe/tseries/tests/test_resample.py::test_resample_pads_last_division_to_avoid_off_by_one
-    --deselect dask/tests/test_distributed.py::test_futures_in_subgraphs
-    --deselect dask/dataframe/dask_expr/tests/test_distributed.py::test_merge_indicator
   )
 
   cd $_name-$pkgver


############# Stripped diff below #################

--- arch_depends
+++ artix_depends
@@ -3,6 +3,7 @@
 python-click
 python-cloudpickle
 python-fsspec
+python-importlib-metadata
 python-installer
 python-packaging
 python-partd