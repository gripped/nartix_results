--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,7 +1,7 @@
 
 pkgname=python-zope-testing
 _pkgname=zope.testing
-pkgver=6.0
+pkgver=5.1
 pkgrel=1
 pkgdesc="Zope testing helpers"
 arch=('any')
@@ -18,7 +18,7 @@
   'python-wheel'
 )
 source=("$pkgname-$pkgver.tar.gz::$url/archive/$pkgver.tar.gz")
-sha512sums=('6e28e0589bc7b2c62973047d8fd2ab53fca0c304bcb84a057769238792b2c834e15ecf4d4d03c06fed1744d0f0deb7a9e81b4f37155d247b45801020a89fcd89')
+sha512sums=('74e9aa73d778783cb67fb1f67c0903512a4b623b024e29bdfdc86800d3c1651d2d46c1563ef4db0cf4223e3fabd51819e29b0e52a644fa7099e1395e30e3e61b')
 
 build() {
   cd $_pkgname-$pkgver
@@ -27,12 +27,14 @@
 
 check() {
   cd $_pkgname-$pkgver
-  python -m venv --system-site-packages test-env
-  test-env/bin/python -m installer dist/*.whl
-  test-env/bin/python -m zope.testrunner -vc --test-path src/
+  python -m installer --destdir=tmp_install dist/*.whl
+  local site_packages=$(python -c "import site; print(site.getsitepackages()[0])")
+  export PYTHONPATH="$PWD/tmp_install/$site_packages"
+  zope-testrunner --test-path=src -vc
 }
 
 package() {
   cd $_pkgname-$pkgver
   python -m installer --destdir="$pkgdir" dist/*.whl
 }
+
