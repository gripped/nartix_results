--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,16 +1,14 @@
 
 pkgname=ejabberd
 pkgver=24.12
-pkgrel=3
+pkgrel=1
 pkgdesc="Jabber server written in Erlang"
 arch=('x86_64')
 url="https://www.ejabberd.im/"
-license=("GPL-2.0-or-later")
-depends=('expat' 'openssl' 'zlib' 'erlang-core' 'pam' 'iproute2'
+license=("GPL")
+depends=('expat' 'openssl' 'zlib' 'erlang-nox' 'pam' 'iproute2'
 	 'libyaml' 'sqlite' 'gd' 'elixir')
-makedepends=('erlang-compiler' 'erlang-asn1' 'erlang-public_key' 'erlang-ssl' 'erlang-parsetools'
-	     'erlang-erl_interface' 'erlang-eunit' 'erlang-syntax_tools' 'erlang-odbc' 'erlang-eldap'
-	     'git' 'rebar3' 'hevea' 'texlive-bin' 'texlive-basic' 'texlive-latexextra' 'elixir')
+makedepends=('git' 'rebar' 'hevea' 'texlive-bin' 'texlive-basic' 'texlive-latexextra' 'elixir')
 optdepends=('gsfonts: for captcha'
 	    'imagemagick: for captcha')
 backup=('etc/ejabberd/ejabberd.yml'
@@ -119,7 +117,6 @@
     -e "s|INSTALLUSER=\"\"|INSTALLUSER=\"jabber\"|g" \
     "$pkgdir"/usr/bin/ejabberdctl
 
-  install -Dm0644 ejabberd.service "$pkgdir"/usr/lib/systemd/system/ejabberd.service
 
   install -d "$pkgdir/var/lib/$pkgname"
   install -D -m0644 "$srcdir/$pkgname.logrotate" "$pkgdir/etc/logrotate.d/$pkgname"


############# Stripped diff below #################

--- arch_depends
+++ artix_depends
@@ -1,15 +1,5 @@
 elixir
-erlang-asn1
-erlang-compiler
-erlang-core
-erlang-eldap
-erlang-erl_interface
-erlang-eunit
-erlang-odbc
-erlang-parsetools
-erlang-public_key
-erlang-ssl
-erlang-syntax_tools
+erlang-nox
 expat
 gd
 git
@@ -18,7 +8,7 @@
 libyaml
 openssl
 pam
-rebar3
+rebar
 sqlite
 texlive-basic
 texlive-bin