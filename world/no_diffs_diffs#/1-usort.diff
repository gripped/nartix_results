--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,17 +1,17 @@
 
 pkgname=usort
-pkgver=1.1.0
-pkgrel=2
+pkgver=1.0.8
+pkgrel=1
 pkgdesc='Safe, minimal import sorting for Python projects'
 arch=('any')
 url='https://github.com/facebookexperimental/usort'
 license=('MIT')
 depends=('python-attrs' 'python-click' 'python-libcst' 'python-moreorless'
          'python-stdlibs' 'python-toml' 'python-trailrunner')
-makedepends=('python-build' 'python-installer' 'python-hatchling' 'python-hatch-vcs')
-checkdepends=('python-pytest' 'python-volatile')
+makedepends=('python-build' 'python-installer' 'python-setuptools-scm' 'python-wheel')
+checkdepends=('python-volatile')
 source=("$pkgname-$pkgver.tar.gz::$url/archive/v$pkgver.tar.gz")
-sha512sums=('56737b154b6c35a8a11c1ba5631647d44f26073f8064cf17c5a2a125412a5cc6339b24f6738d2fddefe1a9c80ae2f19d26e0d74b8118c36151e0d6c173f531fa')
+sha512sums=('d6f35df433cc23481a97bbd8026d68785f8db4d6e8e1a1e039ca962d0a5e586a370417b37ed53c0e1713ceae0713d84ddd63ac26e38f4a6f46802f4b3dcdfc4e')
 
 build() {
   cd $pkgname-$pkgver
@@ -22,7 +22,7 @@
 check() {
   cd $pkgname-$pkgver
 
-  pytest -v usort/tests/__init__.py
+  python -m usort.tests
 }
 
 package() {


############# Stripped diff below #################

--- arch_depends
+++ artix_depends
@@ -1,11 +1,11 @@
 python-attrs
 python-build
 python-click
-python-hatch-vcs
-python-hatchling
 python-installer
 python-libcst
 python-moreorless
+python-setuptools-scm
 python-stdlibs
 python-toml
 python-trailrunner
+python-wheel