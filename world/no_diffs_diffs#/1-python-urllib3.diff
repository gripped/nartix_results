--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,7 +1,7 @@
 
 _name=urllib3
 pkgname=python-urllib3
-pkgver=1.26.20
+pkgver=1.26.19
 pkgrel=1
 pkgdesc="HTTP library with thread-safe connection pooling and file post support"
 arch=("any")
@@ -24,7 +24,7 @@
   'python-idna'
   'python-pyopenssl'
   'python-pysocks'
-  'python-pytest'
+  'python-pytest7'
   'python-pytest-freezegun'
   'python-pytest-timeout'
   'python-tornado'
@@ -38,8 +38,8 @@
   'python-pyopenssl: security support'
   'python-pysocks: SOCKS support'
 )
-source=("$url/archive/$pkgver/$pkgname-$pkgver.tar.gz")
-sha512sums=('63c4263c5e61adf28344e79b6c864c70e555b715a93e735aca5b6e169f041f3e4518961993c86c83dd13bcb149f7dd77b6e90140cf4aa2310c14fcaa0a52179b')
+source=("https://github.com/urllib3/urllib3/archive/$pkgver/$pkgname-$pkgver.tar.gz")
+sha512sums=('6b72012dbd85434b2441229cbdea2a94583693f904dde349780e1290d581c8a5e10fe00a287a032ed1276349d0078b530f16a133e0f164dcea18105fa3dec79a')
 
 prepare() {
   find $_name-$pkgver -type f -iname "*.py" -exec sed 's/import mock/from unittest import mock/; s/from mock/from unittest.mock/' -i {} +
@@ -53,8 +53,38 @@
 check() {
   local pytest_options=(
     -vv
-    --deselect=test/contrib/test_pyopenssl.py::TestSSL::test_ssl_read_timeout
-    --deselect=test/with_dummyserver/test_socketlevel.py::TestSSL::test_ssl_read_timeout
+    --deselect test/test_ssltransport.py::SingleTLSLayerTestCase::test_ssl_object_attributes
+    --deselect test/contrib/test_pyopenssl.py::TestSSL::test_ssl_read_timeout
+    --deselect test/with_dummyserver/test_socketlevel.py::TestSSL::test_ssl_read_timeout
+    --deselect test/with_dummyserver/test_socketlevel.py::TestSSL::*
+    --deselect test/with_dummyserver/test_socketlevel.py::TestClients::*
+    --deselect test/contrib/test_pyopenssl.py::TestClientCerts::test_client_certs_two_files
+    --deselect test/contrib/test_pyopenssl.py::TestClientCerts::test_client_certs_one_file
+    --deselect test/contrib/test_pyopenssl.py::TestClientCerts::test_missing_client_certs_raises_error
+    --deselect test/contrib/test_pyopenssl.py::TestClientCerts::test_client_cert_with_string_password
+    --deselect test/contrib/test_pyopenssl.py::TestClientCerts::test_client_cert_with_bytes_password
+    --deselect test/contrib/test_pyopenssl.py::TestSSL::test_ssl_failure_midway_through_conn
+    --deselect test/contrib/test_pyopenssl.py::TestSSL::test_retry_ssl_error
+    --deselect test/contrib/test_pyopenssl.py::TestSSL::test_requesting_large_resources_via_ssl
+    --deselect test/with_dummyserver/test_proxy_poolmanager.py::TestHTTPProxyManager::test_scheme_host_case_insensitive
+    --deselect test/with_dummyserver/test_socketlevel.py::TestClientCerts::test_client_certs_two_files
+    --deselect test/with_dummyserver/test_socketlevel.py::TestClientCerts::test_client_certs_one_file
+    --deselect test/with_dummyserver/test_socketlevel.py::TestClientCerts::test_missing_client_certs_raises_error
+    --deselect test/with_dummyserver/test_socketlevel.py::TestClientCerts::test_client_cert_with_string_password
+    --deselect test/with_dummyserver/test_socketlevel.py::TestClientCerts::test_client_cert_with_bytes_password
+    --deselect test/with_dummyserver/test_socketlevel.py::TestProxyManager::test_connect_reconn
+    --deselect test/with_dummyserver/test_socketlevel.py::TestProxyManager::test_connect_ipv6_addr
+    --deselect test/with_dummyserver/test_proxy_poolmanager.py::TestIPv6HTTPProxyManager::test_basic_ipv6_proxy
+    --deselect test/with_dummyserver/test_socketlevel.py::TestSSL::test_ssl_failure_midway_through_conn
+    --deselect test/with_dummyserver/test_socketlevel.py::TestProxyManager::test_https_proxymanager_connected_to_http_proxy
+    --deselect test/with_dummyserver/test_socketlevel.py::TestSSL::test_retry_ssl_error
+    --deselect test/with_dummyserver/test_socketlevel.py::TestSSL::test_ssl_failed_fingerprint_verification
+    --deselect test/with_dummyserver/test_socketlevel.py::TestSSL::test_ssl_custom_validation_failure_terminates
+    --deselect test/with_dummyserver/test_socketlevel.py::TestSSL::test_requesting_large_resources_via_ssl
+    --deselect test/test_connection.py::TestConnection::test_recent_date
+    --deselect test/test_no_ssl.py::TestImportWithoutSSL::test_cannot_import_ssl
+    --deselect test/contrib/test_pyopenssl.py::TestSSL::test_ssl_failed_fingerprint_verification
+    --deselect test/contrib/test_pyopenssl.py::TestSSL::test_ssl_custom_validation_failure_terminates
   )
   local site_packages=$(python -c "import site; print(site.getsitepackages()[0])")
 
