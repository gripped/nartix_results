--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,7 +1,7 @@
+
 
 pkgname=nawk
-pkgver=20231228
-_commit=908be9c222c0b7da4bcc3b8724ebb11996993a69 # master
+pkgver=20240311
 pkgrel=1
 pkgdesc='The one, true implementation of AWK'
 url="https://github.com/onetrueawk/awk"
@@ -10,13 +10,14 @@
 options=(!makeflags)
 depends=(glibc)
 makedepends=(git)
-source=("git+https://github.com/onetrueawk/awk.git#commit=${_commit}"
+source=("git+https://github.com/onetrueawk/awk.git#commit=${_commit:-$pkgver}"
         'manpage-naming.patch')
 sha256sums=('SKIP'
             'fa1bade363896033a50fbdadc8fa2f490f85a044d11afcd537f317067c70d3b5')
 
 pkgver() {
-  grep "version " awk/main.c | sed -e 's/[^"]*"\([^"]*\)".*/\1/' -e 's/^\w*\ *//'
+  grep "version " awk/main.c |
+    sed -e 's/[^"]*"\([^"]*\)".*/\1/' -e 's/^\w*\ *//'
 }
 
 prepare() {
