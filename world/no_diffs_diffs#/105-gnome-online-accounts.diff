--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -4,8 +4,8 @@
   gnome-online-accounts
   libgoa
 )
-pkgver=3.50.1
-pkgrel=1
+pkgver=3.50.0
+pkgrel=3
 pkgdesc="Single sign-on framework for GNOME"
 url="https://wiki.gnome.org/Projects/GnomeOnlineAccounts"
 arch=(x86_64)
@@ -34,10 +34,14 @@
   python-packaging
   vala
 )
-source=(
-  "git+https://gitlab.gnome.org/GNOME/gnome-online-accounts.git#tag=$pkgver"
-)
-b2sums=('7cc6eab08873524291876aed5f7942723aea6dea56218d2cd93ed9dc3228c6562f10219fd387b4040e4a8868ca8272ed9bb177391e406ee56a50798609e6dded')
+_commit=05a2dc771e6645cb60ff3a9352af91e9572ce976  # tags/3.50.0^0
+source=("git+https://gitlab.gnome.org/GNOME/gnome-online-accounts.git#commit=$_commit")
+b2sums=('SKIP')
+
+pkgver() {
+  cd $pkgname
+  git describe --tags | sed 's/[^-]*-g/r&/;s/-/+/g'
+}
 
 prepare() {
   cd $pkgname
@@ -49,7 +53,7 @@
     -D man=true
   )
 
-  arch-meson $pkgname build "${meson_options[@]}"
+  artix-meson $pkgname build "${meson_options[@]}"
   meson compile -C build
 }
 


############# Stripped diff below #################



--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -6,6 +6,6 @@
 -D gtk_doc=true
 -D man=true
 )
-arch-meson $pkgname build "${meson_options[@]}"
+artix-meson $pkgname build "${meson_options[@]}"
 meson compile -C build
 }
