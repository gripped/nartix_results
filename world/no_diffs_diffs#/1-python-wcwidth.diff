--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,23 +1,29 @@
 
 pkgname=python-wcwidth
-pkgver=0.2.14
-pkgrel=1
+pkgver=0.2.13
+pkgrel=3
 pkgdesc='Python library that measures the width of unicode strings rendered to a terminal'
-arch=(any)
+arch=('any')
 url='https://github.com/jquast/wcwidth'
-license=(MIT)
-depends=(python)
+license=('MIT')
+depends=('python')
 makedepends=(
-  git
-  python-build
-  python-installer
-  python-setuptools
-  python-wheel
+  'git'
+  'python-build'
+  'python-installer'
+  'python-setuptools'
+  'python-wheel'
 )
-checkdepends=(python-pytest)
-source=("$pkgname::git+$url#tag=$pkgver")
-sha512sums=('b5c177995d5cce9c69333385caf7fa750f74a1f5daaad9c90c82e42d7213995f11e423f3a2442c058d14d922ca5525fdfdbf110feb18c58679114fdb0476b1aa')
-b2sums=('38edec0cbc294b392a9eba5010aa7222c82d99a6070eb76485b9ea83a5a3bc0c78bb4d4a7b7066188b42a8a41c8c18a89b1846f6a9fba9f40e54c78a283bbf3d')
+checkdepends=('python-pytest')
+_commit='36a625179ed2675287fe6b61c2ad319406449e60'
+source=("$pkgname::git+$url#commit=$_commit")
+b2sums=('cd167cc474e8e36d9b9dea7c8738df38b137aaa889cff02ed05a74af0e0ffaac8c2151e31c4e0fde0362735fe37f98135ef8059df6dfc62873940b7065662490')
+
+pkgver() {
+  cd "$pkgname"
+
+  git describe --tags | sed 's/^v//'
+}
 
 build() {
   cd "$pkgname"
@@ -39,5 +45,8 @@
 
   python -m installer --destdir="$pkgdir" dist/*.whl
 
-  install -vDm644 -t "$pkgdir/usr/share/licenses/$pkgname" LICENSE
+  local site_packages=$(python -c "import site; print(site.getsitepackages()[0])")
+  install -d "$pkgdir/usr/share/licenses/$pkgname"
+  ln -s "$site_packages/${pkgname#python-}-$pkgver.dist-info/LICENSE" \
+    "$pkgdir/usr/share/licenses/$pkgname/LICENSE"
 }
