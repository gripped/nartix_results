--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,15 +1,21 @@
 pkgname=jose
-pkgver=14
-pkgrel=1
+pkgver=11
+_commit=145c41a4ec70c15f6f8aa12a915e16cb60f0991f # git rev-parse "v$pkgver^{}"
+pkgrel=4
 pkgdesc='C-language implementation of Javascript Object Signing and Encryption'
 arch=('x86_64')
 url='https://github.com/latchset/jose'
-license=('Apache-2.0')
+license=('APACHE')
 depends=('jansson' 'openssl' 'zlib')
 makedepends=('git' 'asciidoc' 'meson')
-source=("git+$url#tag=v$pkgver")
-sha512sums=('06bd926befe2cc35924cb3b5946751538a52f5fc8f6cf7ff9cf6ba36f4cc2d77875ab26add6b52ca0baa945247eb3a3419052ec78a013fbded971c66ce0244b8')
-b2sums=('85bdf7df62978131ab1bf5048692e7c80992068e287a1f08eb813204b1e13cf45dc624e58636d97af7fc0171f5c2a709c4fe82a0a42ee116201240158cda01c4')
+source=("git+$url.git?signed#commit=$_commit")
+sha512sums=('SKIP')
+validpgpkeys=('7CE2CB3D2AF59FE1EA22F551D0D219ED1F7E762C') # Sergio Correia <scorreia@redhat.com>
+
+pkgver() {
+	cd "$pkgname"
+	git describe --tags | sed 's/^v//;s/\([^-]*-\)g/r\1/;s/-/./g'
+}
 
 build() {
 	cd "$pkgname"
