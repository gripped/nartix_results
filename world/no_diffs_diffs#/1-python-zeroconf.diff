--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,6 +1,6 @@
 
 pkgname=python-zeroconf
-pkgver=0.148.0
+pkgver=0.147.0
 pkgrel=2
 pkgdesc="A pure python implementation of multicast DNS service discovery"
 arch=('x86_64')
@@ -9,24 +9,13 @@
 depends=('python' 'python-ifaddr')
 makedepends=('python-setuptools' 'python-build' 'python-installer'
              'python-wheel' 'python-poetry-core' 'cython')
-checkdepends=('python-pytest' 'python-pytest-asyncio')
+checkdepends=('python-pytest')
 source=($pkgname-$pkgver.tar.gz::https://github.com/jstasiak/${pkgname}/archive/${pkgver}.tar.gz)
-sha256sums=('8a85eca5facbeb9118a1d72fc3cbf3e014960a5bd048f947b3cec908ff44107b')
+sha256sums=('6f47281790eb4a013abb613a8c22bdaf9e2ce8e1a667106b65ab36252d8793d7')
 
 build() {
   cd "${pkgbase}-${pkgver}"
   python -m build --wheel --no-isolation
-}
-
-check() {
-  cd "${pkgbase}-${pkgver}"
-
-  python -m venv --system-site-packages test-env
-  test-env/bin/python -m installer dist/*.whl
-  test-env/bin/python -m pytest \
-    --override-ini="addopts=" \
-    --ignore tests/benchmarks \
-    --deselect tests/services/test_types.py::test_integration_with_listener_ipv6
 }
 
 package() {
@@ -35,3 +24,11 @@
   python -m installer --destdir="$pkgdir" dist/*.whl
 }
 
+check() {
+  cd "${pkgbase}-${pkgver}"
+  pytest tests \
+    --override-ini="addopts=" \
+    --ignore tests/benchmarks \
+    --deselect tests/services/test_types.py::test_integration_with_listener_ipv6
+}
+
