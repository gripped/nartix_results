--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -4,25 +4,28 @@
   libsoup3
   libsoup3-docs
 )
-pkgver=3.4.4
+pkgver=3.6.0
 pkgrel=1
 pkgdesc="HTTP client/server library for GNOME"
 url="https://wiki.gnome.org/Projects/libsoup"
 arch=(x86_64)
-license=(LGPL)
+license=(LGPL-2.0-or-later)
 depends=(
   brotli
   glib-networking
   glib2
+  glibc
   krb5
   libnghttp2
   libpsl
   libsysprof-capture
   sqlite
+  zlib
 )
 makedepends=(
   gi-docgen
   git
+  glib2-devel
   gobject-introspection
   meson
   python-quart
@@ -33,14 +36,8 @@
   apache
   php-apache
 )
-_commit=d6133a8e116953dac824b835d4f788e21a3e6565  # tags/3.4.4^0
-source=("git+https://gitlab.gnome.org/GNOME/libsoup.git#commit=$_commit")
-b2sums=('SKIP')
-
-pkgver() {
-  cd libsoup
-  git describe --tags | sed 's/[^-]*-g/r&/;s/-/+/g'
-}
+source=("git+https://gitlab.gnome.org/GNOME/libsoup.git#tag=$pkgver")
+b2sums=('1e2caa4a7caae83ff9ed75c4056532d9883d71ad645ac8941e1312c9209a516774bb7df89503d494bc8320aa598cfba56c254c2682ccf0df50d584593b51ea5b')
 
 prepare() {
   cd libsoup
@@ -51,7 +48,7 @@
     -D autobahn=disabled
   )
 
-  arch-meson libsoup build "${meson_options[@]}"
+  artix-meson libsoup build "${meson_options[@]}"
   meson compile -C build
 }
 


############# Stripped diff below #################

--- arch_depends
+++ artix_depends
@@ -4,6 +4,8 @@
 git
 glib-networking
 glib2
+glib2-devel
+glibc
 gobject-introspection
 krb5
 libbrotlidec.so
@@ -20,3 +22,4 @@
 samba
 sqlite
 vala
+zlib

--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -5,6 +5,6 @@
 local meson_options=(
 -D autobahn=disabled
 )
-arch-meson libsoup build "${meson_options[@]}"
+artix-meson libsoup build "${meson_options[@]}"
 meson compile -C build
 }
