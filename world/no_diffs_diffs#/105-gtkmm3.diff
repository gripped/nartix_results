--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -4,7 +4,7 @@
   gtkmm3
   gtkmm3-docs
 )
-pkgver=3.24.10
+pkgver=3.24.9
 pkgrel=1
 pkgdesc="C++ bindings for GTK+ 3"
 url="https://www.gtkmm.org/"
@@ -12,14 +12,7 @@
 license=(LGPL-2.1-or-later)
 depends=(
   atkmm
-  cairomm
-  gcc-libs
-  gdk-pixbuf2
-  glib2
-  glibc
-  glibmm
   gtk3
-  libsigc++
   pangomm
 )
 makedepends=(
@@ -27,15 +20,19 @@
   cairomm-docs
   git
   glibmm-docs
-  libsigc++-docs
   meson
   mm-common
   pangomm-docs
 )
 checkdepends=(xorg-server-xvfb)
-options=(!emptydirs)
-source=("git+https://gitlab.gnome.org/GNOME/gtkmm.git#tag=$pkgver")
-b2sums=('b19ef42b6e29035a2ce5475333de9aefb2f91e7daa42cd0632ca1cbf6bbd4b3ebae900094eec1e35180185c65b9077396de5cb5d8d5c40d990578e76b8901e4b')
+_commit=2ae5c7ec2daf58f8320c411465c61c228ec8bd27  # tags/3.24.9^0
+source=("git+https://gitlab.gnome.org/GNOME/gtkmm.git#commit=$_commit")
+b2sums=('593d3251802bc586ff6965a3d4ae4bd082280a1f6e30b6e26578ea9ef214ea7f02a90947cd3af058414044dadda5a0c0e9a40f0319babcd3c44ace57d3708106')
+
+pkgver() {
+  cd gtkmm
+  git describe --tags | sed 's/[^-]*-g/r&/;s/-/+/g'
+}
 
 prepare() {
   cd gtkmm
@@ -46,7 +43,7 @@
     -D maintainer-mode=true
   )
 
-  arch-meson gtkmm build "${meson_options[@]}"
+  artix-meson gtkmm build "${meson_options[@]}"
   meson compile -C build
 }
 
@@ -62,10 +59,8 @@
     libpangomm-1.4.so
     libsigc-2.0.so
   )
-  provides=(
-    libgdkmm-3.0.so
-    libgtkmm-3.0.so
-  )
+  provides=(libgtkmm-3.0.so)
+  options=(!emptydirs)
 
   meson install -C build --destdir "$pkgdir"
 


############# Stripped diff below #################

--- arch_depends
+++ artix_depends
@@ -1,22 +1,14 @@
 
 atkmm
 atkmm-docs
-cairomm
 cairomm-docs
-gcc-libs
-gdk-pixbuf2
 git
-glib2
-glibc
-glibmm
 glibmm-docs
 gtk3
 libatkmm-1.6.so
 libcairomm-1.0.so
 libglibmm-2.4.so
 libpangomm-1.4.so
-libsigc++
-libsigc++-docs
 libsigc-2.0.so
 meson
 mm-common

--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -5,6 +5,6 @@
 local meson_options=(
 -D maintainer-mode=true
 )
-arch-meson gtkmm build "${meson_options[@]}"
+artix-meson gtkmm build "${meson_options[@]}"
 meson compile -C build
 }
