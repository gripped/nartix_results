--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -4,41 +4,37 @@
   libnotify
   libnotify-docs
 )
-pkgver=0.8.4
+pkgver=0.8.3
 pkgrel=1
 pkgdesc="Library for sending desktop notifications"
 url="https://gitlab.gnome.org/GNOME/libnotify"
 arch=(x86_64)
-license=(LGPL-2.1-or-later)
-depends=(
-  gcc-libs
-  gdk-pixbuf2
-  glib2
-  glibc
-)
+license=(LGPL)
+depends=(gdk-pixbuf2)
 makedepends=(
   docbook-xsl
   gi-docgen
   git
-  glib2-devel
   gobject-introspection
   gtk3
   meson
   xmlto
 )
-source=("git+$url.git?signed#tag=$pkgver")
-b2sums=('77851478ea96ddd38a89120777768240f5f12dabdcb48c2ceb803cd1501a415b2a35154a4bad35cc81ae6466cd763bb92b38187e81cb945fb9113d9161f7b265')
-validpgpkeys=(
-  98FF7532A4639119B8FB4F15E520923A38618D6C # Logan Rathbone (GNOME) <larathbone@gnome.org>
-  D4C501DA48EB797A081750939449C2F50996635F # Marco Trevisan (Trevi√±o) <mail@3v1n0.net>
-)
+_commit=6083790f9e0f1827147ecd8799c4dced0e86a877  # tags/0.8.3^0
+source=("git+$url.git#commit=$_commit")
+b2sums=('SKIP')
+
+pkgver() {
+  cd $pkgname
+  git describe --tags | sed 's/[^-]*-g/r&/;s/-/+/g'
+}
 
 prepare() {
   cd $pkgname
 }
 
 build() {
-  arch-meson $pkgname build
+  artix-meson $pkgname build
   meson compile -C build
 }
 
@@ -47,6 +43,10 @@
 }
 
 package_libnotify() {
+  depends+=(
+    libg{lib,object,io}-2.0.so
+    libgdk_pixbuf-2.0.so
+  )
   provides=(libnotify.so)
 
   meson install -C build --destdir "$pkgdir"


############# Stripped diff below #################

--- arch_depends
+++ artix_depends
@@ -1,13 +1,13 @@
 
 docbook-xsl
-gcc-libs
 gdk-pixbuf2
 gi-docgen
 git
-glib2
-glib2-devel
-glibc
 gobject-introspection
 gtk3
+libgdk_pixbuf-2.0.so
+libgio-2.0.so
+libglib-2.0.so
+libgobject-2.0.so
 meson
 xmlto

--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -2,6 +2,6 @@
 cd $pkgname
 }
 build() {
-arch-meson $pkgname build
+artix-meson $pkgname build
 meson compile -C build
 }
