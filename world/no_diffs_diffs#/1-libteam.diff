--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,18 +1,14 @@
 
 pkgbase=libteam
-pkgname=(
-  libteam
-  libteam-docs
-)
+pkgname=(libteam libteam-docs)
 pkgver=1.32
-pkgrel=3
+pkgrel=2.1
 pkgdesc="Library for controlling team network device"
-url="https://libteam.org/"
+url="http://libteam.org/"
 arch=(x86_64)
-license=(LGPL-2.1-or-later)
+license=(LGPL)
 depends=(
   bash
-  glibc
   jansson
   libdaemon
   libdbus
@@ -24,8 +20,14 @@
   git
   graphviz
 )
-source=("git+https://github.com/jpirko/libteam#tag=v$pkgver")
-b2sums=('a2d17fefbe2482241bd722b7f8f4904484838207330dc93819233f98e064d4fc06c3aea908680bf10eccc1d9e1bd339605eb91a29e8dbb4df109ea1ae8aaecf5')
+_commit=8b843e93cee1dab61fb79b01791201cdad45e1d1  # tags/v1.32
+source=("git+https://github.com/jpirko/libteam#commit=$_commit")
+b2sums=('SKIP')
+
+pkgver() {
+  cd libteam
+  git describe --tags | sed 's/^v//;s/[^-]*-g/r&/;s/-/+/g'
+}
 
 prepare() {
   cd libteam
@@ -53,16 +55,12 @@
 }
 
 package_libteam() {
-  provides=(
-    libteam.so
-    libteamdctl.so
-  )
+  provides=(libteam.so libteamdctl.so)
 
   cd libteam
   make DESTDIR="$pkgdir" install
 
-  install -Dm644 teamd/redhat/systemd/teamd@.service -t "$pkgdir/usr/lib/systemd/system"
-  install -Dm644 teamd/dbus/teamd.conf -t "$pkgdir/usr/share/dbus-1/system.d"
+  install -Dt "$pkgdir/usr/share/dbus-1/system.d" -m644 teamd/dbus/teamd.conf
 }
 
 package_libteam-docs() {


############# Stripped diff below #################

--- arch_depends
+++ artix_depends
@@ -2,7 +2,6 @@
 bash
 doxygen
 git
-glibc
 graphviz
 jansson
 libdaemon