--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,19 +1,19 @@
 
 pkgname=python-sqlalchemy
 _name="${pkgname#python-}"
-pkgver=1.4.52
+pkgver=2.0.31
 _ver="rel_${pkgver//./_}"
-pkgrel=4
+pkgrel=2
 arch=('x86_64')
 url="https://www.sqlalchemy.org/"
 license=('MIT')
 pkgdesc='Python SQL toolkit and Object Relational Mapper'
-depends=('glibc' 'python' 'python-greenlet')
+depends=('glibc' 'python' 'python-greenlet' 'python-typing_extensions')  # HACK: typing_extensions is not required but upstream unconditionally imports it
 optdepends=('python-psycopg2: connect to PostgreSQL database')
-makedepends=('python-setuptools' 'python-build' 'python-installer' 'python-wheel')
-checkdepends=('python-pytest' 'python-pytest-xdist')
+makedepends=('python-setuptools' 'python-build' 'python-installer' 'python-wheel' 'cython')
+checkdepends=('python-pytest' 'python-pytest-xdist' 'mypy')
 source=("$pkgname-$pkgver.tar.gz::https://github.com/sqlalchemy/sqlalchemy/archive/refs/tags/${_ver}.tar.gz")
-sha512sums=('d63ad982073eeeb094dd026ccf92907b829ee12c28a6f1092948077f0112695b1b22c28f9ad2eb7ff063ff8926cb416a1e45102df016ada5c1f866de373bb0e8')
+sha512sums=('90693200c837d02feb6bb6f57b37895a8b6df6dcd0727118b1af5b5c5e89f5009916776eeddc049a872ac315c84a19925010581a3570622915f9059dc02e6b23')
 
 prepare() {
   cd $_name-$_ver


############# Stripped diff below #################

--- arch_depends
+++ artix_depends
@@ -1,7 +1,9 @@
+cython
 glibc
 python
 python-build
 python-greenlet
 python-installer
 python-setuptools
+python-typing_extensions
 python-wheel