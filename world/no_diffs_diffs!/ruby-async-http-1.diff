--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,7 +1,7 @@
 
 pkgname=ruby-async-http
-pkgver=0.87.0
-pkgrel=2
+pkgver=0.82.1
+pkgrel=1
 pkgdesc='A HTTP client and server library'
 arch=(any)
 url='https://github.com/socketry/async-http'
@@ -12,7 +12,6 @@
   ruby-async-pool
   ruby-io-endpoint
   ruby-io-stream
-  ruby-metrics
   ruby-protocol-http
   ruby-protocol-http1
   ruby-protocol-http2
@@ -23,23 +22,30 @@
 )
 checkdepends=(
   ruby-async-container
+  ruby-async-http
+  ruby-async-pool
+  ruby-async-rspec
   ruby-bake
+  ruby-bake-modernize
   ruby-bake-test
   ruby-bake-test-external
   ruby-bundler
   ruby-covered
   ruby-decode
   ruby-localhost
+  ruby-metrics
   ruby-rack-test
+  ruby-rspec
   ruby-sus
   ruby-sus-fixtures-async
   ruby-sus-fixtures-async-http
   ruby-sus-fixtures-openssl
+  ruby-thread-local
 )
 options=(!emptydirs)
 source=(https://github.com/socketry/async-http/archive/v$pkgver/$pkgname-$pkgver.tar.gz)
-sha512sums=('5ee42f2fd823857731a7e23f9f557b6bc8064f506f1a75fd31fae1c003d3adf5e03b0d7671f53e7095289edf4f32ffed1aed0c113adfb14e01629eac018acfcd')
-b2sums=('8546e09e8d4a7a8ca3f0baadcdcf046595fe6358d7b85485a65909f0bb572b993f1736539c1984a5f217acef175f5a2657dba277786b1ae06eba3c3ee1a82ee4')
+sha512sums=('9f6e6933c820d6817cdfa1cdce83bdbae49425b1df8065790afb732125c15495e81db368066e0d8c7aa50b0b010f56220ee8268428ba25bc37eb663ef95d7c5c')
+b2sums=('be4c8ce3c11b1618fac31cc50e44ab097fa1fefd7ce041f65a02b344e1d3149796c5ee0486373f14490643ab4abf3107a06f66c97de5267cc43b2a01fcb9d0ad')
 
 prepare() {
   cd async-http-$pkgver


############# Stripped diff below #################

--- arch_depends
+++ artix_depends
@@ -3,7 +3,6 @@
 ruby-async-pool
 ruby-io-endpoint
 ruby-io-stream
-ruby-metrics
 ruby-protocol-http
 ruby-protocol-http1
 ruby-protocol-http2