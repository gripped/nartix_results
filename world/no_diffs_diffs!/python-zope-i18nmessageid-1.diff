--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,8 +1,8 @@
 
 pkgname=python-zope-i18nmessageid
 _pkgname=zope.i18nmessageid
-pkgver=8.0
-pkgrel=1
+pkgver=7.0
+pkgrel=2
 pkgdesc="Message Identifiers for internationalization"
 arch=('x86_64')
 url="https://github.com/zopefoundation/zope.i18nmessageid"
@@ -19,7 +19,7 @@
 )
 checkdepends=('python-zope-testrunner')
 source=("$pkgname-$pkgver.tar.gz::https://github.com/zopefoundation/zope.i18nmessageid/archive/$pkgver.tar.gz")
-sha512sums=('28b008364a35986549c6d2251f60593f09caf11d56f42dfffebeb1de491ec5756214d0af641c3cc9b8baf2b9c474fceb27e76ce753679091ee90d353ede29746')
+sha512sums=('5c5e255c426ab5a560847efaaf1f5aacaf7ed034f05bf4a44c38d81b0cba9474328577323826574725223aa7674a18e6fbd0e93c4c024e0bd594ea6c234fd04c')
 
 build() {
   cd $_pkgname-$pkgver
@@ -28,12 +28,14 @@
 
 check() {
   cd $_pkgname-$pkgver
-  python -m venv --system-site-packages test-env
-  test-env/bin/python -m installer dist/*.whl
-  test-env/bin/python -m zope.testrunner -vc --test-path src/
+  python -m installer --destdir=tmp_install dist/*.whl
+  local site_packages=$(python -c "import site; print(site.getsitepackages()[0])")
+  export PYTHONPATH="$PWD/tmp_install/$site_packages"
+  zope-testrunner --test-path=src -vc
 }
 
 package() {
   cd $_pkgname-$pkgver
   python -m installer --destdir="$pkgdir" dist/*.whl
 }
+
