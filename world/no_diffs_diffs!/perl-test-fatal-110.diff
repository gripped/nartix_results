--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,29 +1,28 @@
 
 pkgname=perl-test-fatal
-pkgver=0.018
-pkgrel=1
-pkgdesc='Incredibly simple helpers for testing code with exceptions'
-arch=(any)
-url='https://github.com/rjbs/Test-Fatal'
-license=('GPL-1.0-or-later OR Artistic-1.0-Perl')
-depends=(perl perl-try-tiny)
-options=(!emptydirs)
-source=("$pkgname-$pkgver.tar.gz::https://search.cpan.org/CPAN/authors/id/R/RJ/RJBS/Test-Fatal-$pkgver.tar.gz")
-sha512sums=('3c88d6fa62a99ad5d45d9797e54d3cbcb5fbfc3b3f901d43d5c965df80611ea4a60c28d42a5e2684091f583f430049ca31ba79e17638da1144ea4caa48356abf')
-b2sums=('f7319585a3d2ee235c48de3ef984af3ecd8275c4a9510abb93f7691c5770742b42d7269c087b11c5c672ad55353664605e9934766630f81482ad4af0a190e5b9')
+pkgver=0.017
+pkgrel=5
+pkgdesc="Incredibly simple helpers for testing code with exceptions"
+arch=('any')
+url="https://metacpan.org/release/Test-Fatal"
+license=('PerlArtistic' 'GPL')
+depends=('perl-try-tiny')
+options=('!emptydirs')
+source=(https://search.cpan.org/CPAN/authors/id/R/RJ/RJBS/Test-Fatal-$pkgver.tar.gz)
+sha512sums=('e88bb9749bd1cbc4ed169e13bcd5a1ac7411873d8ae00d8b7ecf1dfc39ed9a02f0286d885876913c69b5c90033144d5fda6a5517ef64175d13e284d3c971a6e7')
 
 build() {
-  cd "Test-Fatal-$pkgver"
+  cd "$srcdir/Test-Fatal-$pkgver"
   perl Makefile.PL
   make
 }
 
 check() {
-  cd "Test-Fatal-$pkgver"
+  cd "$srcdir/Test-Fatal-$pkgver"
   make test
 }
 
 package() {
-  cd "Test-Fatal-$pkgver"
+  cd "$srcdir/Test-Fatal-$pkgver"
   make INSTALLDIRS=vendor DESTDIR="$pkgdir" install
 }


############# Stripped diff below #################

--- arch_depends
+++ artix_depends
@@ -1,2 +1 @@
-perl
 perl-try-tiny

--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,5 +1,5 @@
 build() {
-cd "Test-Fatal-$pkgver"
+cd "$srcdir/Test-Fatal-$pkgver"
 perl Makefile.PL
 make
 }
