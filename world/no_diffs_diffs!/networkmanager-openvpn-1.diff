--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,10 +1,6 @@
 
-pkgbase=networkmanager-openvpn
-pkgname=(
-  networkmanager-openvpn
-  networkmanager-vpn-plugin-openvpn
-)
-pkgver=1.12.3
+pkgname=networkmanager-openvpn
+pkgver=1.12.2
 pkgrel=1
 pkgdesc="NetworkManager VPN plugin for OpenVPN"
 url="https://networkmanager.dev/docs/vpn/"
@@ -14,19 +10,22 @@
   gcc-libs
   glib2
   glibc
-  gtk4
   libnm
-  libnma-gtk4
   libsecret
+  openvpn
 )
 makedepends=(
   git
   libnma
-  openvpn
+  libnma-gtk4
   python
 )
+optdepends=(
+  "libnma-gtk4: GUI support (GTK 4)"
+  "libnma: GUI support (GTK 3)"
+)
 source=("git+https://gitlab.gnome.org/GNOME/NetworkManager-openvpn.git?signed#tag=$pkgver")
-b2sums=('32c4563703b9aa795c31e627fd6eaedbe29334c090833dac2fc1dc3bc71d5af84f7b7d4f26cdd5d2566ea64ec5b8f0b411c2af3b39ee7615dedaee7d7d90edc5')
+b2sums=('6286ed5a251b6e50d57ce932f1c9ea89c900e1e8851af053c4d1e800519f392c8e824bd9ff7475bfc2adeed4eb83997e151952028111396f576675513e46e025')
 validpgpkeys=(
   07F9AEC86144386D9576210B66A44781B4EBC2D0 # Íñigo Huguet <ihuguet@redhat.com>
   1CFF865BDF957BE935765BBD2E1878D078DEF7C6 # Íñigo Huguet <ihuguet@riseup.net>
@@ -53,48 +52,10 @@
   make
 }
 
-_pick() {
-  local p="$1" f d; shift
-  for f; do
-    d="$srcdir/$p/${f#$pkgdir/}"
-    mkdir -p "$(dirname "$d")"
-    mv "$f" "$d"
-    rmdir -p --ignore-fail-on-non-empty "$(dirname "$f")"
-  done
+package() {
+  cd NetworkManager-openvpn
+  make DESTDIR="$pkgdir" install dbusservicedir=/usr/share/dbus-1/system.d
+  echo 'u nm-openvpn - "NetworkManager OpenVPN"' |
+    install -Dm644 /dev/stdin "$pkgdir/usr/lib/sysusers.d/$pkgname.conf"
 }
 
-package_networkmanager-openvpn() {
-  pkgdesc+=" (with GUI)"
-  depends+=(
-    "networkmanager-vpn-plugin-openvpn=$pkgver-$pkgrel"
-  )
-  optdepends=(
-    "libnma: GUI support (GTK 3)"
-  )
-
-  cd NetworkManager-openvpn
-  make DESTDIR="$pkgdir" install dbusservicedir=/usr/share/dbus-1/system.d
-
-  cd "$pkgdir"
-  _pick plugin usr/lib/NetworkManager/VPN
-  _pick plugin usr/lib/NetworkManager/libnm-vpn-plugin-openvpn.so
-  _pick plugin usr/lib/nm-openvpn-service*
-  _pick plugin usr/share/dbus-1
-}
-
-package_networkmanager-vpn-plugin-openvpn() {
-  pkgdesc+=" (VPN plugin only)"
-  depends=(
-    gcc-libs
-    glib2
-    glibc
-    libnm
-    openvpn
-  )
-
-  mv plugin/* "$pkgdir"
-
-  echo 'u nm-openvpn - "NetworkManager OpenVPN"' |
-    install -Dm644 /dev/stdin "$pkgdir/usr/lib/sysusers.d/$pkgbase.conf"
-}
-


############# Stripped diff below #################

--- arch_depends
+++ artix_depends
@@ -2,11 +2,9 @@
 git
 glib2
 glibc
-gtk4
 libnm
 libnma
 libnma-gtk4
 libsecret
-networkmanager-vpn-plugin-openvpn
 openvpn
 python