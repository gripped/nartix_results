--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,6 +1,6 @@
 pkgname=openshadinglanguage
-pkgver=1.14.6.0
-pkgrel=1
+pkgver=1.14.5.1
+pkgrel=2
 pkgdesc="Advanced shading language for production GI renderers"
 arch=('x86_64')
 url="https://github.com/imageworks/OpenShadingLanguage"
@@ -9,8 +9,16 @@
          'ncurses' 'clang' 'qt6-base')
 makedepends=('cmake' 'python' 'llvm' 'ninja' 'git')
 optdepends=('python: the Python module')
-source=($pkgname-$pkgver.tar.gz::https://github.com/AcademySoftwareFoundation/OpenShadingLanguage/archive/refs/tags/v${pkgver}.tar.gz)
-sha512sums=('3ac8fa5a2a595fa659e9982ac76556bcc4b68a6ed907cb3f300b9da69e72ec487a5f83cce61d671e8418d948b86945e2ee8471dfc3dc4cf00cbe596bf07725f9')
+source=($pkgname-$pkgver.tar.gz::https://github.com/AcademySoftwareFoundation/OpenShadingLanguage/archive/refs/tags/v${pkgver}.tar.gz
+        osl-llvm20.patch::https://patch-diff.githubusercontent.com/raw/AcademySoftwareFoundation/OpenShadingLanguage/pull/1993.patch)
+sha512sums=('4dfa3659dacc78dc82b943f0d16685e9353924fab40127c69cb2fbdf6d0794970bf283f8711119c31369b9fe507c45e12137d2121f217678da9be86b44b4e2dc'
+            '9203a7377e36dd92e92fdd29e972973328667e7689304aa469f24a3cf58eee42b407247b679060c512ce0b17eb4406ef7e860d43c4a888169902afdfca974344')
+
+prepare() {
+  cd OpenShadingLanguage-$pkgver
+
+  patch -Np1 -i "$srcdir"/osl-llvm20.patch
+}
 
 build() {
   cd OpenShadingLanguage-$pkgver


############# Stripped diff below #################



--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,3 +1,7 @@
+prepare() {
+cd OpenShadingLanguage-$pkgver
+patch -Np1 -i "$srcdir"/osl-llvm20.patch
+}
 build() {
 cd OpenShadingLanguage-$pkgver
 cmake \
