--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,40 +1,24 @@
 
 pkgname=python-serpent
-pkgver=1.42
-pkgrel=1
+pkgver=1.41
+pkgrel=6
 pkgdesc='Serializer for literal Python expressions'
 url='https://github.com/irmen/Serpent'
 arch=(any)
 license=(MIT)
 depends=(python)
-makedepends=(
-  git
-  python-build
-  python-installer
-  python-setuptools
-  python-wheel
-)
+makedepends=(git python-setuptools)
 checkdepends=(python-attrs python-pytz)
-source=("$pkgname::git+$url#tag=serpent-$pkgver")
-sha512sums=('1d2ded16b73a1b22f491edbdc995deaa7790a6bded290a9966601b99aa5de0826ee8db63faca64b852f4fe0d07b6efff499cd286804327ce686da50a0b8d6dac')
-b2sums=('2ade945a56d2646fe75ee79bc7ac0bedd03310d1747c00bcffac84347b742d1d5b45beb58681d87c0996748dc48ca93068f7993dad9e10be86d51e64e5752e45')
-
-build() {
-  cd "$pkgname"
-
-  python -m build --wheel --no-isolation
-}
+source=("git+$url#commit=83d06d779c05e259bf1e020aca9b850d3c6f010b") # tag: serpent-1.41
+b2sums=(SKIP)
 
 check() {
-  cd "$pkgname"
-
+  cd Serpent
   python3 -m unittest discover -vs tests
 }
 
 package() {
-  cd "$pkgname"
-
-  python -m installer --destdir="$pkgdir" dist/*.whl
-
-  install -vDm644 -t "$pkgdir/usr/share/licenses/$pkgname" LICENSE
+  cd Serpent
+  python setup.py install --root="$pkgdir" --optimize=1
+  install -Dm644 LICENSE "$pkgdir/usr/share/licenses/$pkgname/LICENSE"
 }


############# Stripped diff below #################

--- arch_depends
+++ artix_depends
@@ -1,6 +1,3 @@
 git
 python
-python-build
-python-installer
 python-setuptools
-python-wheel

--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,4 +0,0 @@
-build() {
-cd "$pkgname"
-python -m build --wheel --no-isolation
-}
