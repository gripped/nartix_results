--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,28 +1,23 @@
 
 pkgname=android-file-transfer
-_pkgname="${pkgname}-linux"
-pkgver=4.3
-pkgrel=1
-pkgdesc="Android MTP client with minimalistic UI"
-arch=('x86_64')
-url="https://whoozle.github.io/android-file-transfer-linux"
-license=('LGPL-2.1-or-later')
-depends=('qt5-base' 'fuse2' 'libxkbcommon-x11' 'hicolor-icon-theme' 'file' 'android-udev')
-makedepends=('cmake' 'qt5-tools')
-source=("${pkgname}-${pkgver}.tar.gz::https://github.com/whoozle/android-file-transfer-linux/archive/v${pkgver}.tar.gz")
-sha256sums=('8ff658630fc820a7ca0b70025aa47d235b7fb64f5cb6a72ca76a7acbf3435128')
+pkgver=4.2
+pkgrel=3.1
+pkgdesc='Android MTP client with minimalistic UI'
+arch=(x86_64)
+url='https://whoozle.github.io/android-file-transfer-linux'
+license=(GPL3)
+depends=(qt5-base fuse2 libxkbcommon-x11 hicolor-icon-theme file)
+makedepends=(cmake qt5-tools git)
+source=("git+https://github.com/whoozle/android-file-transfer-linux.git")
+sha256sums=('SKIP')
 
 build() {
-	cmake -B build -S "${_pkgname}-${pkgver}" \
-	  -DCMAKE_BUILD_TYPE='None' \
-	  -DCMAKE_INSTALL_PREFIX='/usr' \
-	  -DCMAKE_CXX_FLAGS="${CXXFLAGS} -ffat-lto-objects" \
-	  -Wno-dev
-	cmake --build build
-
-	make -C build
+  cd android-file-transfer-linux
+  cmake -DCMAKE_INSTALL_PREFIX=/usr . -DCMAKE_CXX_FLAGS="$CXXFLAGS -ffat-lto-objects"
+  make
 }
 
 package() {
-	make DESTDIR="${pkgdir}" -C build install
+  cd android-file-transfer-linux
+  make DESTDIR="$pkgdir/" install
 }


############# Stripped diff below #################

--- arch_depends
+++ artix_depends
@@ -1,7 +1,7 @@
-android-udev
 cmake
 file
 fuse2
+git
 hicolor-icon-theme
 libxkbcommon-x11
 qt5-base

--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,9 +1,5 @@
 build() {
-cmake -B build -S "${_pkgname}-${pkgver}" \
--DCMAKE_BUILD_TYPE='None' \
--DCMAKE_INSTALL_PREFIX='/usr' \
--DCMAKE_CXX_FLAGS="${CXXFLAGS} -ffat-lto-objects" \
--Wno-dev
-cmake --build build
-make -C build
+cd android-file-transfer-linux
+cmake -DCMAKE_INSTALL_PREFIX=/usr . -DCMAKE_CXX_FLAGS="$CXXFLAGS -ffat-lto-objects"
+make
 }
