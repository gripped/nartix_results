--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,6 +1,6 @@
 
 pkgname=rdma-core
-pkgver=59.0
+pkgver=58.0
 pkgrel=1
 pkgdesc="RDMA core userspace libraries and daemons"
 arch=(x86_64)
@@ -20,7 +20,7 @@
   glibc
   libnl
   perl
-  systemd-libs
+  libudev
 )
 makedepends=(
   cmake
@@ -31,7 +31,6 @@
   pandoc
   python
   python-docutils
-  systemd
   valgrind
 )
 optdepends=(
@@ -61,7 +60,7 @@
 replaces=("${_provides[@]}")
 backup=(etc/rdma/{rdma.conf,mlx4.conf})
 source=("https://github.com/linux-rdma/rdma-core/archive/v$pkgver/$pkgname-$pkgver.tar.gz")
-sha512sums=('05f9d8b18475a25d0cd5a8a12174af01ef0275db43dd9d71ec2813283a4d33a63c2262372a0530ebbebb85d06d3b2bc0cf0661b98e1a7c417f41da71ed243cd1')
+sha512sums=('d7ba18eae7cd553542477a3756050e108011eb3dd63529268b8fb02aa12ead21607586e8fb707b037f58e46d4ceb3c8f7d63565ed8db1a964b6e992510df2ff9')
 
 prepare() {
     cd $pkgname-$pkgver
@@ -117,4 +116,6 @@
     install -vDm 644 providers/ipathverbs/COPYING -t "$pkgdir"/usr/share/licenses/$pkgname/providers/ipathverbs/
     install -vDm 644 ccan/LICENSE.CCO -t "$pkgdir"/usr/share/licenses/$pkgname/ccan/
     install -vDm 644 ccan/LICENSE.MIT -t "$pkgdir"/usr/share/licenses/$pkgname/ccan/
+
+    rm -r $pkgdir/usr/lib/systemd
 }


############# Stripped diff below #################

--- arch_depends
+++ artix_depends
@@ -5,11 +5,10 @@
 glibc
 libdrm
 libnl
+libudev
 ninja
 pandoc
 perl
 python
 python-docutils
-systemd
-systemd-libs
 valgrind