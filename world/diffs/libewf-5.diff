--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,43 +1,27 @@
 
 pkgname=libewf
-_pkgname=libewf-legacy
-pkgver=20140814
-pkgrel=1
+pkgver=20140608
+pkgrel=7
 pkgdesc="A library for support of the Expert Witness Compression Format (EWF)"
 arch=('x86_64')
-url="https://github.com/libyal/libewf-legacy"
-license=('LGPL-3.0-or-later')
-depends=(
-  'bzip2'
-  'glibc'
-  'zlib'
-)
-makedepends=(
-  'fuse2'
-  'git'
-)
+url="https://github.com/libyal/libewf/"
+license=('LGPL3')
+makedepends=('fuse2')
+depends=('util-linux' 'zlib' 'bzip2')
 optdepends=('fuse2: to be able to use ewfmount')
-source=("$pkgname-$pkgver.tar.gz::$url/archive/$pkgver.tar.gz")
-sha256sums=('0bf0c8ccc4cce1ed1b8fbd27813fe4c84dbc10d58d4065104cf2a1d9c417dab4')
-
-prepare() {
-  cd $_pkgname-$pkgver
-  ./synclibs.sh
-  ./autogen.sh
-}
+source=(https://pkgs.fedoraproject.org/repo/pkgs/libewf/libewf-20140608.tar.gz/fdf615f23937fad8e02b60b9e3e5fb35/libewf-20140608.tar.gz)
+sha256sums=('d14030ce6122727935fbd676d0876808da1e112721f3cb108564a4d9bf73da71')
 
 build() {
-  cd $_pkgname-$pkgver
+  cd "${srcdir}"/$pkgname-$pkgver
+
+  CPPFLAGS="$CPPFLAGS -std=gnu89"
   ./configure --prefix=/usr --sysconfdir=/etc --without-openssl
   make
 }
 
-check() {
-  cd $_pkgname-$pkgver
-  make check
+package() {
+  cd "${srcdir}"/$pkgname-$pkgver
+
+  make DESTDIR="${pkgdir}" install
 }
-
-package() {
-  cd $_pkgname-$pkgver
-  make DESTDIR="$pkgdir" install
-}


############# Stripped diff below #################

--- arch_depends
+++ artix_depends
@@ -1,5 +1,4 @@
 bzip2
 fuse2
-git
-glibc
+util-linux
 zlib

--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,10 +1,6 @@
-prepare() {
-cd $_pkgname-$pkgver
-./synclibs.sh
-./autogen.sh
-}
 build() {
-cd $_pkgname-$pkgver
+cd "${srcdir}"/$pkgname-$pkgver
+CPPFLAGS="$CPPFLAGS -std=gnu89"
 ./configure --prefix=/usr --sysconfdir=/etc --without-openssl
 make
 }
