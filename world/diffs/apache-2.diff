--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,7 +1,7 @@
 
 pkgname=apache
 pkgver=2.4.65
-pkgrel=4
+pkgrel=3
 pkgdesc='A high performance Unix-based HTTP server'
 arch=('x86_64')
 url='https://www.apache.org/dist/httpd'
@@ -14,13 +14,12 @@
     etc/httpd/conf/extra/proxy-html.conf
     etc/httpd/conf/{mime.types,magic}
     etc/logrotate.d/httpd
-    etc/systemd/system/httpd.service.d/hardening.conf
 )
 provides=('mod_proxy_uwsgi')
 conflicts=('mod_proxy_uwsgi')
 replaces=('mod_proxy_uwsgi')
 depends=('zlib' 'apr-util' 'pcre2' 'libnghttp2' 'openssl' 'libxcrypt')
-makedepends=('libxml2' 'lua' 'curl' 'brotli' 'jansson' 'db' 'systemd')
+makedepends=('libxml2' 'lua' 'curl' 'brotli' 'jansson' 'db')
 optdepends=(
     'lua: for mod_lua module'
     'libxml2: for mod_proxy_html, mod_xml2enc modules'
@@ -30,24 +29,19 @@
     'uwsgi: for mod_proxy_uwsgi module'
     'lynx: apachectl status'
     'perl: for apxs and dbmmanage'
-    'systemd-libs: for mod_systemd module'
     'logrotate: for rotating logs'
 )
 source=(
     https://www.apache.org/dist/httpd/httpd-${pkgver}.tar.bz2{,.asc}
     apache.tmpfiles
     httpd.logrotate
-    httpd.service
-    hardening.conf
-    arch.layout
+    artix.layout
 )
 sha256sums=('58b8be97d9940ec17f7656c0c6b9f41b618aac468b894b534148e3296c53b8b3'
             'SKIP'
             '63da1a420f4714a3e7af2672d28384419cc7eedbe7bf35baebd02938fabc15bf'
             '0bbbfae23a917b2fce0bf8f900f60319b50769224a96314e9301a75ccd078e16'
-            '4322db9833d5c84444b774eff51293aa40b8ad9b88cf061bd8a1f0a181710d85'
-            '7994b4160a233956da1d805c371b337d0e7d9b8b47275020942664f0f8f0e164'
-            'dda05c6e76f12624e418ca18a36f2e90ec1c5b1cc52fed7142fce6076ec413f3')
+            'ad1304d19d2e91e236d2a980ff4ee5affe9bce79011cc987e2aee6227d9604a7')
 validpgpkeys=('A93D62ECC3C8EA12DB220EC934EA76E6791485A8' # Jim Jagielski
               'B9E8213AEFB861AF35A41F2C995E35221AD84DFF'
               'C55AB7B9139EB2263CD1AABC19B033D1760C227B' # christophe.jaillet@wanadoo.fr
@@ -62,7 +56,7 @@
       -e 's#Group daemon#Group http#' \
       -i docs/conf/httpd.conf.in
 
-  cat "${srcdir}/arch.layout" >> config.layout
+  cat "${srcdir}/artix.layout" >> config.layout
 }
 
 build() {
@@ -84,7 +78,7 @@
       --enable-http2 \
       --enable-ident \
       --enable-imagemap \
-      --enable-layout=Arch \
+      --enable-layout=Artix \
       --enable-ldap \
       --enable-lua \
       --enable-md \
@@ -100,7 +94,6 @@
       --enable-so \
       --enable-ssl \
       --enable-suexec \
-      --enable-systemd=static \
       --enable-xml2enc \
       --with-apr=/usr/bin/apr-1-config \
       --with-apr-util=/usr/bin/apu-1-config \
@@ -123,8 +116,6 @@
 
   install -D -m644 "${srcdir}/httpd.logrotate" "${pkgdir}/etc/logrotate.d/httpd"
   install -D -m644 "${srcdir}/apache.tmpfiles" "${pkgdir}/usr/lib/tmpfiles.d/apache.conf"
-  install -D -m644 "${srcdir}/httpd.service" "${pkgdir}/usr/lib/systemd/system/httpd.service"
-  install -D -m644 "${srcdir}/hardening.conf" "${pkgdir}/etc/systemd/system/httpd.service.d/hardening.conf"
   install -D -m644 LICENSE "${pkgdir}/usr/share/licenses/${pkgname}/LICENSE"
 
   ln -fs /usr/lib/httpd/modules "${pkgdir}/etc/httpd/modules"


############# Stripped diff below #################

--- arch_depends
+++ artix_depends
@@ -9,5 +9,4 @@
 lua
 openssl
 pcre2
-systemd
 zlib