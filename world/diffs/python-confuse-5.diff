--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,41 +1,39 @@
 
 pkgname=python-confuse
-pkgver=2.1.0
-pkgrel=1
+pkgver=2.0.1
+pkgrel=4
 pkgdesc='Painless YAML config files for Python'
 arch=(any)
 url=https://github.com/beetbox/confuse
 license=(MIT)
-depends=(
-  python
-  python-yaml
-)
+depends=(python-yaml)
 makedepends=(
   git
   python-build
-  python-poetry-core
+  python-flit-core
   python-installer
 )
-source=("$pkgname::git+https://github.com/beetbox/confuse#tag=v$pkgver")
-sha512sums=('b00725143832118830a58abdce59c845d4de47cbbc6d07f3f08e7a193568123fb1b194c1084ae7b8abf1278113611566cadefc3c2f8077fe358a419c93d309e0')
-b2sums=('ebf3c86cc259f70aed99cd13c457161e9cbd73fe33d15eef75592bce8aee6fd3d331ac42fa2ffb9675a59d8e965ac94058fe786a6df3534344a1998ceb500b10')
+_tag=eb041a8012b18f20d333b0da9aa4bc7f5a79f044
+source=(git+https://github.com/beetbox/confuse.git#tag=${_tag})
+sha256sums=(SKIP)
+
+pkgver() {
+  cd confuse
+  git describe --tags | sed 's/^v//'
+}
 
 build() {
-  cd "$pkgname"
-
+  cd confuse
   python -m build --wheel --no-isolation
 }
 
 check() {
-  cd "$pkgname"
-
+  cd confuse
   python -m unittest discover -vs .
 }
 
 package() {
-  cd "$pkgname"
+  python -m installer --destdir="${pkgdir}" confuse/dist/*.whl
+  install -Dm 644 confuse/LICENSE -t "${pkgdir}"/usr/share/licenses/python-confuse/
+}
 
-  python -m installer --destdir="$pkgdir" dist/*.whl
-
-  install -vDm644 -t "$pkgdir/usr/share/licenses/$pkgname" LICENSE
-}


############# Stripped diff below #################

--- arch_depends
+++ artix_depends
@@ -1,6 +1,5 @@
 git
-python
 python-build
+python-flit-core
 python-installer
-python-poetry-core
 python-yaml

--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,4 +1,4 @@
 build() {
-cd "$pkgname"
+cd confuse
 python -m build --wheel --no-isolation
 }
