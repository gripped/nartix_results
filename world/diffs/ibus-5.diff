--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -2,86 +2,56 @@
 pkgbase=ibus
 pkgname=(ibus libibus)
 pkgver=1.5.29
-pkgrel=4
-pkgdesc="Intelligent input bus for Linux/Unix"
+pkgrel=3
+pkgdesc="Next Generation Input Bus for Linux"
 arch=('x86_64')
 url="https://github.com/ibus/ibus/wiki"
-license=('LGPL-2.1-or-later')
-depends=(
-    'at-spi2-core'
-    'cairo'
-    'dconf'
-    'gdk-pixbuf2'
-    'glib2'
-    'graphene'
-    'gtk3'
-    'gtk4'
-    'hicolor-icon-theme'
-    'libdbusmenu-glib'
-    'libdbusmenu-gtk3'
-    'libnotify'
-    'libx11'
-    'libxkbcommon'
-    'libxfixes'
-    'libxi'
-    'pango'
-    'python'
-    'python-dbus'
-    'python-gobject'
-    'wayland'
-)
-makedepends=(
-    'gnome-common'
-    'gobject-introspection'
-    'gtk-doc'
-    'intltool'
-    'qt5-base'
-    'unicode-character-database'
-    'unicode-cldr'
-    'unicode-emoji'
-    'vala'
-)
+license=('LGPL-2.0-only')
+depends=('dconf' 'gtk3' 'hicolor-icon-theme' 'libnotify' 'python-dbus'
+         'iso-codes' 'librsvg' 'libdbusmenu-gtk3')
+makedepends=('gobject-introspection' 'vala' 'intltool' 'gnome-common' 'gtk-doc' 'gtk4' 'gtk2'
+             'qt5-base' 'unicode-cldr' 'unicode-character-database' 'unicode-emoji')
 options=('!emptydirs')
-source=("https://github.com/$pkgname/$pkgname/releases/download/$pkgver/${pkgname}-${pkgver}-rc2.tar.gz")
+source=("https://github.com/ibus/ibus/releases/download/$pkgver/ibus-${pkgver}-rc2.tar.gz")
 b2sums=('c185c0cf8af79a80ee04f414e13c4b58bd2f18891851d2f018713848b3bc0fe0516c8c0cf8f64204040f10b6b4a5304c8be6305449d7290b5d08412246d3af40')
 
 build() {
-    cd ${pkgname}-${pkgver}-rc2
-    ./configure \
-        --prefix=/usr \
-        --libexecdir=/usr/lib/ibus \
-        --sysconfdir=/etc \
-        --enable-dconf \
-        --enable-wayland \
-        --enable-gtk-doc \
-        --disable-gtk2 \
-        --enable-gtk4 \
-        --disable-memconf \
-        --enable-ui \
-        --disable-python2 \
-        --with-python=python3 \
-        --with-ucd-dir=/usr/share/unicode/
-    sed -i 's/ -shared / -Wl,-O1,--as-needed\0/g' libtool
-    make
+  cd ibus-${pkgver}-rc2
+  ./configure \
+    --prefix=/usr \
+    --libexecdir=/usr/lib/ibus \
+    --sysconfdir=/etc \
+    --enable-dconf \
+    --enable-wayland \
+    --enable-gtk-doc \
+    --enable-gtk4 \
+    --disable-memconf \
+    --enable-ui \
+    --disable-python2 \
+    --disable-systemd-services \
+    --with-python=python3 \
+    --with-ucd-dir=/usr/share/unicode/
+  sed -i 's/ -shared / -Wl,-O1,--as-needed\0/g' libtool
+  make
 }
 
 package_ibus() {
-    depends+=("libibus=$pkgver")
+  depends+=("libibus=$pkgver")
 
-    cd ibus-${pkgver}-rc2
-    make DESTDIR="$pkgdir" install
-    make -C src DESTDIR="$pkgdir" uninstall
-    make -C bindings DESTDIR="$pkgdir" uninstall
-    make DESTDIR="$pkgdir" uninstall-pkgconfigDATA
+  cd ibus-${pkgver}-rc2
+  make DESTDIR="$pkgdir" install
+  make -C src DESTDIR="$pkgdir" uninstall
+  make -C bindings DESTDIR="$pkgdir" uninstall
+  make DESTDIR="$pkgdir" uninstall-pkgconfigDATA
 }
 
 package_libibus() {
-    pkgdesc="IBus support library"
-    depends=(libg{lib,object,io}-2.0.so python-gobject)
-    provides=('libibus-1.0.so')
+  pkgdesc="IBus support library"
+  depends=(libg{lib,object,io}-2.0.so python-gobject)
+  provides=('libibus-1.0.so')
 
-    cd ibus-${pkgver}-rc2
-    make -C src DESTDIR="$pkgdir" install
-    make -C bindings DESTDIR="$pkgdir" install
-    make DESTDIR="$pkgdir" install-pkgconfigDATA
+  cd ibus-${pkgver}-rc2
+  make -C src DESTDIR="$pkgdir" install
+  make -C bindings DESTDIR="$pkgdir" install
+  make DESTDIR="$pkgdir" install-pkgconfigDATA
 }


############# Stripped diff below #################

--- arch_depends
+++ artix_depends
@@ -1,29 +1,20 @@
-at-spi2-core
-cairo
 dconf
-gdk-pixbuf2
-glib2
 gnome-common
 gobject-introspection
-graphene
 gtk-doc
+gtk2
 gtk3
 gtk4
 hicolor-icon-theme
 intltool
-libdbusmenu-glib
+iso-codes
 libdbusmenu-gtk3
 libgio-2.0.so
 libglib-2.0.so
 libgobject-2.0.so
 libibus
 libnotify
-libx11
-libxfixes
-libxi
-libxkbcommon
-pango
-python
+librsvg
 python-dbus
 python-gobject
 qt5-base
@@ -31,4 +22,3 @@
 unicode-cldr
 unicode-emoji
 vala
-wayland

--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,5 +1,5 @@
 build() {
-cd ${pkgname}-${pkgver}-rc2
+cd ibus-${pkgver}-rc2
 ./configure \
 --prefix=/usr \
 --libexecdir=/usr/lib/ibus \
@@ -7,11 +7,11 @@
 --enable-dconf \
 --enable-wayland \
 --enable-gtk-doc \
---disable-gtk2 \
 --enable-gtk4 \
 --disable-memconf \
 --enable-ui \
 --disable-python2 \
+--disable-systemd-services \
 --with-python=python3 \
 --with-ucd-dir=/usr/share/unicode/
 sed -i 's/ -shared / -Wl,-O1,--as-needed\0/g' libtool
