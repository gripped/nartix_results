--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -13,7 +13,7 @@
   gvfs-smb
   gvfs-wsdd
 )
-pkgver=1.58.2
+pkgver=1.58.1
 pkgrel=1
 pkgdesc="Virtual filesystem implementation for GIO"
 url="https://gitlab.gnome.org/GNOME/gvfs"
@@ -22,6 +22,7 @@
 depends=(
   dconf
   fuse3
+  gcc-libs
   gcr-4
   glib2
   glibc
@@ -30,15 +31,12 @@
   libbluray
   libcdio
   libcdio-paranoia
-  libgcc
   libgcrypt
   libgudev
   libsecret
   libsoup3
   polkit
   procps-ng
-  systemd
-  systemd-libs
   udisks2
 )
 makedepends=(
@@ -67,7 +65,7 @@
   gvfsd.hook
   0001-monitor-Do-not-load-monitors-when-GIO_USE_VFS-local.patch
 )
-b2sums=('3f4441d4086afc18283dc9e461b9fc5116eeed74b4b491740c1a82e3ed87ab86341ea887a6ee5e7953858cab332a497e97c1f95761ce2e7c0afd666262ddecf1'
+b2sums=('d3d260c7c7d16221bf34899bd3506923b480534713755aa6224c48bf06db7925a57f98cea78a3c72cf0e0f39a0ca9950d8824faeb6f2dbad25b94ccad44add67'
         'a0356a49c419dc69466c591d5e69701b865bb97ca336ea6d8bca0f0d9173b832b73d9f2c701d572a0245957d39c9a38ab6dff4ea7c737c34f2a1a28d93c0427f'
         '0f49b0c2425521f79c48ea092b7a26b601a18f9c2559cbfef6f2a1e338fa2f8d44e75edb85445248f4f35f41e2636836d398019fae0f908689385bf0171bd023')
 
@@ -79,10 +77,12 @@
 
 build() {
   local meson_options=(
+    -D systemduserunitdir=no
+    -D tmpfilesdir=/usr/lib/tmpfiles.d
     -D man=true
   )
 
-  arch-meson gvfs build "${meson_options[@]}"
+  artix-meson gvfs build "${meson_options[@]}"
   meson compile -C build
 }
 
@@ -124,7 +124,6 @@
 
     _pick afc \
       usr/lib/gvfs{-afc-volume-monitor,d-afc} \
-      usr/lib/systemd/user/gvfs-afc-volume-monitor.service \
       usr/share/dbus-1/services/org.gtk.vfs.AfcVolumeMonitor.service \
       usr/share/gvfs/mounts/afc.mount \
       usr/share/gvfs/remote-volume-monitors/afc.monitor
@@ -137,7 +136,6 @@
 
     _pick goa \
       usr/lib/gvfs-goa-volume-monitor \
-      usr/lib/systemd/user/gvfs-goa-volume-monitor.service \
       usr/share/dbus-1/services/org.gtk.vfs.GoaVolumeMonitor.service \
       usr/share/gvfs/remote-volume-monitors/goa.monitor
 
@@ -147,14 +145,12 @@
 
     _pick gphoto2 \
       usr/lib/gvfs{-gphoto2-volume-monitor,d-gphoto2} \
-      usr/lib/systemd/user/gvfs-gphoto2-volume-monitor.service \
       usr/share/dbus-1/services/org.gtk.vfs.GPhoto2VolumeMonitor.service \
       usr/share/gvfs/mounts/gphoto2.mount \
       usr/share/gvfs/remote-volume-monitors/gphoto2.monitor
 
     _pick mtp \
       usr/lib/gvfs{-mtp-volume-monitor,d-mtp} \
-      usr/lib/systemd/user/gvfs-mtp-volume-monitor.service \
       usr/share/dbus-1/services/org.gtk.vfs.MTPVolumeMonitor.service \
       usr/share/gvfs/mounts/mtp.mount \
       usr/share/gvfs/remote-volume-monitors/mtp.monitor
@@ -255,7 +251,6 @@
     "gvfs=$pkgver"
     glib2
     glibc
-    libgcc
     libgudev
     libmtp
     libusb
@@ -268,9 +263,9 @@
   pkgdesc+=" - NFS backend"
   depends=(
     "gvfs=$pkgver"
-    glib2
-    glibc
-    libgcc
+    gcc-libs
+    glib2
+    glibc
     libnfs
   )
   install=gvfs-nfs.install
@@ -282,9 +277,9 @@
   pkgdesc+=" - Microsoft OneDrive backend"
   depends=(
     "gvfs-goa=$pkgver"
-    glib2
-    glibc
-    libgcc
+    gcc-libs
+    glib2
+    glibc
     libgoa
     msgraph
   )
@@ -298,9 +293,9 @@
     "gvfs=$pkgver"
     'smbclient>=4.12.0'
     dconf
-    glib2
-    glibc
-    libgcc
+    gcc-libs
+    glib2
+    glibc
   )
 
   mv smb/* "$pkgdir"
@@ -311,9 +306,9 @@
   depends=(
     "gvfs=$pkgver"
     dconf
-    glib2
-    glibc
-    libgcc
+    gcc-libs
+    glib2
+    glibc
     wsdd
   )
 


############# Stripped diff below #################

--- arch_depends
+++ artix_depends
@@ -3,6 +3,7 @@
 dconf
 docbook-xsl
 fuse3
+gcc-libs
 gcr-4
 git
 glib2
@@ -15,7 +16,6 @@
 libbluray
 libcdio
 libcdio-paranoia
-libgcc
 libgcrypt
 libgdata
 libgoa
@@ -37,8 +37,6 @@
 python
 smbclient
 smbclient>
-systemd
-systemd-libs
 udisks2
 usbmuxd
 wsdd