--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -13,8 +13,8 @@
   gvfs-smb
   gvfs-wsdd
 )
-pkgver=1.58.0
-pkgrel=1
+pkgver=1.57.2
+pkgrel=4
 pkgdesc="Virtual filesystem implementation for GIO"
 url="https://gitlab.gnome.org/GNOME/gvfs"
 arch=(x86_64)
@@ -37,8 +37,6 @@
   libsoup3
   polkit
   procps-ng
-  systemd
-  systemd-libs
   udisks2
 )
 makedepends=(
@@ -67,7 +65,7 @@
   gvfsd.hook
   0001-monitor-Do-not-load-monitors-when-GIO_USE_VFS-local.patch
 )
-b2sums=('61e5fb1948fdb8bab03f930712072ca9feeae033110003677b2e604628d6457252ebbd5f77b27d0d07ad8cbf6379b49c281303b8b1a92e975487b7746a82c474'
+b2sums=('78264e9b38a8cc7031e4bb44a16cd9d66b522453ecd6b9fe9a30348d32d89f565efcb676e078e9aba63cb5414abf6b788b6c023ba2f5f815e12dfae814e9f69d'
         'a0356a49c419dc69466c591d5e69701b865bb97ca336ea6d8bca0f0d9173b832b73d9f2c701d572a0245957d39c9a38ab6dff4ea7c737c34f2a1a28d93c0427f'
         '0f49b0c2425521f79c48ea092b7a26b601a18f9c2559cbfef6f2a1e338fa2f8d44e75edb85445248f4f35f41e2636836d398019fae0f908689385bf0171bd023')
 
@@ -79,10 +77,12 @@
 
 build() {
   local meson_options=(
+    -D systemduserunitdir=no
+    -D tmpfilesdir=/usr/lib/tmpfiles.d
     -D man=true
   )
 
-  arch-meson gvfs build "${meson_options[@]}"
+  artix-meson gvfs build "${meson_options[@]}"
   meson compile -C build
 }
 
@@ -124,7 +124,6 @@
 
     _pick afc \
       usr/lib/gvfs{-afc-volume-monitor,d-afc} \
-      usr/lib/systemd/user/gvfs-afc-volume-monitor.service \
       usr/share/dbus-1/services/org.gtk.vfs.AfcVolumeMonitor.service \
       usr/share/gvfs/mounts/afc.mount \
       usr/share/gvfs/remote-volume-monitors/afc.monitor
@@ -137,7 +136,6 @@
 
     _pick goa \
       usr/lib/gvfs-goa-volume-monitor \
-      usr/lib/systemd/user/gvfs-goa-volume-monitor.service \
       usr/share/dbus-1/services/org.gtk.vfs.GoaVolumeMonitor.service \
       usr/share/gvfs/remote-volume-monitors/goa.monitor
 
@@ -147,14 +145,12 @@
 
     _pick gphoto2 \
       usr/lib/gvfs{-gphoto2-volume-monitor,d-gphoto2} \
-      usr/lib/systemd/user/gvfs-gphoto2-volume-monitor.service \
       usr/share/dbus-1/services/org.gtk.vfs.GPhoto2VolumeMonitor.service \
       usr/share/gvfs/mounts/gphoto2.mount \
       usr/share/gvfs/remote-volume-monitors/gphoto2.monitor
 
     _pick mtp \
       usr/lib/gvfs{-mtp-volume-monitor,d-mtp} \
-      usr/lib/systemd/user/gvfs-mtp-volume-monitor.service \
       usr/share/dbus-1/services/org.gtk.vfs.MTPVolumeMonitor.service \
       usr/share/gvfs/mounts/mtp.mount \
       usr/share/gvfs/remote-volume-monitors/mtp.monitor


############# Stripped diff below #################

--- arch_depends
+++ artix_depends
@@ -37,8 +37,6 @@
 python
 smbclient
 smbclient>
-systemd
-systemd-libs
 udisks2
 usbmuxd
 wsdd