--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,28 +1,28 @@
 
 pkgname=python-digitalocean
 pkgver=1.17.0
-pkgrel=9
+pkgrel=8
 pkgdesc='digitalocean.com API to manage Droplets and Images'
 arch=('any')
-license=('LGPL-3.0-only')
+license=('LGPL')
 url='https://github.com/koalalorenzo/python-digitalocean'
 depends=('python-requests' 'python-jsonpickle')
-makedepends=('git' 'python-build' 'python-installer' 'python-setuptools' 'python-wheel')
+makedepends=('python-setuptools')
 checkdepends=('python-pytest' 'python-responses')
-source=("git+https://github.com/koalalorenzo/python-digitalocean.git#tag=v$pkgver")
-sha512sums=('39be3bf6df79a1895d1a90cded4bf41ad723541696274ab57e55e71a8d5f52054ec6abfba564e581c42b28b1c5435879fa7d8bf401dbd3594ce62cb18d728b27')
+source=("$pkgname-$pkgver.tar.gz::https://github.com/koalalorenzo/python-digitalocean/archive/v$pkgver.tar.gz")
+sha512sums=('3b5f5adb5fac9693450954e568433cecb43152d4cb2b5709126dc7c69c6b84f19428dcd3688718588a986d3ea9170a956387f3050cd10a69ba89d5dcdf8e100c')
 
 build() {
-  cd python-digitalocean
-  python -m build --wheel --no-isolation
+  cd python-digitalocean-$pkgver
+  python setup.py build
 }
 
 check() {
-  cd python-digitalocean
-  pytest --deselect digitalocean/tests/test_firewall.py
+  cd python-digitalocean-$pkgver
+  pytest -k 'not TestFirewall'
 }
 
 package() {
-  cd python-digitalocean
-  python -m installer --destdir="$pkgdir" dist/*.whl
+  cd python-digitalocean-$pkgver
+  python setup.py install --root="$pkgdir" --optimize=1
 }


############# Stripped diff below #################

--- arch_depends
+++ artix_depends
@@ -1,7 +1,3 @@
-git
-python-build
-python-installer
 python-jsonpickle
 python-requests
 python-setuptools
-python-wheel

--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,4 +1,4 @@
 build() {
-cd python-digitalocean
-python -m build --wheel --no-isolation
+cd python-digitalocean-$pkgver
+python setup.py build
 }
