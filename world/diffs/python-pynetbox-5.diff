--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,30 +1,22 @@
 pkgname=python-pynetbox
-_name="${pkgname#python-}"
-pkgver=7.3.3
+pkgver=7.0.1
 pkgrel=1
 pkgdesc="NetBox API client library"
 arch=('any')
-url="https://github.com/netbox-community/pynetbox"
-license=('Apache-2.0')
-depends=('python' 'python-packaging' 'python-requests')
-makedepends=('python-build' 'python-installer' 'python-setuptools-scm' 'python-wheel')
-checkdepends=('python-pytest' 'python-pyyaml')
-source=($pkgname-$pkgver.tar.gz::$url/archive/refs/tags/v$pkgver.tar.gz)
-sha512sums=('6429ef378dbae875a26ee80cc9e7868ae0812f6758249410447f65b033eb61de7679d83d6925ec866af2ee3aa7ccddd380a997751912a7073553030ffe01c79c')
-b2sums=('987a273c790775cd875cf28a05689e6e4c73bd7fd396529c8168cf477e7d956bf5877df3c0ae998a0742efa1adf8ea38e3770439f40948d7c962d830157a1aee')
+url="https://github.com/digitalocean/pynetbox"
+license=('Apache')
+depends=('python' 'python-requests' 'python-six')
+makedepends=('python-setuptools-scm')
+source=("https://files.pythonhosted.org/packages/source/p/pynetbox/pynetbox-${pkgver}.tar.gz")
+sha256sums=('eba8b5153ca575bc45f39ade1119b9f0a218c83947f84c4bb2df7fc9de4ffa9a')
 
 build() {
-  cd "$_name-${pkgver}"
-  SETUPTOOLS_SCM_PRETEND_VERSION=$pkgver python -m build --wheel --no-isolation
-}
-
-check() {
-  cd "$_name-${pkgver}"
-  pytest -vv --ignore tests/integration
+	cd "pynetbox-${pkgver}"
+	python setup.py build
 }
 
 package() {
-  cd "$_name-${pkgver}"
-  python -m installer --destdir="$pkgdir" dist/*.whl
-  install -D -m644 LICENSE "${pkgdir}/usr/share/licenses/${pkgname}/LICENSE"
+	cd "pynetbox-${pkgver}"
+	install -D -m644 LICENSE "${pkgdir}/usr/share/licenses/${pkgname}/LICENSE"
+	python setup.py install --root="${pkgdir}" --optimize=1 --skip-build
 }


############# Stripped diff below #################

--- arch_depends
+++ artix_depends
@@ -1,7 +1,4 @@
 python
-python-build
-python-installer
-python-packaging
 python-requests
 python-setuptools-scm
-python-wheel
+python-six

--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,4 +1,4 @@
 build() {
-cd "$_name-${pkgver}"
-SETUPTOOLS_SCM_PRETEND_VERSION=$pkgver python -m build --wheel --no-isolation
+cd "pynetbox-${pkgver}"
+python setup.py build
 }
