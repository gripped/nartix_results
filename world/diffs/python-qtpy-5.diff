--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -2,18 +2,13 @@
 _pkgname=qtpy
 pkgname=python-qtpy
 pkgver=2.4.1
-pkgrel=4
+pkgrel=3
 pkgdesc="Provides an uniform layer to support PyQt5 and PySide2 with a single codebase"
 arch=(any)
 url="https://github.com/spyder-ide/qtpy/"
 license=(MIT)
 depends=(python-packaging)
-makedepends=(
-    python-build
-    python-installer
-    python-setuptools
-    python-wheel
-)
+makedepends=(python-setuptools)
 optdepends=('python-pyqt5: Qt5 Python bindings'
             'python-pyqt6: Qt6 Python bindings'
             'python-pyqt5-webengine: Qt5-WebEngine python bindings'
@@ -23,15 +18,10 @@
     python-pytest
     python-pytest-qt
     python-pyqt5
+    python-pyqt5-3d
+    python-pyqt5-datavisualization
     python-pyqt5-webengine
-    python-pyqt6
-    python-pyqt6-3d
-    python-pyqt6-datavisualization
-    python-pyqt6-webengine
-    pyside6
-    qt5-connectivity
     qt5-multimedia
-    qt5-quick3d
     qt5-remoteobjects
     qt5-sensors
     qt5-serialport
@@ -39,14 +29,7 @@
     qt5-svg
     qt5-tools
     qt5-websockets
-    qt5-x11extras
     qt5-xmlpatterns
-    qt6-multimedia
-    qt6-remoteobjects
-    qt6-sensors
-    qt6-serialport
-    qt6-svg
-    qt6-tools
     xorg-server-xvfb
 )
 source=(${url}/archive/v${pkgver}/${pkgname}-${pkgver}.tar.gz)
@@ -54,7 +37,7 @@
 
 build() {
   cd ${_pkgname}-${pkgver}
-  python -m build --wheel --no-isolation
+  python setup.py build
 }
 
 check() {
@@ -65,6 +48,6 @@
 
 package() {
   cd ${_pkgname}-${pkgver}
-  python -m installer --destdir="$pkgdir" dist/*.whl
+  python setup.py install --prefix=/usr --root="${pkgdir}" --optimize=1 --skip-build
   install -Dm644 LICENSE.txt -t "${pkgdir}"/usr/share/licenses/${pkgname}/
 }


############# Stripped diff below #################

--- arch_depends
+++ artix_depends
@@ -1,5 +1,2 @@
-python-build
-python-installer
 python-packaging
 python-setuptools
-python-wheel

--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,4 +1,4 @@
 build() {
 cd ${_pkgname}-${pkgver}
-python -m build --wheel --no-isolation
+python setup.py build
 }
