--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,6 +1,6 @@
 
 pkgname=breezy
-pkgver=3.3.12
+pkgver=3.3.11
 pkgrel=1
 pkgdesc='A decentralized revision control system with support for Bazaar and Git file formats'
 arch=(x86_64)
@@ -44,26 +44,27 @@
 provides=(bzr)
 conflicts=(bzr)
 replaces=(bzr)
-source=("git+https://github.com/breezy-team/breezy.git#tag=brz-$pkgver")
-sha256sums=('a14723df5b1673467f5c61866814d127f7095faef629f9361d5310d45afc3c5b')
+source=(
+  "https://launchpad.net/brz/${pkgver%.*}/$pkgver/+download/breezy-$pkgver.tar.gz"
+  "https://launchpad.net/brz/${pkgver%.*}/$pkgver/+download/breezy-$pkgver.tar.gz.asc"
+)
+sha256sums=('11cb9c5e2fac2038630e863088f047eade4653cbf2b995f732322f6c143bbb3b'
+            'SKIP')
+validpgpkeys=('DC837EE14A7E37347E87061700806F2BD729A457') # Jelmer VernooÄ³ <jelmer@jelmer.uk>
 
 build() {
-  cd $pkgname
+  cd $pkgname-$pkgver
   python -m build --wheel --no-isolation
 }
 
 check() {
-  cd $pkgname
+  cd $pkgname-$pkgver
   python -m installer --destdir=tmp_install dist/*.whl
   local site_packages=$(python -c "import site; print(site.getsitepackages()[0])")
   export PYTHONPATH="$PWD/tmp_install/$site_packages"
 
   local excluded_tests=(
     --exclude="breezy.bzr.tests.test_read_bundle.TestReadMergeableBundleFromURL"
-
-    --exclude="breezy.tests.test_gpg.TestVerify.test_verify_unacceptable_key"
-    --exclude="breezy.tests.test_gpg.TestVerify.test_verify_untrusted_but_accepted"
-    --exclude="breezy.tests.test_gpg.TestVerify.test_verify_valid_but_untrusted"
   )
 
   "$PWD/tmp_install/usr/bin/brz" selftest \
@@ -74,7 +75,7 @@
 }
 
 package() {
-  cd $pkgname
+  cd $pkgname-$pkgver
   python -m installer --destdir="$pkgdir" dist/*.whl
   ln -vs /usr/bin/brz "$pkgdir/usr/bin/bzr" # backwards compatibility
 }


############# Stripped diff below #################



--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,4 +1,4 @@
 build() {
-cd $pkgname
+cd $pkgname-$pkgver
 python -m build --wheel --no-isolation
 }
