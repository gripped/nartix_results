--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,7 +1,7 @@
 
 pkgname=hsakmt-roct
-pkgver=6.2.2
-pkgrel=1
+pkgver=6.0.0
+pkgrel=2
 pkgdesc='Radeon Open Compute Thunk Interface'
 arch=('x86_64')
 url='https://rocmdocs.amd.com/en/latest/Installation_Guide/ROCt.html'
@@ -9,10 +9,17 @@
 depends=('rocm-core' 'glibc' 'numactl' 'pciutils' 'libdrm')
 makedepends=('cmake')
 _git='https://github.com/ROCm/ROCT-Thunk-Interface'
-source=("${pkgname}-${pkgver}.tar.gz::$_git/archive/rocm-$pkgver.tar.gz")
-sha256sums=('32a21cdb30e6526ae1e2968887e30e3216dbf3dfab0bd2db3fbe2e774451933f')
+source=("${pkgname}-${pkgver}.tar.gz::$_git/archive/rocm-$pkgver.tar.gz"
+        "hsakmt-global-visibility.patch")
+sha256sums=('9f4e80bd0a714ce45326941b906a62298c62025eff186dc6c48282ce84c787c7'
+            'e4c64d33bf5253da947015887487037db5726824586955bf8d3250fcbe8c46f6')
 options=(!lto)
 _dirname="$(basename "$_git")-$(basename "${source[0]}" .tar.gz)"
+
+prepare() {
+  cd "$_dirname"
+  patch -Np1 -i "$srcdir/hsakmt-global-visibility.patch"
+}
 
 build() {
   local cmake_args=(


############# Stripped diff below #################



--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,3 +1,7 @@
+prepare() {
+cd "$_dirname"
+patch -Np1 -i "$srcdir/hsakmt-global-visibility.patch"
+}
 build() {
 local cmake_args=(
 -Wno-dev
