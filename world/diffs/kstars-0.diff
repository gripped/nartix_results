--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,7 +1,7 @@
 
 pkgname=kstars
-pkgver=3.7.8
-pkgrel=1
+pkgver=3.7.7
+pkgrel=3
 epoch=1
 pkgdesc='Desktop Planetarium'
 url='https://kstars.kde.org/'
@@ -43,13 +43,16 @@
              extra-cmake-modules
              kdoctools)
 optdepends=('xplanet: XPlanet support')
-source=(https://download.kde.org/stable/$pkgname/$pkgver/$pkgname-$pkgver.tar.xz{,.sig})
-sha256sums=('55b3aef29ec1aba50906bd393d565e8a7e0b5b3a5d2e8e3cdfc1b58d718d2c0c'
-            'SKIP')
+source=(https://download.kde.org/stable/$pkgname/$pkgver/$pkgname-$pkgver.tar.xz{,.sig}
+        fix-platesolving-377.diff)
+sha256sums=('f2dbd6c26c45512aa7c3924f0bf0606a8ef978e468c54505dcc0cb2fe1200245'
+            'SKIP'
+            'ede1fb564d22b63c356577b26ad917349bb880bfe6f9d24c08e4f2e65557c5d0')
 validpgpkeys=(259D9FCEE9175351965633696D9CE2AEE028C4F3) # Jasem Mutlaq <mutlaqja@ikarustech.com>
 
 prepare() {
   sed -e 's|DATA_INSTALL_DIR|CMAKE_INSTALL_DATADIR|g' -i $pkgname-$pkgver/kstars/data/*/CMakeLists.txt
+  patch -p1 -d $pkgname-$pkgver < fix-platesolving-377.diff
 }
 
 build() {


############# Stripped diff below #################



--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,5 +1,6 @@
 prepare() {
 sed -e 's|DATA_INSTALL_DIR|CMAKE_INSTALL_DATADIR|g' -i $pkgname-$pkgver/kstars/data/*/CMakeLists.txt
+patch -p1 -d $pkgname-$pkgver < fix-platesolving-377.diff
 }
 build() {
 cmake -B build -S $pkgname-$pkgver \
