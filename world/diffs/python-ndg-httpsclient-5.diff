--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -2,26 +2,29 @@
 pkgname=python-ndg-httpsclient
 _pkgname=ndg_httpsclient
 pkgver=0.5.1
-pkgrel=17
+pkgrel=16
 pkgdesc="Provides enhanced HTTPS support for httplib and urllib2 using PyOpenSSL"
 arch=(any)
 url="https://pypi.python.org/pypi/ndg-httpsclient"
-license=('BSD-3-Clause')
+license=('BSD')
 depends=(python-pyopenssl python-pyasn1)
-makedepends=(python-setuptools python-build python-installer python-wheel)
+makedepends=(python-setuptools)
 options=(!emptydirs)
 source=(https://files.pythonhosted.org/packages/source/n/ndg-httpsclient/$_pkgname-$pkgver.tar.gz)
 sha256sums=('d72faed0376ab039736c2ba12e30695e2788c4aa569c9c3e3d72131de2592210')
 
 build() {
   cd "$srcdir"/$_pkgname-$pkgver
-  python -m build --wheel --no-isolation
+
+  rm -rf ../buildpy3; mkdir ../buildpy3
+  python setup.py build -b ../buildpy3
 }
 
 package() {
   _site_packages=$(python -sSc 'import site; print(site.getsitepackages()[0])')
 
   cd "$srcdir"/$_pkgname-$pkgver
-  python -m installer --destdir="$pkgdir" dist/*.whl
+  rm -rf build; ln -s ../buildpy3 build
+  python setup.py install --skip-build -O1 --root="$pkgdir"
   install -Dm0644 "$pkgdir$_site_packages"/ndg/httpsclient/LICENSE "$pkgdir"/usr/share/licenses/$pkgname/LICENSE
 }


############# Stripped diff below #################

--- arch_depends
+++ artix_depends
@@ -1,6 +1,3 @@
-python-build
-python-installer
 python-pyasn1
 python-pyopenssl
 python-setuptools
-python-wheel

--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,4 +1,5 @@
 build() {
 cd "$srcdir"/$_pkgname-$pkgver
-python -m build --wheel --no-isolation
+rm -rf ../buildpy3; mkdir ../buildpy3
+python setup.py build -b ../buildpy3
 }
