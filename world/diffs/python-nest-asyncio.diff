--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,31 +1,31 @@
 
 pkgname=python-nest-asyncio
 pkgver=1.6.0
-pkgrel=2
+pkgrel=1
 pkgdesc="Patch asyncio to allow nested event loops"
 url="https://github.com/erdewit/nest_asyncio"
-license=('BSD-2-Clause')
+license=('BSD')
 arch=('any')
 depends=('python')
-makedepends=('git' 'python-setuptools-scm' 'python-setuptools' 'python-build' 'python-installer' 'python-wheel')
+makedepends=('python-setuptools')
 provides=('python-nest_asyncio')
 replaces=('python-nest_asyncio')
-source=("git+https://github.com/erdewit/nest_asyncio.git#tag=v$pkgver")
-sha512sums=('b85ca536a8a1fb47af09a30b0084034860bd483249e22e0d452966383bd5108138096a94ea03bd529a07b719b8f4f15bcb05892e2dfc399f47f1fcce74940b12')
+source=("https://github.com/erdewit/nest_asyncio/archive/v$pkgver/$pkgname-$pkgver.tar.gz")
+sha512sums=('b594bb2b245624032585af34540025bdc6b8224a6d59bd8ffcc5d5673d47c49736ac96cd20b5ca5ce311f8e9274df68560a4b2904273d4036f1560eeb74cfdf7')
 
 build() {
-  cd nest_asyncio
-  python -m build --wheel --no-isolation
+  cd nest_asyncio-$pkgver
+  python setup.py build
 }
 
 check() {
-  cd nest_asyncio
+  cd nest_asyncio-$pkgver
   PYTHONPATH="$PWD/build/lib" python tests/nest_test.py
 }
 
 package() {
-  cd nest_asyncio
-  python -m installer --destdir="$pkgdir" dist/*.whl
+  cd nest_asyncio-$pkgver
+  python setup.py install --root="$pkgdir" --optimize=1
 
   install -Dm644 LICENSE -t "$pkgdir"/usr/share/licenses/$pkgname/
 }


############# Stripped diff below #################

--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -3,6 +3,6 @@
 provides=('python-nest_asyncio')
 replaces=('python-nest_asyncio')
 build() {
-cd nest_asyncio
-python -m build --wheel --no-isolation
+cd nest_asyncio-$pkgver
+python setup.py build
 }
