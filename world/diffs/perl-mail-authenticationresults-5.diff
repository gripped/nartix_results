--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,37 +1,39 @@
 
 pkgname=perl-mail-authenticationresults
-pkgver=2.20250709
-pkgrel=1
+pkgver=2.20231031
+pkgrel=2
 pkgdesc='Object Oriented Authentication-Results Headers'
 arch=(any)
-license=(GPL-1.0-or-later Artistic-1.0-Perl)
+license=(PerlArtistic GPL)
 options=(!emptydirs)
-depends=(perl perl-clone perl-json)
+depends=('perl>=5.8' perl-clone perl-json)
 checkdepends=(perl-test-exception)
-source=("$pkgname-$pkgver.tar.gz::https://cpan.metacpan.org/authors/id/M/MB/MBRADSHAW/Mail-AuthenticationResults-$pkgver.tar.gz")
-sha512sums=('79b691daa41a2c265243e4a25b9b3bf3815187549b2213272b04f2c2335c3e536441b17c878c4b8068c2367a9912358072c15695d9d6ef5d02b5dc48cfac969b')
-b2sums=('6c2bdf6bf7021bae059b07813ffae85d7b2d65ff6d2473651fb3210d210290bc2f18edccc64ea576f802355c8fff9d16ebe577c0571fa7e173438c011e1d5b79')
+url=https://metacpan.org/release/Mail-AuthenticationResults
+source=("https://cpan.metacpan.org/authors/id/M/MB/MBRADSHAW/Mail-AuthenticationResults-$pkgver.tar.gz")
+md5sums=('ebabfd9e0946ca04e9693e3190ee2f2e')
+sha512sums=('fc1a1f9099e1d3c3a2185bb2ba9f53be6799779b71dc1e7524e117b78e3868e9d264668bde188e787868a303d62262e9ded2fa9e1657d1987e9cbe488d06ed8e')
 _ddir="Mail-AuthenticationResults-$pkgver"
 
-build() {
-  cd "$_ddir"
-
+build()
+(
+  cd "$srcdir/$_ddir"
   export PERL_MM_USE_DEFAULT=1 PERL_AUTOINSTALL=--skipdeps
   unset PERL5LIB PERL_MM_OPT
-  perl Makefile.PL
+  /usr/bin/perl Makefile.PL
   make
-}
+)
 
-check() {
-  cd "$_ddir"
-
+check()
+(
+  cd "$srcdir/$_ddir"
   export PERL_MM_USE_DEFAULT=1
   unset PERL5LIB
   make test
-}
+)
 
-package() {
-  cd "$_ddir"
+package()
+(
+  cd "$srcdir/$_ddir"
+  make install INSTALLDIRS=vendor DESTDIR="$pkgdir"
+)
 
-  make install INSTALLDIRS=vendor DESTDIR="$pkgdir"
-}


############# Stripped diff below #################

--- arch_depends
+++ artix_depends
@@ -1,3 +1,3 @@
-perl
 perl-clone
 perl-json
+perl>

--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,7 +1,20 @@
-build() {
-cd "$_ddir"
+build()
+(
+cd "$srcdir/$_ddir"
 export PERL_MM_USE_DEFAULT=1 PERL_AUTOINSTALL=--skipdeps
 unset PERL5LIB PERL_MM_OPT
-perl Makefile.PL
+/usr/bin/perl Makefile.PL
 make
-}
+)
+check()
+(
+cd "$srcdir/$_ddir"
+export PERL_MM_USE_DEFAULT=1
+unset PERL5LIB
+make test
+)
+package()
+(
+cd "$srcdir/$_ddir"
+make install INSTALLDIRS=vendor DESTDIR="$pkgdir"
+)
