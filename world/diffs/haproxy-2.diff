--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,6 +1,6 @@
 
 pkgname=haproxy
-pkgver=3.3.1
+pkgver=3.3.0
 pkgrel=1
 
 
@@ -9,8 +9,8 @@
 arch=('x86_64')
 license=('GPL-2.0-or-later')
 
-depends=('openssl' 'pcre2' 'zlib' 'libxcrypt' 'libcrypt.so' 'lua' 'systemd-libs')
-makedepends=('git' 'systemd')
+depends=('openssl' 'pcre2' 'zlib' 'libxcrypt' 'libcrypt.so' 'lua')
+makedepends=('git')
 
 backup=('etc/haproxy/haproxy.cfg')
 
@@ -24,7 +24,7 @@
         'haproxy.sysusers'
         '0001-Use-CFLAGS-and-LDFLAGS-when-building-admin.patch')
 
-sha256sums=('ed2a1e61c7a54ecb3bc7bc6fa23ca1ccc0c3af026f19a382fa1adabeefee7a9a'
+sha256sums=('87db79626658708ab192d6681e773ee444847f86a61c298c66bedfa3bf05c5bd'
             'f6babef513b99a3fa0e50f2b144c73c980f1b78b119874ffa2580af1e651e7a9'
             'c6e716ea59272a8e871af53703726dd2a75b56c82dacf097d4bf08ac5e841a0d'
             'a1e3a1c2923465081383eb431bae55ff9841d89909469311cdba4b394ec4a998')
@@ -43,6 +43,7 @@
   make \
     CFLAGS="$CFLAGS" \
     LDFLAGS="$LDFLAGS" \
+    CPU=generic \
     TARGET=linux-glibc \
     USE_GETADDRINFO=1 \
     USE_LUA=1 \
@@ -58,9 +59,6 @@
     CFLAGS="$CFLAGS" \
     LDFLAGS="$LDFLAGS" \
     admin/{halog/halog,iprange/ip{,6}range}
-  make \
-    SBINDIR=/usr/bin \
-    -C admin/systemd/
 }
 
 package() {
@@ -78,8 +76,6 @@
 
   install -D -m0644 ../haproxy.sysusers "$pkgdir"/usr/lib/sysusers.d/haproxy.conf
   install -D -m0644 ../haproxy.cfg "$pkgdir"/etc/haproxy/haproxy.cfg
-  install -D -m0644 admin/systemd/haproxy.service \
-    "$pkgdir"/usr/lib/systemd/system/haproxy.service
   install -D -m0644 admin/syntax-highlight/haproxy.vim \
     "$pkgdir"/usr/share/nvim/runtime/syntax/haproxy.vim
   cp -r examples "$pkgdir"/usr/share/haproxy/examples


############# Stripped diff below #################

--- arch_depends
+++ artix_depends
@@ -4,6 +4,4 @@
 lua
 openssl
 pcre2
-systemd
-systemd-libs
 zlib