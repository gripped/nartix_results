--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,34 +1,34 @@
 
 pkgname=gnome-themes-extra
-pkgver=3.28
-pkgrel=1
-epoch=1
-pkgdesc='Extra GNOME themes (legacy HighContrast icon theme and index files for Adwaita)'
+pkgver=3.28+r6+g45b1d457
+pkgrel=4
+pkgdesc="Extra Themes for GNOME Applications"
+url="https://gitlab.gnome.org/GNOME/gnome-themes-extra"
 arch=(any)
-url='https://gitlab.gnome.org/Archive/gnome-themes-extra'
-license=(LGPL-2.1-or-later)
-makedepends=(
-  git
-  gtk3
-  intltool
-)
-options=(!emptydirs)
-source=("git+https://gitlab.gnome.org/Archive/gnome-themes-extra.git?signed#tag=$pkgver")
-b2sums=(e317e8b56cfabde93e051e415575f1a4e1accda64f900b5d0ca157acd2851b78acd8c2720a73d19c97ba725e32e78cf48ad5fd893657ddb660b7b3fb7b9cc83c)
-validpgpkeys=(28B668E8681305CEC60C6FCA19DE6E133A0F5A11) # Juraj Fiala <jurajfiala@protonmail.com>
+license=(LGPL2.1)
+makedepends=(intltool gtk3 git)
+provides=("gnome-themes-standard=$pkgver")
+conflicts=(gnome-themes-standard)
+replaces=('gnome-themes-standard<3.27.92')
+options=('!emptydirs')
+_commit=45b1d457c63b1c7f6c8dcb7fe29b23ec7cd63a14  # master
+source=("git+https://gitlab.gnome.org/GNOME/gnome-themes-extra.git#commit=$_commit")
+sha256sums=('80722bc5cafa1e58b416f752d1cd03b04bc0a7b7f2b9a17f8486b6068f550d73')
+
+pkgver() {
+  cd $pkgname
+  git describe --tags | sed 's/[^-]*-g/r&/;s/-/+/g'
+}
 
 prepare() {
   cd $pkgname
-  autoreconf -fi
+  NOCONFIGURE=1 ./autogen.sh
 }
 
 build() {
   cd $pkgname
-  ./configure \
-    --prefix=/usr \
-    --sysconfdir=/etc \
-    --localstatedir=/var \
-    --disable-gtk2-engine
+  ./configure --prefix=/usr --disable-gtk2-engine
+  sed -i -e 's/ -shared / -Wl,-O1,--as-needed\0/g' libtool
   make
 }
 
@@ -37,3 +37,4 @@
   make DESTDIR="$pkgdir" install
   make -C themes/HighContrast/gtk-2.0 DESTDIR="$pkgdir" uninstall
 }
+


############# Stripped diff below #################



--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,13 +1,10 @@
 prepare() {
 cd $pkgname
-autoreconf -fi
+NOCONFIGURE=1 ./autogen.sh
 }
 build() {
 cd $pkgname
-./configure \
---prefix=/usr \
---sysconfdir=/etc \
---localstatedir=/var \
---disable-gtk2-engine
+./configure --prefix=/usr --disable-gtk2-engine
+sed -i -e 's/ -shared / -Wl,-O1,--as-needed\0/g' libtool
 make
 }
