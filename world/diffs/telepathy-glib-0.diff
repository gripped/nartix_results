--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,7 +1,7 @@
 
 pkgname=telepathy-glib
 pkgver=0.24.2
-pkgrel=5
+pkgrel=4
 pkgdesc='GLib bindings for the Telepathy D-Bus protocol'
 arch=(x86_64)
 url='https://telepathy.freedesktop.org/'
@@ -18,8 +18,14 @@
   gobject-introspection
   vala
 )
-source=("git+https://gitlab.freedesktop.org/telepathy/$pkgname.git?signed#tag=$pkgname-$pkgver")
-b2sums=(529f200eeb03a65e3722928b4bacb81469c81f586e4f87d509beb70434bbeb226e8024ff78827c63bb3976ea44246293f680fcbe9aa2a321b52b138e12c04113)
+source=(
+  "git+https://gitlab.freedesktop.org/telepathy/$pkgname.git?signed#tag=$pkgname-$pkgver"
+  telepathy-glib-function-type-cast.patch
+)
+b2sums=(
+  529f200eeb03a65e3722928b4bacb81469c81f586e4f87d509beb70434bbeb226e8024ff78827c63bb3976ea44246293f680fcbe9aa2a321b52b138e12c04113
+  7a2fd782f700741f97133203f7ca23cbe6028c99cd5118b97eb6d35191868097bc50fbfd8b149f83c622a9c86309a580f06c680051f52d93416a98323ad45fa1
+)
 validpgpkeys=(AA33B0D27868E36C151780F0FE0B6D736B1195ED) # Alexandr Akulich <akulichalexander@gmail.com>
 
 prepare() {
@@ -27,7 +33,7 @@
 
   git cherry-pick -n aa858698d7ede76b3b4c825ca14b8061c24f14e1
 
-  git cherry-pick -n 72412c944b771f3214ddc40fa9dea82cea3a5651
+  git apply -3 ../telepathy-glib-function-type-cast.patch
 
   autoreconf -fi
 }


############# Stripped diff below #################



--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,7 +1,7 @@
 prepare() {
 cd $pkgname
 git cherry-pick -n aa858698d7ede76b3b4c825ca14b8061c24f14e1
-git cherry-pick -n 72412c944b771f3214ddc40fa9dea82cea3a5651
+git apply -3 ../telepathy-glib-function-type-cast.patch
 autoreconf -fi
 }
 build() {
