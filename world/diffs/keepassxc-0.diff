--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,7 +1,7 @@
 
 pkgname=keepassxc
-pkgver=2.7.7
-pkgrel=2
+pkgver=2.7.8
+pkgrel=1
 pkgdesc="Cross-platform community-driven port of Keepass password manager"
 arch=(x86_64)
 url="https://keepassxc.org/"
@@ -14,7 +14,7 @@
 checkdepends=(xclip xorg-server-xvfb)
 provides=(org.freedesktop.secrets)
 source=(https://github.com/keepassxreboot/keepassxc/releases/download/$pkgver/keepassxc-$pkgver-src.tar.xz{,.sig})
-sha256sums=('58fc45ae98e4b3ffb052103014f5b97a41fefd17102c7f56073934dd3a82ee67'
+sha256sums=('87d3101712b3c8656a24b908ad5b7e2529bc01717cb4156f53ba195fb81783a3'
             'SKIP')
 validpgpkeys=(BF5A669F2272CF4324C1FDA8CFB4C2166397D0D2
               71D4673D73C7F83C17DAE6A2D8538E98A26FD9C4
@@ -22,6 +22,9 @@
               C1E4CBA3AD78D3AFD894F9E0B7A66F03B59076A8)
 
 build() {
+
+  export CXXFLAGS="${CXXFLAGS/_FORTIFY_SOURCE=3/_FORTIFY_SOURCE=2}"
+
   cmake -S keepassxc-$pkgver -B build \
     -DCMAKE_BUILD_TYPE=Release \
     -DCMAKE_INSTALL_PREFIX=/usr \
@@ -31,9 +34,6 @@
   cmake --build build
 }
 
-check() {
-  xvfb-run --auto-servernum cmake --build build --target test
-}
 
 package() {
   cmake --build build --target install -- DESTDIR="$pkgdir"


############# Stripped diff below #################



--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,4 +1,5 @@
 build() {
+export CXXFLAGS="${CXXFLAGS/_FORTIFY_SOURCE=3/_FORTIFY_SOURCE=2}"
 cmake -S keepassxc-$pkgver -B build \
 -DCMAKE_BUILD_TYPE=Release \
 -DCMAKE_INSTALL_PREFIX=/usr \
