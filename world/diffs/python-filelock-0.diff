--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,10 +1,10 @@
 
 pkgname=python-filelock
-pkgver=3.20.3
+pkgver=3.24.0
 pkgrel=1
-pkgdesc="A platform independent file lock"
-url="https://github.com/benediktschmitt/py-filelock"
-license=('Unlicense')
+pkgdesc="A platform-independent file lock"
+url="https://github.com/tox-dev/filelock"
+license=('MIT')
 arch=('any')
 depends=('python')
 makedepends=(
@@ -22,19 +22,22 @@
   'python-virtualenv'
 )
 source=("git+$url.git#tag=$pkgver")
-b2sums=('50cf3f9a8e0f8154182001f7b23f17babb4c81f36d22f9d5be18d71ed3cb84bf388a224a17d9c36fd4bd391cf9b8aec0cace26f34e28c6c6e42ab5a292bf5e3d')
+b2sums=('c222695dced2cd52d68d43599930b90426850c5c9d153bcfd11ab8584c5423a14be09a5f57480a21aa4e50bebcfd2ce58c5feee850aeed9f8f94783194d3503f')
 
 build() {
-  cd py-filelock
-  python -m build --wheel --no-isolation --skip-dependency-check
+  cd ${pkgname#python-}
+  python -m build --wheel --no-isolation
 }
 
 check() {
-  cd py-filelock
-  PYTHONPATH=src pytest tests
+  cd ${pkgname#python-}
+  python -m venv --system-site-packages test-env
+  test-env/bin/python -m installer dist/*.whl
+  test-env/bin/python -m pytest -W ignore::DeprecationWarning
 }
 
 package() {
-  cd py-filelock
+  cd ${pkgname#python-}
   python -m installer --destdir="$pkgdir" dist/*.whl
+  install -vDm644 -t "$pkgdir/usr/share/licenses/$pkgname" LICENSE
 }


############# Stripped diff below #################



--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,4 +1,4 @@
 build() {
-cd py-filelock
-python -m build --wheel --no-isolation --skip-dependency-check
+cd ${pkgname#python-}
+python -m build --wheel --no-isolation
 }
