--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,34 +1,34 @@
 
 pkgname=python-extras
 pkgver=1.0.0
-pkgrel=15
+pkgrel=14
 pkgdesc="Useful extra bits for Python - things that should be in the standard library"
 arch=('any')
 license=('MIT')
 url="https://github.com/testing-cabal/extras"
 depends=('python')
-makedepends=('git' 'python-build' 'python-installer' 'python-setuptools' 'python-wheel')
+makedepends=('python-setuptools')
 checkdepends=('python-testtools')
-source=("git+https://github.com/testing-cabal/extras.git#tag=$pkgver")
-sha512sums=('bb877ea833216c90532ef6a2ff87faff4c92743765ba5658e59c386cf246484df2957c1d3e89a1c3515cca6e81567cd4fa71b29a46357c764b81bd569bae1358')
+source=("https://github.com/testing-cabal/extras/archive/$pkgver/$pkgname-$pkgver.tar.gz")
+sha512sums=('db264cf183dd0f63a411d03def51bb6ec8c5d47fe1e3e75cab4d65f2793b9458023a2387574968b095bf39cf7746428f7e7f190100dbdf2d99695f4c69875475')
 
 prepare() {
-  cd extras
+  cd extras-$pkgver
   sed -i 's/test.assertEquals/test.assertEqual/' extras/tests/test_extras.py
 }
 
 build() {
-  cd extras
-  python -m build --wheel --no-isolation
+  cd extras-$pkgver
+  python setup.py build
 }
 
 check() {
-  cd extras
+  cd extras-$pkgver
   python -m testtools.run extras.tests.test_suite
 }
 
 package() {
-  cd extras
-  python -m installer --destdir="$pkgdir" dist/*.whl
-  install -Dm644 LICENSE -t "$pkgdir"/usr/share/licenses/$pkgname/
+  cd extras-$pkgver
+  python setup.py install --root="$pkgdir" --optimize=1
+  install -D -m644 LICENSE "$pkgdir"/usr/share/licenses/$pkgname/LICENSE
 }


############# Stripped diff below #################

--- arch_depends
+++ artix_depends
@@ -1,6 +1,2 @@
-git
 python
-python-build
-python-installer
 python-setuptools
-python-wheel

--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,8 +1,8 @@
 prepare() {
-cd extras
+cd extras-$pkgver
 sed -i 's/test.assertEquals/test.assertEqual/' extras/tests/test_extras.py
 }
 build() {
-cd extras
-python -m build --wheel --no-isolation
+cd extras-$pkgver
+python setup.py build
 }
