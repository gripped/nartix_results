--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,25 +1,21 @@
 
 pkgname=libtg_owt
-_commit=5c5c71258777d0196dbb3a09cc37d2f56ead28ab
-pkgver=0.git31.${_commit:0:7}
+_commit=592b14d13bf9103226e90a83571e24c49f6bfdcd
+pkgver=0.git24.${_commit:0:7}
 pkgrel=1
 pkgdesc='WebRTC library'
 arch=('x86_64')
 url='https://github.com/desktop-app/tg_owt'
-license=('BSD-3-Clause')
-depends=('libdrm' 'libxdamage')
-makedepends=('git' 'ninja' 'cmake' 'protobuf' 'libxrandr' 'libxcomposite' 'openssl' 'glibc'
-             'ffmpeg' 'libva' 'opus' 'yasm' 'libjpeg-turbo' 'pipewire' 'libxtst' 'libepoxy' 'openh264')
+license=('BSD')
+depends=('libdrm')
+makedepends=('git' 'ninja' 'unzip' 'cmake' 'protobuf' 'libxrandr' 'libxcomposite' 'openssl' 'glibc'
+             'ffmpeg' 'libva' 'opus' 'yasm' 'libjpeg-turbo' 'pipewire' 'libxtst' 'libepoxy')
 options=('staticlibs')
-source=("git+${url}.git#commit=${_commit}"
-        0001-Replace-absl-template-nullability-annotations.patch
-        "git+https://chromium.googlesource.com/libyuv/libyuv/"
-        "git+https://github.com/google/crc32c"
-        "git+https://github.com/abseil/abseil-cpp"
-        "git+https://github.com/cisco/libsrtp")
-b2sums=('921942c33425ee7efb6a0d982f89251dfeb9098a459fe71c8d6b8c934b4fbf812a3c6b320f0e5c0c49e9279ce2cd72dcbaf524c62bd44dcaf35ae7b1afe270f9'
-        'b7505db537f72da43fdc648d181387a550a683e204a12df593d68ff51ae2f2a924352adf11ad2fa794e5de87ed96d0d698257b442ca0fd2fbb5fb09ac627a7b6'
-        'SKIP'
+source=("tg_owt::git+${url}.git#commit=${_commit}"
+        "libvpx::git+https://chromium.googlesource.com/webm/libvpx.git"
+        "libyuv::git+https://chromium.googlesource.com/libyuv/libyuv.git"
+        "pipewire::git+https://github.com/PipeWire/pipewire.git")
+b2sums=('SKIP'
         'SKIP'
         'SKIP'
         'SKIP')
@@ -27,13 +23,10 @@
 prepare() {
   cd tg_owt
   git submodule init
-  git submodule set-url src/third_party/libyuv "$srcdir"/libyuv
-  git submodule set-url src/third_party/crc32c/src "$srcdir"/crc32c
-  git submodule set-url src/third_party/abseil-cpp "$srcdir"/abseil-cpp
-  git submodule set-url src/third_party/libsrtp "$srcdir"/libsrtp
+  git config submodule.src/third_party/libvpx/source/libvpx.url "$srcdir"/libvpx
+  git config submodule.src/third_party/libyuv.url "$srcdir"/libyuv
+  git config submodule.src/third_party/pipewire.url "$srcdir"/pipewire
   git -c protocol.file.allow=always submodule update
-
-  patch -p1 -i ../0001-Replace-absl-template-nullability-annotations.patch
 }
 
 build() {


############# Stripped diff below #################

--- arch_depends
+++ artix_depends
@@ -7,13 +7,12 @@
 libjpeg-turbo
 libva
 libxcomposite
-libxdamage
 libxrandr
 libxtst
 ninja
-openh264
 openssl
 opus
 pipewire
 protobuf
+unzip
 yasm

--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,12 +1,10 @@
 prepare() {
 cd tg_owt
 git submodule init
-git submodule set-url src/third_party/libyuv "$srcdir"/libyuv
-git submodule set-url src/third_party/crc32c/src "$srcdir"/crc32c
-git submodule set-url src/third_party/abseil-cpp "$srcdir"/abseil-cpp
-git submodule set-url src/third_party/libsrtp "$srcdir"/libsrtp
+git config submodule.src/third_party/libvpx/source/libvpx.url "$srcdir"/libvpx
+git config submodule.src/third_party/libyuv.url "$srcdir"/libyuv
+git config submodule.src/third_party/pipewire.url "$srcdir"/pipewire
 git -c protocol.file.allow=always submodule update
-patch -p1 -i ../0001-Replace-absl-template-nullability-annotations.patch
 }
 build() {
 cd tg_owt
