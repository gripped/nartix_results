--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,21 +1,20 @@
 
 pkgname=libbluray
 pkgver=1.3.4
-pkgrel=2
+pkgrel=1
 pkgdesc='Library to access Blu-Ray disks for video playback'
 arch=(x86_64)
 url=https://www.videolan.org/developers/libbluray.html
-license=(LGPL-2.1-only)
+license=(LGPL2.1)
 depends=(
   fontconfig
-  glibc
   libfreetype.so
   libxml2
 )
 makedepends=(
   apache-ant
   git
-  java-environment=17
+  java-environment
 )
 optdepends=('java-runtime: BD-J library')
 provides=(libbluray.so)
@@ -36,10 +35,11 @@
 
 prepare() {
   cd libbluray
+  git config --global protocol.file.allow always
   for submodule in contrib/libudfread; do
     git submodule init ${submodule}
     git config submodule.${submodule}.url ../${submodule#*/}
-    git -c protocol.file.allow=always submodule update ${submodule}
+    git submodule update ${submodule}
   done
   autoreconf -fiv
 }


############# Stripped diff below #################

--- arch_depends
+++ artix_depends
@@ -1,7 +1,6 @@
 apache-ant
 fontconfig
 git
-glibc
 java-environment
 libfreetype.so
 libxml2

--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,9 +1,10 @@
 prepare() {
 cd libbluray
+git config --global protocol.file.allow always
 for submodule in contrib/libudfread; do
 git submodule init ${submodule}
 git config submodule.${submodule}.url ../${submodule#*/}
-git -c protocol.file.allow=always submodule update ${submodule}
+git submodule update ${submodule}
 done
 autoreconf -fiv
 }
