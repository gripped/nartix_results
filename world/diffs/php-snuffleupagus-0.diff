--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,8 +1,8 @@
 
 pkgname=php-snuffleupagus
 _pkgname=snuffleupagus
-pkgver=0.13.0
-pkgrel=1
+pkgver=0.12.0
+pkgrel=2
 pkgdesc="Security module for PHP"
 url='https://snuffleupagus.readthedocs.io/'
 arch=('x86_64')
@@ -15,12 +15,15 @@
 makedepends=('re2c')
 backup=('etc/php/conf.d/snuffleupagus.ini'
         'etc/php/conf.d/snuffleupagus.rules')
-source=(https://github.com/jvoisin/${_pkgname}/archive/v${pkgver}/${_pkgname}-${pkgver}.tar.gz)
-sha256sums=('350a33cd3906bdba46f5c4cf3d00edeb81eaf6a7b9a3a7e5ef47bc967492ae90')
-b2sums=('76cca31850c13f4bc39fdb3ca7fa957eed5fc0be2171128cb673962155c6604c70dccd0d0c5dd87f73023f89aa080b698da57ddc85caba6854d4573b2083c970')
+source=(https://github.com/jvoisin/${_pkgname}/archive/v${pkgver}/${_pkgname}-${pkgver}.tar.gz 'php-8.5.patch')
+sha256sums=('48e8f5c453290a077d29e43d7de7229cb697d8bf98e61ae2e129d45ce3a49ebf'
+            'a9d45752f8ea39c9e9c3a0569ed06989dbed79885de4436617ab63801baeec34')
+b2sums=('8851d7703925139bf60473106a0e50138712cb4ad92f5f94bce7fca707b3b84d2ffc84d40401309848dc9687c38b005bc0eb0f5379c8c64c8a8eeb994c632a31'
+        '4b3575e690428a22339015a29478730d9be85b10f8988e301dac877ee0cca822c9787026b22e47d5dc44f455ba6c0c2e01df7b0e1d7b81a5d8b57c1d56f1dfe6')
 
 prepare() {
   cd ${_pkgname}-${pkgver}/src
+  patch -p1 -d "$srcdir/${_pkgname}-${pkgver}" -i "$startdir/php-8.5.patch"
   phpize
   ./configure --prefix=/usr --enable-"${_pkgname}"
 }


############# Stripped diff below #################



--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,5 +1,6 @@
 prepare() {
 cd ${_pkgname}-${pkgver}/src
+patch -p1 -d "$srcdir/${_pkgname}-${pkgver}" -i "$startdir/php-8.5.patch"
 phpize
 ./configure --prefix=/usr --enable-"${_pkgname}"
 }
