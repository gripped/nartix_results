--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -25,7 +25,6 @@
   libunwind
   pango
   polkit
-  systemd-libs
 )
 makedepends=(
   git
@@ -50,7 +49,7 @@
 build() {
   CFLAGS+=" -ffat-lto-objects"
 
-  arch-meson sysprof build
+  artix-meson sysprof build -D systemdunitdir=/usr/lib/systemd
   meson compile -C build
 }
 
@@ -81,6 +80,8 @@
   _pick capture usr/include/sysprof-*/sysprof-{address,capture,clock,collector,macros}.h
   _pick capture usr/include/sysprof-*/sysprof-{platform,version,version-macros}.h
   _pick capture usr/include/sysprof-*/sysprof-capture-{condition,cursor,reader,types,writer}.h
+
+  rm -r "$pkgdir"/usr/lib/systemd
 }
 
 package_libsysprof-capture() {


############# Stripped diff below #################

--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -18,14 +18,13 @@
 libunwind
 pango
 polkit
-systemd-libs
 )
 prepare() {
 cd sysprof
 }
 build() {
 CFLAGS+=" -ffat-lto-objects"
-arch-meson sysprof build
+artix-meson sysprof build -D systemdunitdir=/usr/lib/systemd
 meson compile -C build
 }
 _pick() {
@@ -47,6 +46,7 @@
 _pick capture usr/include/sysprof-*/sysprof-{address,capture,clock,collector,macros}.h
 _pick capture usr/include/sysprof-*/sysprof-{platform,version,version-macros}.h
 _pick capture usr/include/sysprof-*/sysprof-capture-{condition,cursor,reader,types,writer}.h
+rm -r "$pkgdir"/usr/lib/systemd
 }
 package_libsysprof-capture() {
 pkgdesc+=" - capture library"
