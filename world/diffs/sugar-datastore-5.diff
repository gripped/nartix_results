--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,38 +1,27 @@
 
 pkgname=sugar-datastore
 pkgver=0.121
-pkgrel=3
-pkgdesc='Sugar datastore service'
-arch=(x86_64)
-url='https://github.com/sugarlabs/sugar-datastore'
-license=(GPL-2.0-or-later)
-depends=(
-  glib2
-  glibc
-  python
-  python-dbus
-  python-gobject
-  python-xapian
-)
-makedepends=(git)
-source=("git+https://github.com/sugarlabs/$pkgname.git#tag=v$pkgver")
-b2sums=(d740a4e0c3a1b9e0149e64cbbe60c78e5dde4ac492bd717a16cad09cf8d387e739955799b68b44f56fd0624e2fe5af18901a802103fb0e87aec1da8fb9e2676f)
+pkgrel=2
+pkgdesc="Sugar datastore service"
+arch=('x86_64')
+url="https://sugarlabs.org/"
+license=('GPL')
+depends=('dbus-python' 'python-gobject' 'python-xapian')
+source=(https://download.sugarlabs.org/sources/sucrose/glucose/$pkgname/$pkgname-$pkgver.tar.xz)
+sha256sums=('6c38b10cf0e294a9c5d9d00d291aa9be9b8e85e3045dc6f71a54ab3792880bb4')
 
 prepare() {
-  cd $pkgname
-  autoreconf -fi
+  cd $pkgname-$pkgver
+  autoreconf -vif
 }
 
 build() {
-  cd $pkgname
-  ./configure \
-    --prefix=/usr \
-    --sysconfdir=/etc \
-    --localstatedir=/var
+  cd $pkgname-$pkgver
+  ./configure --prefix=/usr
   make
 }
 
 package() {
-  cd $pkgname
+  cd $pkgname-$pkgver
   make DESTDIR="$pkgdir" install
 }


############# Stripped diff below #################

--- arch_depends
+++ artix_depends
@@ -1,7 +1,3 @@
-git
-glib2
-glibc
-python
-python-dbus
+dbus-python
 python-gobject
 python-xapian

--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,12 +1,9 @@
 prepare() {
-cd $pkgname
-autoreconf -fi
+cd $pkgname-$pkgver
+autoreconf -vif
 }
 build() {
-cd $pkgname
-./configure \
---prefix=/usr \
---sysconfdir=/etc \
---localstatedir=/var
+cd $pkgname-$pkgver
+./configure --prefix=/usr
 make
 }
