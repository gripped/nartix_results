--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,50 +1,29 @@
 
 pkgname=python-pytools
-pkgver=2025.2.5
+pkgver=2024.1.6
 pkgrel=1
 pkgdesc="A collection of tools for Python"
-arch=(any)
+arch=('any')
 url="https://github.com/inducer/pytools"
-license=(MIT)
-depends=(
-  python
-  python-numpy
-  python-platformdirs
-  python-siphash24
-  python-typing_extensions
-)
-makedepends=(
-  git
-  python-build
-  python-hatchling
-  python-installer
-)
-checkdepends=(
-  python-attrs
-  python-pytest
-)
+license=('MIT')
+depends=('python-numpy' 'python-platformdirs' 'python-typing_extensions')
+makedepends=('git' 'python-setuptools')
+checkdepends=('python-pytest')
 source=("git+https://github.com/inducer/pytools.git#tag=v$pkgver")
-sha512sums=('0d2106e5cbb921e43b4060509e68a905181c17a9bf6dff6d9b0c0f7a0f3906767c86d745be6ae636b2b0b9d7031a9506dfe7d4f707498d5572ce80e600695ee6')
+sha512sums=('e43998ae59e120def3d823f916c12e1a99453e7772311e841f6fda8d268ead5fca652156b9f9fcf910c297e9b53a0363a707402ee2237a775ad55487fd0fb006')
 
 build() {
   cd pytools
-  python -m build --wheel --no-isolation
+  python setup.py build
 }
 
 check() {
-  local pytest_options=(
-    -vv
-    -W ignore::DeprecationWarning
-  )
-
   cd pytools
-  python -m venv --system-site-packages test-env
-  test-env/bin/python -m installer dist/*.whl
-  test-env/bin/python -m pytest "${pytest_options[@]}"
+  python -m pytest
 }
 
 package(){
   cd pytools
-  python -m installer --destdir="$pkgdir" dist/*.whl
+  python setup.py install --prefix=/usr --root="$pkgdir" --skip-build --optimize=1
   install -Dm644 LICENSE -t "$pkgdir"/usr/share/licenses/$pkgname/
 }


############# Stripped diff below #################

--- arch_depends
+++ artix_depends
@@ -1,9 +1,5 @@
 git
-python
-python-build
-python-hatchling
-python-installer
 python-numpy
 python-platformdirs
-python-siphash24
+python-setuptools
 python-typing_extensions

--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,4 +1,4 @@
 build() {
 cd pytools
-python -m build --wheel --no-isolation
+python setup.py build
 }
