--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,7 +1,7 @@
 
 pkgname=maliit-framework
 pkgver=2.3.0
-pkgrel=2
+pkgrel=3
 pkgdesc='Core libraries of Maliit and server'
 arch=(x86_64)
 url='https://maliit.github.io/'
@@ -12,7 +12,6 @@
          libxcb
          qt5-base
          qt5-declarative
-         systemd-libs
          wayland)
 makedepends=(cmake
              git
@@ -23,6 +22,11 @@
 optdepends=('qt5-wayland: wayland-shell integration')
 source=(git+https://github.com/maliit/framework#tag=$pkgver)
 sha256sums=('08f2a12d36fd1e0c4f838ae276f2dee8a31339f3ffa5d9a844bda8f82dc593e5')
+
+prepare() {
+  cd framework
+  git cherry-pick -n c787e02f7354f5310b0706b2e8eaee6f3617d9af # Fix stack smashing
+}
 
 build() {
   cmake -B build -S framework \


############# Stripped diff below #################

--- arch_depends
+++ artix_depends
@@ -9,6 +9,5 @@
 qt5-base
 qt5-declarative
 qt5-wayland
-systemd-libs
 wayland
 wayland-protocols