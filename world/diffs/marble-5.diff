--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,32 +1,29 @@
 
 pkgbase=marble
 pkgname=(marble
-         marble-behaim
          marble-common
          marble-maps
          marble-qt)
-pkgver=24.12.0
-pkgrel=3
+pkgver=24.08.3
+pkgrel=2
 pkgdesc='Desktop Globe'
 arch=(x86_64)
 url='https://apps.kde.org/marble/'
 license=(GPL-2.0-or-later)
 makedepends=(extra-cmake-modules
              gpsd
-             kdoctools
-             knewstuff
-             kparts
-             krunner
-             libplasma
+             kdoctools5
+             knewstuff5
+             kparts5
              libwlocate
-             phonon-qt6
+             phonon-qt5
              protobuf
-             qt6-serialport
-             qt6-tools
-             qt6-webengine
+             qt5-serialport
+             qt5-tools
+             qt5-webengine
              shapelib)
 source=(https://download.kde.org/stable/release-service/$pkgver/src/$pkgbase-$pkgver.tar.xz{,.sig})
-sha256sums=('a347f134d1428bd46b886bb41a292a2fec4aea4de274bff73cd8b8994f920576'
+sha256sums=('c53c1faa741e1b424594c2021fa4edc620528e862ceff280cb3c952d1af20371'
             'SKIP')
 validpgpkeys=(CA262C6C83DE4D2FB28A332A3A6A4DB839EAA6D7  # Albert Astals Cid <aacid@kde.org>
               F23275E4BF10AFC1DF6914A6DBD2CE893E2D1C87  # Christoph Feck <cfeck@kde.org>
@@ -37,42 +34,40 @@
     -DCMAKE_INSTALL_PREFIX=/usr \
     -DCMAKE_INSTALL_SYSCONFDIR=/etc \
     -DCMAKE_CXX_STANDARD=17 \
-    -DQT_PLUGINS_DIR=lib/qt6/plugins \
-    -DBUILD_QT_AND_KDE=ON \
+    -DQT_PLUGINS_DIR=lib/qt/plugins \
     -DBUILD_TESTING=OFF \
     -DBUILD_TOUCH=ON \
     -DBUILD_MARBLE_EXAMPLES=OFF \
+    -DBUILD_MARBLE_TESTS=OFF \
     -DMOBILE=OFF
   cmake --build build
 }
 
 package_marble-common() {
   pkgdesc='Common libraries and plugins for Marble'
-  depends=(abseil-cpp
-           gcc-libs
+  depends=(gcc-libs
            glibc
-           phonon-qt6
+           phonon-qt5
            protobuf
-           qt6-5compat
-           qt6-base
-           qt6-declarative
-           qt6-positioning
-           qt6-svg
-           qt6-webchannel
-           qt6-webengine
+           qt5-base
+           qt5-declarative
+           qt5-location
+           qt5-svg
+           qt5-webchannel
+           qt5-webengine
            zlib)
   optdepends=('gpsd: GPS based geolocation'
               'libwlocate: WLAN based geolocation'
-              'qt6-serialport: APRS plugin'
+              'qt5-serialport: APRS plugin'
               'shapelib: SHP plugin')
 
   DESTDIR="$pkgdir" cmake --install build
   rm -r "$pkgdir"/usr/share/{config.kcfg,kxmlgui5,metainfo} \
         "$pkgdir"/usr/bin \
-        "$pkgdir"/usr/lib/qt6/plugins/{kf6,*.so} \
+        "$pkgdir"/usr/lib/qt/plugins/*.so \
         "$pkgdir"/usr/share/applications/{marble_geo.desktop,marble_worldwind.desktop,org.kde.marble*.desktop} \
-        "$pkgdir"/usr/share/icons/hicolor/scalable/apps/org.kde.marble*.svg \
-        "$pkgdir"/usr/share/plasma
+        "$pkgdir"/usr/share/kservices5/marble_part.desktop \
+        "$pkgdir"/usr/share/locale/*/LC_MESSAGES/*.mo
 }
 
 package_marble-qt() {
@@ -80,7 +75,7 @@
   depends=(gcc-libs
            glibc
            marble-common
-           qt6-base)
+           qt5-base)
 
   DESTDIR="$pkgdir" cmake --install build/src/apps/marble-qt
 }
@@ -88,17 +83,17 @@
 package_marble() {
   depends=(gcc-libs
            glibc
-           kconfig
-           kconfigwidgets
-           kcoreaddons
-           kcrash
-           ki18n
-           kio
-           kparts
-           kwidgetsaddons
-           kxmlgui
+           kconfig5
+           kconfigwidgets5
+           kcoreaddons5
+           kcrash5
+           ki18n5
+           kio5
+           kparts5
+           kwidgetsaddons5
+           kxmlgui5
            marble-common
-           qt6-base)
+           qt5-base)
   groups=(kde-applications
           kde-education)
 
@@ -106,39 +101,17 @@
   DESTDIR="$pkgdir" cmake --install build/src/plasma
   DESTDIR="$pkgdir" cmake --install build/src/plasmarunner
   DESTDIR="$pkgdir" cmake --install build/src/thumbnailer
-  rm -r "$pkgdir"/usr/share/{icons,doc,locale}
+  rm -r "$pkgdir"/usr/share/{icons,doc}
 }
 
 package_marble-maps() {
   pkgdesc='OpenStreetMap Navigation'
   depends=(gcc-libs
            glibc
-           kconfig
-           kcoreaddons
-           kcrash
-           ki18n
-           kirigami
-           kirigami-addons
+           kirigami2
            marble-common
-           qt6-base
-           qt6-declarative
-           qt6-webengine)
+           qt5-base
+           qt5-declarative)
 
   DESTDIR="$pkgdir" cmake --install build/src/apps/marble-maps
 }
-
-package_marble-behaim() {
-  pkgdesc='Behaim Globe'
-  depends=(gcc-libs
-           glibc
-           kcoreaddons
-           kcrash
-           ki18n
-           kirigami-addons
-           marble-common
-           qt6-base
-           qt6-declarative
-           qt6-webengine)
-
-  DESTDIR="$pkgdir" cmake --install build/src/apps/behaim
-}


############# Stripped diff below #################

--- arch_depends
+++ artix_depends
@@ -1,35 +1,30 @@
-abseil-cpp
 extra-cmake-modules
 gcc-libs
 glibc
 gpsd
-kconfig
-kconfigwidgets
-kcoreaddons
-kcrash
-kdoctools
-ki18n
-kio
-kirigami
-kirigami-addons
-knewstuff
-kparts
-krunner
-kwidgetsaddons
-kxmlgui
-libplasma
+kconfig5
+kconfigwidgets5
+kcoreaddons5
+kcrash5
+kdoctools5
+ki18n5
+kio5
+kirigami2
+knewstuff5
+kparts5
+kwidgetsaddons5
+kxmlgui5
 libwlocate
 marble-common
-phonon-qt6
+phonon-qt5
 protobuf
-qt6-5compat
-qt6-base
-qt6-declarative
-qt6-positioning
-qt6-serialport
-qt6-svg
-qt6-tools
-qt6-webchannel
-qt6-webengine
+qt5-base
+qt5-declarative
+qt5-location
+qt5-serialport
+qt5-svg
+qt5-tools
+qt5-webchannel
+qt5-webengine
 shapelib
 zlib

--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -3,11 +3,11 @@
 -DCMAKE_INSTALL_PREFIX=/usr \
 -DCMAKE_INSTALL_SYSCONFDIR=/etc \
 -DCMAKE_CXX_STANDARD=17 \
--DQT_PLUGINS_DIR=lib/qt6/plugins \
--DBUILD_QT_AND_KDE=ON \
+-DQT_PLUGINS_DIR=lib/qt/plugins \
 -DBUILD_TESTING=OFF \
 -DBUILD_TOUCH=ON \
 -DBUILD_MARBLE_EXAMPLES=OFF \
+-DBUILD_MARBLE_TESTS=OFF \
 -DMOBILE=OFF
 cmake --build build
 }
