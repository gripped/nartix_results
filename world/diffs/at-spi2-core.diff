--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -22,8 +22,6 @@
   libxkbcommon
   libxml2
   libxtst
-  systemd
-  systemd-libs
   xorg-xprop
 )
 makedepends=(
@@ -52,11 +50,12 @@
 
 build() {
   local meson_options=(
-    -D default_bus=dbus-broker
+    -D default_bus=dbus-daemon
     -D docs=true
+    -D use_systemd=false
   )
 
-  arch-meson at-spi2-core build "${meson_options[@]}"
+  artix-meson at-spi2-core build "${meson_options[@]}"
   meson compile -C build
 }
 
@@ -84,6 +83,8 @@
 
   meson install -C build --destdir "$pkgdir"
 
+  rm -r "$pkgdir"/usr/lib/systemd
+
   mkdir -p doc/usr/share
   mv {"$pkgdir",doc}/usr/share/doc
 }


############# Stripped diff below #################

--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -15,8 +15,6 @@
 libxkbcommon
 libxml2
 libxtst
-systemd
-systemd-libs
 xorg-xprop
 )
 prepare() {
@@ -24,10 +22,11 @@
 }
 build() {
 local meson_options=(
--D default_bus=dbus-broker
+-D default_bus=dbus-daemon
 -D docs=true
+-D use_systemd=false
 )
-arch-meson at-spi2-core build "${meson_options[@]}"
+artix-meson at-spi2-core build "${meson_options[@]}"
 meson compile -C build
 }
 package_at-spi2-core() {
@@ -47,6 +46,7 @@
 'atk<=2.38.0-2'
 )
 meson install -C build --destdir "$pkgdir"
+rm -r "$pkgdir"/usr/lib/systemd
 mkdir -p doc/usr/share
 mv {"$pkgdir",doc}/usr/share/doc
 }
