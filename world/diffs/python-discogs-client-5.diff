--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,7 +1,7 @@
 
 pkgname=python-discogs-client
 pkgver=2.8
-pkgrel=3
+pkgrel=2
 pkgdesc='Python Client for the Discogs API'
 arch=(any)
 url=https://github.com/joalla/discogs_client
@@ -14,25 +14,25 @@
 )
 makedepends=(
   git
-  python-build
-  python-installer
   python-setuptools
-  python-wheel
 )
-source=("$pkgname::git+https://github.com/joalla/discogs_client.git#tag=v$pkgver")
-sha512sums=('1cb175e5589b1f221187770a52ebe19b5c70351ab03a168532b7784ec1c50075f4a252350e09ef938b98ad6d306021b70b1656f951e0f22621e84fee53fc70bc')
+_tag=4320f830f85a66278046b35e65ebc3fa85c7556c
+source=(git+https://github.com/joalla/discogs_client.git#tag=${_tag})
 b2sums=('97934bc915043a73223b6e89cae6c2cbb0d4e43babf8f86015423cd69fbd536f2cb981d7c6b404625cf7482c38fd9a45e4c550795c957901168b026d0cb33cf1')
 
+pkgver() {
+  cd discogs_client
+  git describe --tags | sed 's/^v//'
+}
+
 build() {
-  cd "$pkgname"
-
-  python -m build --wheel --no-isolation
+  cd discogs_client
+  python setup.py build
 }
 
 package() {
-  cd "$pkgname"
+  cd discogs_client
+  python setup.py install --root=$pkgdir --optimize=1 --skip-build
+  install -Dm 644 LICENSE -t "${pkgdir}"/usr/share/licenses/python-discogs-client
+}
 
-  python -m installer --destdir="$pkgdir" dist/*.whl
-
-  install -vDm644 -t "$pkgdir/usr/share/licenses/$pkgname" LICENSE
-}


############# Stripped diff below #################

--- arch_depends
+++ artix_depends
@@ -1,9 +1,6 @@
 git
 python
-python-build
 python-dateutil
-python-installer
 python-oauthlib
 python-requests
 python-setuptools
-python-wheel

--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,4 +1,4 @@
 build() {
-cd "$pkgname"
-python -m build --wheel --no-isolation
+cd discogs_client
+python setup.py build
 }
