--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,12 +1,13 @@
 
 pkgname=kwallet
-pkgver=6.13.0
-pkgrel=1
+pkgver=6.14.0
+pkgrel=2
 pkgdesc='Secure and unified container for user passwords'
 arch=(x86_64)
 url='https://community.kde.org/Frameworks'
 license=(LGPL-2.0-only LGPL-3.0-only)
 depends=(gcc-libs
+         glib2
          glibc
          gpgme
          kcolorscheme
@@ -19,6 +20,7 @@
          kwidgetsaddons
          kwindowsystem
          libgcrypt
+         libsecret
          qca-qt6
          qt6-base)
 makedepends=(doxygen
@@ -30,14 +32,19 @@
 optdepends=('kwalletmanager: Configuration GUI')
 provides=(org.freedesktop.secrets)
 groups=(kf6)
-source=(https://download.kde.org/stable/frameworks/${pkgver%.*}/$pkgname-$pkgver.tar.xz{,.sig})
-sha256sums=('1a6ff2ccf660a433bda6b00ac873796dcb46bd2443787fcf5fbe4c433ca8cb36'
-            'SKIP')
+source=(https://download.kde.org/stable/frameworks/${pkgver%.*}/$pkgname-$pkgver.tar.xz{,.sig}
+       https://invent.kde.org/frameworks/kwallet/-/commit/c9a9252d34a63bb02a3756bf5e58441a42ad5928.patch)
+sha256sums=('a7477e4e5e7ccb43491c5a0eccadf6a33e962088d5af32c4b6b4aacb920f59e3'
+            'SKIP'
+            '3179bcc316519e0c31c00cad44e7b0a5a7ec1420318cf70f6f5397badbde334e')
 validpgpkeys=(53E6B47B45CEA3E0D5B7457758D0EE648A48B3BB # David Faure <faure@kde.org>
               E0A3EB202F8E57528E13E72FD7574483BB57B18D # Jonathan Esk-Riddell <jr@jriddell.org>
               90A968ACA84537CC27B99EAF2C8DF587A6D4AAC1 # Nicolas Fella <nicolas.fella@kde.org>
               )
-
+prepare() {
+  cd $pkgname-$pkgver
+  patch -Np1 < "$srcdir"/c9a9252d34a63bb02a3756bf5e58441a42ad5928.patch
+}
 build() {
   cmake -B build -S $pkgname-$pkgver \
     -DBUILD_TESTING=OFF \


############# Stripped diff below #################

--- arch_depends
+++ artix_depends
@@ -1,6 +1,7 @@
 doxygen
 extra-cmake-modules
 gcc-libs
+glib2
 glibc
 gpgme
 kcolorscheme
@@ -15,6 +16,7 @@
 kwidgetsaddons
 kwindowsystem
 libgcrypt
+libsecret
 qca-qt6
 qt6-base
 qt6-doc

--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,3 +1,7 @@
+prepare() {
+cd $pkgname-$pkgver
+patch -Np1 < "$srcdir"/c9a9252d34a63bb02a3756bf5e58441a42ad5928.patch
+}
 build() {
 cmake -B build -S $pkgname-$pkgver \
 -DBUILD_TESTING=OFF \
