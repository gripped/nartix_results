--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,35 +1,27 @@
 
 pkgname=xdg-desktop-portal-xapp
-pkgver=1.1.3
-pkgrel=2
+pkgver=1.0.4
+pkgrel=1
 pkgdesc='A backend implementation for xdg-desktop-portal using GTK and various pieces of Cinnamon/MATE/Xfce4 infrastructure'
 arch=(x86_64)
 url='https://github.com/linuxmint/xdg-desktop-portal-xapp'
-license=(LGPL-2.1-or-later)
-depends=(
-  gcc-libs
-  glib2
-  glibc
-  gtk3
-  xapp
-  xapp-symbolic-icons
-  xdg-desktop-portal
-  xdg-desktop-portal-gtk
-)
-makedepends=(
-  git
-  glib2-devel
-  meson
-)
+license=(LGPL-2.1)
+depends=(xdg-desktop-portal xapp)
+makedepends=(meson)
 provides=(xdg-desktop-portal-impl)
-source=("git+https://github.com/linuxmint/xdg-desktop-portal-xapp.git#tag=$pkgver")
-b2sums=(a2b1623d741a00adc8519d7794de1e3b5887a5d03ea93bcd80865bc77c780630d29b306b2c32845c8e209e04f0c7fa38072c23da89f668717d797b3394bd7d70)
+source=(https://github.com/linuxmint/xdg-desktop-portal-xapp/archive/$pkgver/$pkgname-$pkgver.tar.gz
+        xapp-portals.conf)
+sha256sums=('2ff4e541a23d83ee50b206476164c13ea24d6e8ee9ee0f85fead66a11e136b5f'
+            '86f7bad3112e2bccfe07eb9345e95ed4716c126de5e9397966c6de30ae056c11')
 
 build() {
-  arch-meson $pkgname build
+  artix-meson -D systemduserunitdir=/usr/lib/systemd $pkgname-$pkgver build
   meson compile -C build
 }
 
 package() {
   meson install -C build --destdir "$pkgdir"
+  install -Dm644 ${srcdir}/xapp-portals.conf  ${pkgdir}/usr/share/xdg-desktop-portal/xapp-portals.conf
+
+  rm -r $pkgdir/usr/lib/systemd
 }


############# Stripped diff below #################

--- arch_depends
+++ artix_depends
@@ -1,11 +1,3 @@
-gcc-libs
-git
-glib2
-glib2-devel
-glibc
-gtk3
 meson
 xapp
-xapp-symbolic-icons
 xdg-desktop-portal
-xdg-desktop-portal-gtk

--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,4 +1,4 @@
 build() {
-arch-meson $pkgname build
+artix-meson -D systemduserunitdir=/usr/lib/systemd $pkgname-$pkgver build
 meson compile -C build
 }
