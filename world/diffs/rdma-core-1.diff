--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,13 +1,13 @@
 
 pkgname=rdma-core
 pkgdesc='RDMA core userspace libraries and daemons'
-pkgver=50.0
+pkgver=49.0
 pkgrel=1
 arch=('x86_64')
 url="https://github.com/linux-rdma/rdma-core"
 license=('GPL2' 'custom:OpenIB.org BSD (MIT variant)')
-depends=('libnl' 'ethtool' 'perl' 'systemd-libs')
-makedepends=('git' 'cmake' 'systemd' 'ninja' 'pandoc' 'libdrm' 'cython0' 'python' 'python-docutils' 'valgrind')
+depends=('libnl' 'ethtool' 'perl' 'udev')
+makedepends=('git' 'cmake' 'ninja' 'pandoc' 'libdrm' 'cython0' 'python' 'python-docutils' 'valgrind')
 _provides=('rdma' 'ibacm' 'libiwpm' 'libibcm' 'libibumad' 'libibverbs'
            'librdmacm' 'libcxgb3' 'libcxgb4' 'libmlx4' 'libmlx5' 'libmthca' 'libnes' 'libocrdma'
            'srptools' 'infiniband-diags' 'libibmad')
@@ -16,7 +16,7 @@
 replaces=("${_provides[@]}")
 backup=(etc/rdma/{rdma.conf,mlx4.conf})
 source=("https://github.com/linux-rdma/rdma-core/archive/v$pkgver/$pkgname-$pkgver.tar.gz")
-sha512sums=('7558803f0ab0dfd22cda45c58577c53cbfbd8a359fd9eb3691693631e03f3e83191823d00d2c5d3862aa3bd848a9b4d7bff8da45f04171be86cced147b4ea4ac')
+sha512sums=('2da35b489d6a82776dceac4b067a7a9f931b6c4737a205f522616fa028c74c10c098195d6843970ffeb22c8b416975bcfcd11d53a60ff855653624673f1d498a')
 validpgpkeys=('42D25385C1A1C02B8B1B1C6F801BDDB825988F64') # nicolas@morey-chaisemartin.com
 
 prepare() {
@@ -55,7 +55,7 @@
     cd build
     DESTDIR="$pkgdir" ninja install
 
-    rm -vr "$pkgdir"/etc/init.d
+    rm -vr "$pkgdir"/etc/init.d "$pkgdir/usr/lib/systemd/"
 
     cd "$srcdir"/rdma-core-$pkgver/redhat
     install -D --mode=0644 rdma.conf "$pkgdir"/etc/rdma/rdma.conf


############# Stripped diff below #################

--- arch_depends
+++ artix_depends
@@ -9,6 +9,5 @@
 perl
 python
 python-docutils
-systemd
-systemd-libs
+udev
 valgrind