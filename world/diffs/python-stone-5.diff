--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,7 +1,8 @@
 
 pkgname=python-stone
+_name=${pkgname#python-}
 pkgver=3.3.9
-pkgrel=3
+pkgrel=1
 pkgdesc='The Official API Spec Language for Dropbox API V2'
 arch=(any)
 url='https://github.com/dropbox/stone'
@@ -10,7 +11,7 @@
   python
   python-packaging
   python-ply
-  python-jinja
+  python-six
 )
 makedepends=(
   git
@@ -20,39 +21,29 @@
   python-wheel
 )
 checkdepends=(python-pytest)
-source=(
-  "$pkgname::git+$url#tag=v$pkgver"
-  remove-six.patch
-)
-sha512sums=('ed3b4d442f04935849aff44360a8c4d62934f7ecb0833ea0e3b7575d6f6fb712a9cce3a98009b85967729004c3ce7c33d2eadd5453693a2fa48f1b6a7dd48205'
-            '701543d14e59c6ba1e0cb02e61bb41bc686b6d653f4ff0e8a1738912ecee27a51bfde9906cba3f00425caab793397f4b3ea32b030bb2271ab2e5fd5ba66bb216')
-b2sums=('499ba79dde93ef42825dcd848802a202ad59e1601d2db55c91a29b7b5b85704d7c60236a91eef4b812bd79bb319127768adc25d6722cedf7a61c410ff6c6db53'
-        '7e9c846c467263bb21fca75f97cc6ff83eee80a213db165284e2a84b3c6b27bfbda19960a501cd1ca23006898d344d87e69345a466bdb845b5e6ee385f9f25a1')
+source=("git+$url#tag=v$pkgver")
+sha256sums=('c964f72c4a4da6c88924cadc864121422eeb9a676e72c14d87c4ba1948e5a915')
 
 prepare() {
-  cd "$pkgname"
-
-  git cherry-pick --no-commit 7d47f04f335868ad723f2d935cb2ee74eee9142a
-
-  patch -p1 -i "$srcdir/remove-six.patch"
+  sed -e '/pytest-runner/d' -i "$_name"/setup.py
 }
 
 build() {
-  cd "$pkgname"
-
+  cd "$_name"
   python -m build --wheel --no-isolation
 }
 
 check() {
-  cd "$pkgname"
-
+  cd "$_name"
   pytest -vv
 }
 
 package() {
-  cd "$pkgname"
-
+  cd "$_name"
   python -m installer --destdir="$pkgdir" dist/*.whl
 
-  install -vDm644 -t "$pkgdir/usr/share/licenses/$pkgname" LICENSE
+  local site_packages=$(python -c "import site; print(site.getsitepackages()[0])")
+  install -d "$pkgdir"/usr/share/licenses/$pkgname
+  ln -s "$site_packages"/"$_name"-$pkgver.dist-info/LICENSE \
+    "$pkgdir"/usr/share/licenses/$pkgname/LICENSE
 }


############# Stripped diff below #################

--- arch_depends
+++ artix_depends
@@ -2,8 +2,8 @@
 python
 python-build
 python-installer
-python-jinja
 python-packaging
 python-ply
 python-setuptools
+python-six
 python-wheel

--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,9 +1,7 @@
 prepare() {
-cd "$pkgname"
-git cherry-pick --no-commit 7d47f04f335868ad723f2d935cb2ee74eee9142a
-patch -p1 -i "$srcdir/remove-six.patch"
+sed -e '/pytest-runner/d' -i "$_name"/setup.py
 }
 build() {
-cd "$pkgname"
+cd "$_name"
 python -m build --wheel --no-isolation
 }
