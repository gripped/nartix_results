--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,7 +1,7 @@
 
 pkgname=jami-daemon
 pkgver=20250912
-pkgrel=4
+pkgrel=2
 pkgdesc="Free and universal communication platform which preserves the usersâ€™ privacy and freedoms (daemon component)"
 arch=(x86_64)
 url="https://jami.net"
@@ -9,24 +9,22 @@
 groups=(jami)
 depends=(glibc opendht gnutls nettle libgit2 libsecp256k1 libsecp256k1.so ffmpeg speexdsp
          fmt yaml-cpp jsoncpp zlib alsa-lib libpulse jack libupnp libnatpmp
-         openssl webrtc-audio-processing-0.3 systemd-libs libarchive)
-makedepends=(git cmake perl asio msgpack-c msgpack-cxx restinio systemd meson)
+         openssl webrtc-audio-processing-0.3 libudev libarchive)
+makedepends=(git cmake perl asio msgpack-c msgpack-cxx restinio udev meson)
 checkdepends=(cppunit)
 _commit=ce82bdbbf38e7f7ac9d675bfc959e4d7f7ac387
 _pjprojectver=37130c943d59f25a71935803ea2d84515074a237
 _dhtnetver=6c5ee3a21556d668d047cdedb5c4b746c3c6bdb2
 source=(git+https://git.jami.net/savoirfairelinux/${pkgname}.git#commit=${_commit}
         https://github.com/savoirfairelinux/pjproject/archive/${_pjprojectver}/pjproject-${_pjprojectver}.tar.gz
-        dhtnet-$_dhtnetver.tar.gz::https://review.jami.net/plugins/gitiles/dhtnet/+archive/$_dhtnetver.tar.gz
-        ffmpeg-7.patch
-        ffmpeg-8.patch)
+        dhtnet-$_dhtnetver.tar.gz::https://github.com/savoirfairelinux/opendht/archive/$_dhtnetver.tar.gz
+        ffmpeg-7.patch)
 noextract=(pjproject-${_pjprojectver}.tar.gz
            dhtnet-${_dhtnetver}.tar.gz)
 sha512sums=('91d9ff98033f4fd889d1c68fcc1a7b59923627178576a831dde2ddcd5f588c74cab0fec8c3e4c6893e7ceedf66275dd7c50acef28fa8e63602895f689e34ced8'
-            '2e9bf2bb6a87fde551723f6d1ba8c9f5f5545d5a11e78e2d2d8302c784c721b4b452cfe0b548000eb5913a1d9692839936e8ebc09ea156f5c2e6a6273d461642'
             'SKIP'
-            '720c60053779e72273d7abf339008284f5473b4f9a101e21eae352e9663559c7591f8e3481d9b479d113f306da9d0b3ffa53d32091c8d795b3252afd7e39afec'
-            '933e223f4bcaacaaf052de906daa10ed85020677a20158df96b78b9648edf27c601d932434315d16563dadc61338a7124e5cc8e2495281ed1f83b1f30234b496')
+            'SKIP'
+            '720c60053779e72273d7abf339008284f5473b4f9a101e21eae352e9663559c7591f8e3481d9b479d113f306da9d0b3ffa53d32091c8d795b3252afd7e39afec')
 
 pkgver() {
   cd ${pkgname}
@@ -40,8 +38,7 @@
   cp ../dhtnet-$_dhtnetver.tar.gz contrib/tarballs/
   mkdir -p contrib/native
 
-  patch -p1 -i ../ffmpeg-7.patch # Fix build with ffmpeg 7+
-  patch -p1 -i ../ffmpeg-8.patch # Fix build with ffmpeg 8
+  patch -p1 -i ../ffmpeg-7.patch # Fix build with ffmpeg 7
 }
 
 build() {
@@ -58,7 +55,7 @@
   make DEPS_pjproject= DEPS_dhtnet=pjproject
 
   cd "${srcdir}"
-  arch-meson ${pkgname} build -D interfaces=library -D opensl=disabled -D portaudio=disabled \
+  artix-meson ${pkgname} build -D interfaces=library -D opensl=disabled -D portaudio=disabled \
                               $( ((CHECKFUNC)) && echo -D tests=true) \
                               -D pkg_config_path="${PWD}/${pkgname}/contrib/$(cc -dumpmachine)/lib/pkgconfig"
   meson compile -C build


############# Stripped diff below #################

--- arch_depends
+++ artix_depends
@@ -14,6 +14,7 @@
 libpulse
 libsecp256k1
 libsecp256k1.so
+libudev
 libupnp
 meson
 msgpack-c
@@ -24,8 +25,7 @@
 perl
 restinio
 speexdsp
-systemd
-systemd-libs
+udev
 webrtc-audio-processing-0.3
 yaml-cpp
 zlib