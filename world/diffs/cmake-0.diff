--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,7 +1,7 @@
 
 pkgname=cmake
-pkgver=4.2.3
-pkgrel=1
+pkgver=4.2.2
+pkgrel=2
 pkgdesc='A cross-platform open-source make system'
 arch=('x86_64')
 url="https://www.cmake.org/"
@@ -28,13 +28,16 @@
   'ninja: for ninja generator'
   'qt6-base: cmake-gui'
 )
-source=(git+https://gitlab.kitware.com/cmake/cmake.git#tag=v$pkgver?signed)
-sha512sums=('20931228c30183694729a825348d67d58cb1f7eb56c72b6f2c2dea00c21bc1806e36e859d31aaa3445f5154bf133cbb90f41c9bc96f48a63cad01664c7a7175a')
+source=(git+https://gitlab.kitware.com/cmake/cmake.git#tag=v$pkgver?signed
+        artix-cmake.patch)
+sha512sums=('08cf0fc58e37574fc23803a98c5904415f5f46475285f7bce36b58c29a49ef48ffae81f15ac9dcf8770295f724b2dd7c0b93ba24a7e8754a542b788869e5a636'
+            '56be8c1a7cd7b6520b50f38a5299032b58772758c33faf89dc772ed8cdccdce7e816a797511092867bfbf1ade1486373780c05ff1eb0d42ef3320c73aac8c9a7')
 validpgpkeys=(CBA23971357C2E6590D9EFD3EC8FEF3A7BFB4EDA) # Brad King <brad.king@kitware.com>
 
 prepare() {
   cd $pkgname
   git cherry-pick -n 261b7b933c6604095687d473503e24bae6ec0d6f # Support LUA 5.5
+  git apply ../artix-cmake.patch
 
   rm -fr .git # Avoid dirty version number
 }


############# Stripped diff below #################



--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,6 +1,7 @@
 prepare() {
 cd $pkgname
 git cherry-pick -n 261b7b933c6604095687d473503e24bae6ec0d6f # Support LUA 5.5
+git apply ../artix-cmake.patch
 rm -fr .git # Avoid dirty version number
 }
 build() {
