--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -7,26 +7,30 @@
 url="https://gitlab.freedesktop.org/xorg/app/xkbcomp"
 license=('LicenseRef-xkbcomp')
 depends=('libxkbfile' 'libx11' 'glibc')
-makedepends=('xorg-util-macros')
+makedepends=('git' 'xorg-util-macros')
 groups=('xorg-apps' 'xorg')
-source=(https://xorg.freedesktop.org/archive/individual/app/xkbcomp-${pkgver}.tar.xz{,.sig})
-sha512sums=('d8ef4906261251e2600b3650660fbe88ed99a44694f1e59b433e0811f1ab5234c4f2f0b3647fa5372fb0f46b56eac60c0219a762bf1af0ab06226b63e4a6b081'
-            'SKIP')
+source=(git+https://gitlab.freedesktop.org/xorg/app/xkbcomp.git?signed#tag=xkbcomp-${pkgver})
+sha512sums=('5ba24d230fe9463ff1ec1ed1c2d15a7b850085ac9e1a75d941ebe29ae6035fd12d707845fba12385fb297b64c1bb54e3a5bcb323ea547710c00f232abdefa656')
 validpgpkeys=('3C2C43D9447D5938EF4551EBE23B7E70B467F0BF') # Peter Hutterer (Who-T) <office@who-t.net>
 
+prepare() {
+  cd xkbcomp
+  autoreconf -fiv
+}
+
 build() {
-  cd xkbcomp-${pkgver}
+  cd xkbcomp
   ./configure --prefix=/usr
   make
 }
 
 check() {
-  cd xkbcomp-${pkgver}
+  cd xkbcomp
   make check
 }
 
 package() {
-  cd xkbcomp-${pkgver}
+  cd xkbcomp
   make DESTDIR="${pkgdir}" install
   install -m755 -d "${pkgdir}/usr/share/licenses/${pkgname}"
   install -m644 COPYING "${pkgdir}/usr/share/licenses/${pkgname}/"


############# Stripped diff below #################

--- arch_depends
+++ artix_depends
@@ -1,3 +1,4 @@
+git
 glibc
 libx11
 libxkbfile

--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,5 +1,9 @@
+prepare() {
+cd xkbcomp
+autoreconf -fiv
+}
 build() {
-cd xkbcomp-${pkgver}
+cd xkbcomp
 ./configure --prefix=/usr
 make
 }
