--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,12 +1,12 @@
 
 pkgname=yazi
 pkgver=26.1.22
-pkgrel=2
+pkgrel=1
 pkgdesc="Blazing fast terminal file manager written in Rust, based on async I/O"
 url="https://github.com/sxyazi/yazi"
 arch=("x86_64")
 license=('MIT')
-depends=('glibc' 'libgcc' 'hicolor-icon-theme' 'ttf-nerd-fonts-symbols' 'lua' 'oniguruma')
+depends=('gcc-libs' 'ttf-nerd-fonts-symbols')
 optdepends=(
 	'ffmpeg: for video thumbnails'
 	'7zip: for archive extraction and preview'
@@ -31,23 +31,17 @@
 
 prepare() {
   cd "$pkgname-$pkgver"
-
-  sed -i '/"vendored-lua"/d' yazi-{actor,binding,dds,fm,parser,plugin}/Cargo.toml
-
   cargo fetch --locked --target host-tuple
 }
 
 build() {
   cd "$pkgname-$pkgver"
-  export VERGEN_GIT_SHA="Arch Linux"
-  export YAZI_GEN_COMPLETIONS=true
-  export RUSTONIG_DYNAMIC_LIBONIG=1
-  cargo build --release --frozen --no-default-features
+  VERGEN_GIT_SHA="Arch Linux" YAZI_GEN_COMPLETIONS=true cargo build --release --frozen --no-default-features
 }
 
 check() {
   cd "$pkgname-$pkgver"
-  RUSTONIG_DYNAMIC_LIBONIG=1 cargo test --frozen --workspace --no-default-features
+  cargo test --frozen --workspace
 }
 
 package() {


############# Stripped diff below #################

--- arch_depends
+++ artix_depends
@@ -1,8 +1,4 @@
 cargo
-glibc
-hicolor-icon-theme
+gcc-libs
 imagemagick
-libgcc
-lua
-oniguruma
 ttf-nerd-fonts-symbols

--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,12 +1,8 @@
 prepare() {
 cd "$pkgname-$pkgver"
-sed -i '/"vendored-lua"/d' yazi-{actor,binding,dds,fm,parser,plugin}/Cargo.toml
 cargo fetch --locked --target host-tuple
 }
 build() {
 cd "$pkgname-$pkgver"
-export VERGEN_GIT_SHA="Arch Linux"
-export YAZI_GEN_COMPLETIONS=true
-export RUSTONIG_DYNAMIC_LIBONIG=1
-cargo build --release --frozen --no-default-features
+VERGEN_GIT_SHA="Arch Linux" YAZI_GEN_COMPLETIONS=true cargo build --release --frozen --no-default-features
 }
