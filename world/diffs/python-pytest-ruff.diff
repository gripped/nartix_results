--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,7 +1,7 @@
 
 pkgname=python-pytest-ruff
-pkgver=0.2.1
-_commit=2098829cfb8f95c2885c6dec3e229ed3092e2c1e
+pkgver=0.3
+_commit=37b8e736063f61ca4b5118ac499ee63fb3943b17
 pkgrel=1
 pkgdesc="Pytest plugin to check ruff requirements"
 url="https://github.com/businho/pytest-ruff"
@@ -14,11 +14,6 @@
 source=("git+https://github.com/businho/pytest-ruff.git#commit=$_commit")
 sha512sums=('SKIP')
 
-prepare() {
-  cd pytest-ruff
-  sed 's/--cov --cov-report term --cov-report xml//' -i pyproject.toml
-}
-
 build() {
   cd pytest-ruff
   python -m build -nw
@@ -27,7 +22,8 @@
 check() {
   cd pytest-ruff
   python -m installer -d tmp_install dist/*.whl
-  PYTHONPATH="$PWD/tmp_install/usr/lib/python3.11/site-packages" \
+  local python_version=$(python -c 'import sys; print(".".join(map(str, sys.version_info[:2])))')
+  PYTHONPATH="$PWD/tmp_install/usr/lib/python${python_version}/site-packages" \
     pytest
 }
 


############# Stripped diff below #################

--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,9 +1,5 @@
 pkgname=python-pytest-ruff
 depends=('python' 'python-pytest' 'python-ruff')
-prepare() {
-cd pytest-ruff
-sed 's/--cov --cov-report term --cov-report xml//' -i pyproject.toml
-}
 build() {
 cd pytest-ruff
 python -m build -nw
