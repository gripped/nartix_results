--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,8 +1,8 @@
 
 _gemname=addressable
 pkgname="ruby-${_gemname}"
-pkgver=2.8.7
-pkgrel=2
+pkgver=2.8.8
+pkgrel=1
 pkgdesc='URI Implementation'
 arch=('any')
 url='https://github.com/sporkmonger/addressable'
@@ -26,14 +26,27 @@
   ruby-yard
 )
 options=('!emptydirs')
-source=("${url}/archive/${_gemname}-${pkgver}/${pkgname}-${_gemname}-${pkgver}.tar.gz")
-sha512sums=('df75ec756f504183e08c259ecaf1432ee76b5bf1008a05299e3933aace0f08346762ca086aa6c3227cf0518d600c6d419c763cc1b9bf19897bee009fabacca99')
-b2sums=('8ce28224387fdb5500fcff25afd2be4bef4410f819caa1a0eb25e9cc376dbbdfafe1fdb509d7faf30f7f61535fe856552ccb239346449b8ed358051bc0703722')
+source=(
+  "${url}/archive/${_gemname}-${pkgver}/${pkgname}-${_gemname}-${pkgver}.tar.gz"
+  "https://github.com/sporkmonger/addressable/commit/5fc1d931e7fdc79d878f240fa4706b89cb01e171.patch"
+  "https://github.com/sporkmonger/addressable/commit/c4f92fc45a018268c6a204aa0b13017d1e0f49ec.patch"
+)
+sha512sums=('e2526edd93cc19faf6aefcbf45177f9c35964b627b90cc1adccc8580fa46da8fe9ab9476e0e162fcc3873544835bcd79a2d01f6a46ff43603eea57c7c8310fb6'
+            '2dd8ba24452e03ef43d96dae0013bbdb09018e8c8aa99bc4db280d2e339ff3ec7a4d587e325678554d5cf9a66e36210f962359365c6ae4a0f901d9e007d4b6e5'
+            'ccc15554439825a4dd7fcb019cbf427954141b95c40cc54f664478cabae7e880dc2ea7cadb670f51dc06f4a4b6962701984abeb0ebc876119011dda423a89c5d')
+b2sums=('4a19cccd7f953dadd7bf675473fe12c11ed1ae7a3e088498e197eb41736045889450ad995e58768a2d98c1b1a9f690a1b3c0215f923ef1e43affca6ba6ee9016'
+        '52aa05e754d5cdf970e7491c3b6c1d7badf0b816cca18dd47c27d888332444716bed808e7c44f980fc3f53d4d671f65337c36b5a5cdbdaa8f057d27bab53e0c8'
+        '7456c1c4fb2f00139d6d4896b67be5721fdb58239a824c3a65cbf34a82c76993b74b5f10c6a5476a8c9b810acee1203212d0add844d255d61554390108614463')
 
 prepare() {
   cd ${_gemname}-${_gemname}-${pkgver}
 
+  patch --verbose --strip=1 --input="../5fc1d931e7fdc79d878f240fa4706b89cb01e171.patch"
+  patch --verbose --strip=1 --input="../c4f92fc45a018268c6a204aa0b13017d1e0f49ec.patch"
+
   sed --in-place --regexp-extended 's|~>|>=|g' "${_gemname}.gemspec" Gemfile
+
+  sed --in-place --regexp-extended 's|"data/unicode.data".freeze, ||g' "${_gemname}.gemspec"
 
   sed --in-place --regexp-extended \
     --expression '/group :coverage/,/end/d' \


############# Stripped diff below #################



--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,6 +1,9 @@
 prepare() {
 cd ${_gemname}-${_gemname}-${pkgver}
+patch --verbose --strip=1 --input="../5fc1d931e7fdc79d878f240fa4706b89cb01e171.patch"
+patch --verbose --strip=1 --input="../c4f92fc45a018268c6a204aa0b13017d1e0f49ec.patch"
 sed --in-place --regexp-extended 's|~>|>=|g' "${_gemname}.gemspec" Gemfile
+sed --in-place --regexp-extended 's|"data/unicode.data".freeze, ||g' "${_gemname}.gemspec"
 sed --in-place --regexp-extended \
 --expression '/group :coverage/,/end/d' \
 Gemfile
