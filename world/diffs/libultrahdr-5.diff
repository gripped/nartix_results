--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,19 +1,26 @@
 
 pkgname=libultrahdr
 pkgver=1.4.0
-pkgrel=1
+pkgrel=2
 pkgdesc='The reference codec for the Ultra HDR format'
 arch=(x86_64)
 url='https://github.com/google/libultrahdr'
 license=(Apache-2.0)
-depends=(gcc-libs
-         glibc
+depends=(glibc
+         libgcc
          libglvnd
-         libjpeg-turbo)
+         libjpeg-turbo
+         libstdc++)
 makedepends=(cmake
              git)
-source=(git+https://github.com/google/libultrahdr#tag=v$pkgver)
-sha256sums=('67a20b13bef0a0100054956f2db880d1233843a5382a773bc2da2db0ffd93796')
+source=(git+https://github.com/google/libultrahdr#tag=v$pkgver
+        010-libultrahdr-gcc15-fix.patch::https://github.com/google/libultrahdr/commit/5fa99b5271a3c80a13c78062d7adc6310222dd8e.patch)
+sha256sums=('67a20b13bef0a0100054956f2db880d1233843a5382a773bc2da2db0ffd93796'
+            '6335c62964591e46a990100998104434fc8d395834b9923782ef91f64a6891cd')
+
+prepare() {
+  patch -d libultrahdr -Np1 -i "${srcdir}/010-libultrahdr-gcc15-fix.patch"
+}
 
 build() {
   cmake -B build -S $pkgname \


############# Stripped diff below #################

--- arch_depends
+++ artix_depends
@@ -1,6 +1,7 @@
 cmake
-gcc-libs
 git
 glibc
+libgcc
 libglvnd
 libjpeg-turbo
+libstdc++

--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,3 +1,6 @@
+prepare() {
+patch -d libultrahdr -Np1 -i "${srcdir}/010-libultrahdr-gcc15-fix.patch"
+}
 build() {
 cmake -B build -S $pkgname \
 -DCMAKE_INSTALL_PREFIX=/usr \
