--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,48 +1,37 @@
 
+pkgname=('jre8-openjdk-headless' 'jre8-openjdk' 'jdk8-openjdk' 'openjdk8-src' 'openjdk8-doc')
 pkgbase=java8-openjdk
-pkgname=(
-jre8-openjdk-headless
-jre8-openjdk
-jdk8-openjdk
-openjdk8-src
-openjdk8-doc
-)
 
 _majorver=8
-_minorver=462
-_updatever=08
+_minorver=452
+_updatever=09
 pkgver=${_majorver}.${_minorver}.u${_updatever}
 pkgrel=1
 arch=('x86_64')
 url='https://openjdk.java.net/'
 license=('LicenseRef-Java')
 makedepends=(
-  alsa-lib
-  bash
-  ccache
-  cpio
-  fontconfig
-  gcc14
-  giflib
-  git
-  java-environment=8
-  libcups
-  libxrender
-  libxtst
-  unzip
-  zip
+  'alsa-lib'
+  'bash'
+  'ccache'
+  'cpio'
+  'fontconfig'
+  'giflib'
+  'git'
+  'java-environment=8'
+  'libcups'
+  'libxrender'
+  'libxtst'
+  'unzip'
+  'zip'
 )
 optdepends=(
   'gvfs: open links e.g. hyperlinks'
 )
-options=(
-  !lto
-)
-source=(
-  https://github.com/openjdk/jdk${_majorver}u/archive/refs/tags/jdk${_majorver}u${_minorver}-b${_updatever}.tar.gz
-  gcc11.patch
-)
-b2sums=('9a5f1a60d747168d07d874f4e4b66cfd0e8012a325364c447a9bed1cbb042f2b9beb6064650497867c6d459e154dd944c336944d5abeebcb14280c400dfa8c7d'
+options=(!lto)
+source=(https://github.com/openjdk/jdk${_majorver}u/archive/refs/tags/jdk${_majorver}u${_minorver}-b${_updatever}.tar.gz
+        gcc11.patch)
+b2sums=('1ac94fe04cbb64b8de17e81dc81d6dd73fb50842d4eb74934dacb1d0d577fab3369d5c13f742bf76b5d55baea8c53c8356dd4dd54d31d738ea8594540129bcbf'
         '9679e4dfb6027a87376081489c09810812d6849573afac4ea96abe3a3e00ca5b6af7d0ffb010c43b93cfa913f9e97fbb9f11e19fcc86a89b4548442671c32da1')
 
 case "${CARCH}" in
@@ -54,12 +43,10 @@
 _jvmdir=/usr/lib/jvm/java-8-openjdk
 _prefix="jdk8u/image"
 _imgdir="${_prefix}/jvm/openjdk-1.8.0_$(printf '%.2d' ${_minorver})"
-_nonheadless=(
-  bin/policytool
-  lib/${_JARCH}/libjsound.so
-  lib/${_JARCH}/libjsoundalsa.so
-  lib/${_JARCH}/libsplashscreen.so
-)
+_nonheadless=(bin/policytool
+              lib/${_JARCH}/libjsound.so
+              lib/${_JARCH}/libjsoundalsa.so
+              lib/${_JARCH}/libsplashscreen.so)
 
 prepare() {
   cd jdk8u-jdk${_majorver}u${_minorver}-b${_updatever}
@@ -75,10 +62,6 @@
 
   export CFLAGS="${CFLAGS//-O2/-O3} -Wno-error=nonnull -Wno-error=deprecated-declarations -Wno-error=stringop-overflow= -Wno-error=return-type -Wno-error=cpp -fno-lifetime-dse -fno-delete-null-pointer-checks -fcommon -fno-exceptions -Wno-error=format-overflow= -Wno-error=int-conversion -Wno-error=incompatible-pointer-types"
   export CXXFLAGS="${CXXFLAGS} -fcommon -fno-exceptions"
-
-  export CC="gcc-14"
-  export CXX="g++-14"
-  export CXXCPP="gcc-14 -E"
 
   install -d -m 755 "${srcdir}/${_prefix}/"
   bash configure \
@@ -92,7 +75,7 @@
     --with-extra-cflags="${CFLAGS}" \
     --with-extra-cxxflags="${CXXFLAGS}" \
     --with-extra-ldflags="${LDFLAGS}" \
-    --with-vendor-name="Arch Linux"
+    --with-vendor-name="Artix Linux"
 
   make
   make docs
@@ -115,42 +98,27 @@
 
 package_jre8-openjdk-headless() {
   pkgdesc='OpenJDK Java 8 headless runtime environment'
-  depends=(
-    java-runtime-common
-    ca-certificates-utils
-    nss
-  )
-  optdepends=(
-    'java-rhino: for some JavaScript support'
-  )
-  provides=(
-    'java-runtime-headless=8'
-    'java-runtime-headless-openjdk=8'
-  )
-  _backup_etc=(
-    etc/java-8-openjdk/${_JARCH}/jvm.cfg
-    etc/java-8-openjdk/calendars.properties
-    etc/java-8-openjdk/content-types.properties
-    etc/java-8-openjdk/flavormap.properties
-    etc/java-8-openjdk/images/cursors/cursors.properties
-    etc/java-8-openjdk/logging.properties
-    etc/java-8-openjdk/management/jmxremote.access
-    etc/java-8-openjdk/management/jmxremote.password
-    etc/java-8-openjdk/management/management.properties
-    etc/java-8-openjdk/management/snmp.acl
-    etc/java-8-openjdk/net.properties
-    etc/java-8-openjdk/psfont.properties.ja
-    etc/java-8-openjdk/psfontj2d.properties
-    etc/java-8-openjdk/security/java.policy
-    etc/java-8-openjdk/security/java.security
-    etc/java-8-openjdk/sound.properties
-  )
-  replaces=(
-    'jre8-openjdk-headless-wm'
-  )
-  backup=(
-    ${_backup_etc[@]}
-  )
+  depends=('java-runtime-common' 'ca-certificates-utils' 'nss')
+  optdepends=('java-rhino: for some JavaScript support')
+  provides=('java-runtime-headless=8' 'java-runtime-headless-openjdk=8')
+  _backup_etc=(etc/java-8-openjdk/${_JARCH}/jvm.cfg
+               etc/java-8-openjdk/calendars.properties
+               etc/java-8-openjdk/content-types.properties
+               etc/java-8-openjdk/flavormap.properties
+               etc/java-8-openjdk/images/cursors/cursors.properties
+               etc/java-8-openjdk/logging.properties
+               etc/java-8-openjdk/management/jmxremote.access
+               etc/java-8-openjdk/management/jmxremote.password
+               etc/java-8-openjdk/management/management.properties
+               etc/java-8-openjdk/management/snmp.acl
+               etc/java-8-openjdk/net.properties
+               etc/java-8-openjdk/psfont.properties.ja
+               etc/java-8-openjdk/psfontj2d.properties
+               etc/java-8-openjdk/security/java.policy
+               etc/java-8-openjdk/security/java.security
+               etc/java-8-openjdk/sound.properties)
+  replaces=('jre8-openjdk-headless-wm')
+  backup=(${_backup_etc[@]})
   install=install_jre8-openjdk-headless.sh
 
   cd ${_imgdir}/jre
@@ -200,24 +168,17 @@
   pkgdesc='OpenJDK Java 8 full runtime environment'
   depends=(
     "jre8-openjdk-headless=${pkgver}-${pkgrel}"
-    giflib
-    hicolor-icon-theme
-    xdg-utils
+    'xdg-utils'
+    'hicolor-icon-theme'
+    'giflib'
   )
-  optdepends=(
-    'icedtea-web: web browser plugin + Java Web Start'
-    'alsa-lib: for basic sound support'
-    'gtk3: for the Gtk+ look and feel - desktop usage'
-    'java8-openjfx: for JavaFX GUI components support'
-  )
-  provides=(
-    'java-runtime=8'
-    'java-runtime-openjdk=8'
-  )
+  optdepends=('icedtea-web: web browser plugin + Java Web Start'
+              'alsa-lib: for basic sound support'
+              'gtk3: for the Gtk+ look and feel - desktop usage'
+              'java8-openjfx: for JavaFX GUI components support')
+  provides=('java-runtime=8' 'java-runtime-openjdk=8')
   install=install_jre8-openjdk.sh
-  replaces=(
-    jre8-openjdk-wm
-  )
+  replaces=('jre8-openjdk-wm')
 
   cd ${_imgdir}/jre
 
@@ -241,17 +202,9 @@
 
 package_jdk8-openjdk() {
   pkgdesc='OpenJDK Java 8 development kit'
-  depends=(
-    "jre8-openjdk=${pkgver}-${pkgrel}"
-    java-environment-common
-  )
-  provides=(
-    'java-environment=8'
-    'java-environment-openjdk=8'
-  )
-  replaces=(
-    'jdk8-openjdk-wm'
-  )
+  depends=('java-environment-common' "jre8-openjdk=${pkgver}-${pkgrel}")
+  provides=('java-environment=8' 'java-environment-openjdk=8')
+  replaces=('jdk8-openjdk-wm')
   install=install_jdk8-openjdk.sh
 
   cd ${_imgdir}


############# Stripped diff below #################

--- arch_depends
+++ artix_depends
@@ -4,7 +4,6 @@
 ccache
 cpio
 fontconfig
-gcc14
 giflib
 git
 hicolor-icon-theme

--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -8,9 +8,6 @@
 export MAKEFLAGS=${MAKEFLAGS/-j*}
 export CFLAGS="${CFLAGS//-O2/-O3} -Wno-error=nonnull -Wno-error=deprecated-declarations -Wno-error=stringop-overflow= -Wno-error=return-type -Wno-error=cpp -fno-lifetime-dse -fno-delete-null-pointer-checks -fcommon -fno-exceptions -Wno-error=format-overflow= -Wno-error=int-conversion -Wno-error=incompatible-pointer-types"
 export CXXFLAGS="${CXXFLAGS} -fcommon -fno-exceptions"
-export CC="gcc-14"
-export CXX="g++-14"
-export CXXCPP="gcc-14 -E"
 install -d -m 755 "${srcdir}/${_prefix}/"
 bash configure \
 --prefix="${srcdir}/${_prefix}" \
@@ -23,7 +20,7 @@
 --with-extra-cflags="${CFLAGS}" \
 --with-extra-cxxflags="${CXXFLAGS}" \
 --with-extra-ldflags="${LDFLAGS}" \
---with-vendor-name="Arch Linux"
+--with-vendor-name="Artix Linux"
 make
 make docs
 make install
