--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,45 +1,36 @@
 
-pkgname=python-nh3
-pkgver=0.3.0
-pkgrel=1
+_pyname=nh3
+pkgname=python-$_pyname
+pkgver=0.2.19
+pkgrel=2
 pkgdesc='Ammonia HTML sanitizer Python binding'
 arch=(x86_64)
 url='https://github.com/messense/nh3'
 license=(MIT)
-depends=(
-  gcc-libs
-  glibc
-  python
-)
+depends=(gcc-libs
+         glibc
+         python)
 checkdepends=(python-pytest)
-makedepends=(
-  git
-  python-build
-  python-installer
-  python-maturin
-)
-source=("$pkgname::git+$url#tag=v$pkgver")
-sha512sums=('7ca2cd86b18aea73e72a3f8fd9f7c39c83114efc5af5f20e5165700c3ecbf0aa3fc53308def3fcfefb88bd9c38ca9f317474082b0b4bc9f75f6e9dd6aa145f8a')
-b2sums=('a6ff35e85c628d03f814cba37c9df4cef9e88901c2aca692c710fe072654417e6255a96adb5ea27fb325ba27d3f2eccff62e996277f9f646be4d8661beae5e21')
+makedepends=(python-build
+             python-installer
+             python-maturin)
+source=(https://github.com/messense/nh3/archive/v$pkgver/$pkgname-$pkgver.tar.gz)
+sha256sums=('5755a4688fb14dfd740316f99b047755ded9f7fdcae96e92b5d1296f92805df1')
 
 build() {
-  cd "$pkgname"
-
+  cd $_pyname-$pkgver
   python -m build --wheel --no-isolation
 }
 
 check() {
-  cd "$pkgname"
-
+  cd $_pyname-$pkgver
   python -m venv --system-site-packages test-env
   test-env/bin/python -m installer dist/*.whl
   test-env/bin/python -m pytest -v
 }
 
 package() {
-  cd "$pkgname"
-
+  cd $_pyname-$pkgver
   python -m installer --destdir="$pkgdir" dist/*.whl
-
-  install -vDm644 -t "$pkgdir/usr/share/licenses/$pkgname" LICENSE
+  install -Dm644 LICENSE -t "$pkgdir"/usr/share/licenses/$pkgname
 }


############# Stripped diff below #################

--- arch_depends
+++ artix_depends
@@ -1,5 +1,4 @@
 gcc-libs
-git
 glibc
 python
 python-build

--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,4 +1,4 @@
 build() {
-cd "$pkgname"
+cd $_pyname-$pkgver
 python -m build --wheel --no-isolation
 }
