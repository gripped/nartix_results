--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,7 +1,7 @@
 
 pkgname=ruby-multipart-post
 pkgver=2.3.0
-pkgrel=7
+pkgrel=4
 pkgdesc='A multipart form post accessory for Net::HTTP'
 arch=(any)
 url='https://github.com/socketry/multipart-post'
@@ -15,6 +15,7 @@
 )
 checkdepends=(
   ruby-bake
+  ruby-bake-modernize
   ruby-bake-test
   ruby-bake-test-external
   ruby-bundler
@@ -25,15 +26,8 @@
 
 prepare() {
   cd multipart-post-$pkgver
-  sed --in-place \
-    --expression '/signing_key/d' \
-    --expression 's/~>/>=/' \
-    multipart-post.gemspec
-
-  sed --in-place \
-    --expression '/group :maintenance/,/end/d' \
-    --expression '/rubocop/d' \
-    gems.rb
+  sed -i -e '/signing_key/d' -e 's/~>/>=/' multipart-post.gemspec
+  sed -i '/bake-gem/d' gems.rb
 }
 
 build() {


############# Stripped diff below #################



--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,13 +1,7 @@
 prepare() {
 cd multipart-post-$pkgver
-sed --in-place \
---expression '/signing_key/d' \
---expression 's/~>/>=/' \
-multipart-post.gemspec
-sed --in-place \
---expression '/group :maintenance/,/end/d' \
---expression '/rubocop/d' \
-gems.rb
+sed -i -e '/signing_key/d' -e 's/~>/>=/' multipart-post.gemspec
+sed -i '/bake-gem/d' gems.rb
 }
 build() {
 local _gemdir="$(gem env gemdir)"
