--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,52 +1,35 @@
 
-_name=seaborn
-pkgname=python-$_name
+pkgname=python-seaborn
 pkgver=0.13.2
 pkgrel=2
 pkgdesc="Statistical data visualization"
 arch=(any)
 url="https://seaborn.pydata.org/"
 license=(BSD-3-Clause)
-depends=(
-  python-pandas
-  python-matplotlib
-)
-makedepends=(
-  python-build
-  python-installer
-  python-flit-core
-)
-optdepends=(
-  'python-scipy: clustering matrices and some advanced options'
-  'python-statsmodels: advanced regression plots'
-)
-checkdepends=(
-  python-pytest
-  python-scipy
-  python-statsmodels
-)
+depends=(python-pandas python-matplotlib)
+makedepends=(python-build python-installer python-flit-core)
+optdepends=('python-scipy: clustering matrices and some advanced options'
+            'python-statsmodels: advanced regression plots')
+checkdepends=(python-pytest python-scipy python-statsmodels)
 source=(https://github.com/mwaskom/seaborn/archive/v$pkgver/$pkgname-$pkgver.tar.gz)
-b2sums=('f50643890b980d55916bfc508367e4255e259ec537d02cfc1d68da29035d1e44507748f9b0f5e0a27564476f5b328af2b79f35611877e51879f8c440cccfcf01')
+sha256sums=('16de5648993d8e74f9a0f000e5646c10b0c90c037d2625c55ae2c6955a5e6333')
 
 build() {
-  cd $_name-$pkgver
+  cd seaborn-$pkgver
   python -m build --wheel --no-isolation
 }
 
 check() {
-  cd $_name-$pkgver
-  local pytest_options=(
-    -vv
-    -W ignore::DeprecationWarning
-    --deselect tests/test_distributions.py::TestKDEPlotBivariate::test_weights
-    --deselect tests/_core/test_plot.py::TestLabelVisibility::test_1d_column_wrapped
-    --deselect tests/_core/test_plot.py::TestLabelVisibility::test_1d_row_wrapped
-  )
-  pytest "${pytest_options[@]}"
+  cd seaborn-$pkgver
+  PYTHONWARNINGS="ignore" \
+  pytest -vv --color=yes \
+    --deselect tests/test_relational.py::TestScatterPlotter::test_unfilled_marker_edgecolor_warning \
+    --deselect tests/test_distributions.py::TestHistPlotUnivariate::test_kde_singular_data \
+    --deselect tests/test_distributions.py::TestKDEPlotBivariate::test_weights # broken by numpy deprecation warnings
 }
 
 package() {
-  cd $_name-$pkgver
+  cd seaborn-$pkgver
   python -m installer --destdir="$pkgdir" dist/*.whl
-  install -vDm 644 LICENSE.md -t "$pkgdir"/usr/share/licenses/$pkgname/
+  install -Dm644 LICENSE.md -t "$pkgdir"/usr/share/licenses/$pkgname/
 }


############# Stripped diff below #################



--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,4 +1,4 @@
 build() {
-cd $_name-$pkgver
+cd seaborn-$pkgver
 python -m build --wheel --no-isolation
 }
