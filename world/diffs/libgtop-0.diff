--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -3,38 +3,26 @@
 pkgver=2.41.3
 pkgrel=2
 pkgdesc='Library for collecting system monitoring data'
-arch=(x86_64)
+arch=('x86_64')
 url='https://gitlab.gnome.org/GNOME/libgtop'
-license=(GPL-2.0-or-later)
-depends=(
-  glib2
-  glibc
-  libxau
-)
-makedepends=(
-  git
-  gobject-introspection
-  gtk-doc
-)
+license=('GPL-2.0-or-later')
+depends=('glib2' 'glibc' 'libxau')
+makedepends=('git' 'gobject-introspection' 'gtk-doc')
 source=("git+https://gitlab.gnome.org/GNOME/$pkgname.git#tag=$pkgver")
-b2sums=(ee017fd3b75d36f6617a6258ca6b65c83dbbdcbbd2bd6345326d7e321678d9529639303c65e98de3eae5a18f88ac6ccfc75ee287ee9647e329eba77c7bb7804c)
+b2sums=('ee017fd3b75d36f6617a6258ca6b65c83dbbdcbbd2bd6345326d7e321678d9529639303c65e98de3eae5a18f88ac6ccfc75ee287ee9647e329eba77c7bb7804c')
 
 prepare() {
   cd $pkgname
 
   git cherry-pick -n 6370ad16e7dfcabd1485c2981a006f9cda90a878
 
-  autoreconf -fi
+  NOCONFIGURE=1 ./autogen.sh
 }
 
 build() {
   cd $pkgname
-  ./configure \
-    --prefix=/usr \
-    --sysconfdir=/etc \
-    --localstatedir=/var \
-    --libexecdir=/usr/lib \
-    --enable-gtk-doc
+  ./configure --prefix=/usr --sysconfdir=/etc --localstatedir=/var \
+    --libexecdir=/usr/lib/$pkgname --enable-gtk-doc
   sed -i -e 's/ -shared / -Wl,-O1,--as-needed\0/g' libtool
   make
 }


############# Stripped diff below #################



--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,16 +1,12 @@
 prepare() {
 cd $pkgname
 git cherry-pick -n 6370ad16e7dfcabd1485c2981a006f9cda90a878
-autoreconf -fi
+NOCONFIGURE=1 ./autogen.sh
 }
 build() {
 cd $pkgname
-./configure \
---prefix=/usr \
---sysconfdir=/etc \
---localstatedir=/var \
---libexecdir=/usr/lib \
---enable-gtk-doc
+./configure --prefix=/usr --sysconfdir=/etc --localstatedir=/var \
+--libexecdir=/usr/lib/$pkgname --enable-gtk-doc
 sed -i -e 's/ -shared / -Wl,-O1,--as-needed\0/g' libtool
 make
 }
