--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,35 +1,43 @@
 
-_mozc_commit=29e2b95
+_mozc_commit=b091429
 
-_bcr_commit=cef0246d6
+_abseil_cpp_commit=d9e4955c
+_breakpad_commit=216cea7b
+_gtest_commit=b514bdc8
+_gyp_commit=9ecf45e3
+_japanese_usage_dictionary_commit=e5b3425
+_protobuf_commit=b407e8416
+_wil_commit=fc5dbf5
+
+_bcr_commit=3353a6be
 _bazel_deps=(
-    https://github.com/abseil/abseil-cpp/releases/download/20250814.0/abseil-cpp-20250814.0.tar.gz
-    https://github.com/astral-sh/python-build-standalone/releases/download/20250610/cpython-3.11.13+20250610-x86_64-unknown-linux-gnu-install_only.tar.gz
-    https://github.com/bazel-contrib/bazel_features/releases/download/v1.30.0/bazel_features-v1.30.0.tar.gz
-    https://github.com/bazel-contrib/rules_python/releases/download/1.5.4/rules_python-1.5.4.tar.gz
-    https://github.com/bazelbuild/apple_support/releases/download/1.23.1/apple_support.1.23.1.tar.gz
-    https://github.com/bazelbuild/bazel-skylib/releases/download/1.8.1/bazel-skylib-1.8.1.tar.gz
-    https://github.com/bazelbuild/platforms/releases/download/1.0.0/platforms-1.0.0.tar.gz
+    https://github.com/abseil/abseil-cpp/releases/download/20250127.0/abseil-cpp-20250127.0.tar.gz
+    https://github.com/bazel-contrib/bazel_features/releases/download/v1.21.0/bazel_features-v1.21.0.tar.gz
+    https://github.com/bazelbuild/apple_support/releases/download/1.16.0/apple_support.1.16.0.tar.gz
+    https://github.com/bazelbuild/bazel-skylib/releases/download/1.7.1/bazel-skylib-1.7.1.tar.gz
+    https://github.com/bazelbuild/platforms/releases/download/0.0.10/platforms-0.0.10.tar.gz
     https://github.com/bazelbuild/rules_android_ndk/releases/download/v0.1.3/rules_android_ndk-v0.1.3.tar.gz
-    https://github.com/bazelbuild/rules_apple/releases/download/4.1.2/rules_apple.4.1.2.tar.gz
-    https://github.com/bazelbuild/rules_cc/releases/download/0.2.2/rules_cc-0.2.2.tar.gz
-    https://github.com/bazelbuild/rules_java/releases/download/8.14.0/rules_java-8.14.0.tar.gz
+    https://github.com/bazelbuild/rules_apple/releases/download/3.16.1/rules_apple.3.16.1.tar.gz
+    https://github.com/bazelbuild/rules_cc/releases/download/0.0.17/rules_cc-0.0.17.tar.gz
+    https://github.com/bazelbuild/rules_java/releases/download/8.11.0/rules_java-8.11.0.tar.gz
     https://github.com/bazelbuild/rules_kotlin/releases/download/v1.9.6/rules_kotlin-v1.9.6.tar.gz
     https://github.com/bazelbuild/rules_license/releases/download/1.0.0/rules_license-1.0.0.tar.gz
-    https://github.com/bazelbuild/rules_pkg/releases/download/1.1.0/rules_pkg-1.1.0.tar.gz
-    https://github.com/bazelbuild/rules_shell/releases/download/v0.3.0/rules_shell-v0.3.0.tar.gz
-    https://github.com/bazelbuild/rules_swift/releases/download/3.1.2/rules_swift.3.1.2.tar.gz
+    https://github.com/bazelbuild/rules_pkg/releases/download/1.0.1/rules_pkg-1.0.1.tar.gz
+    https://github.com/bazelbuild/rules_python/releases/download/1.0.0/rules_python-1.0.0.tar.gz
+    https://github.com/bazelbuild/rules_shell/releases/download/v0.2.0/rules_shell-v0.2.0.tar.gz
+    https://github.com/bazelbuild/rules_swift/releases/download/2.1.1/rules_swift.2.1.1.tar.gz
     https://github.com/hiroyuki-komatsu/japanese-usage-dictionary/archive/refs/tags/2025-01-25.zip
-    https://github.com/hiroyuki-komatsu/japanpost_zipcode/raw/33524763837473258e7ba2f14b17fc3a70519831/jigyosyo.zip
-    https://github.com/hiroyuki-komatsu/japanpost_zipcode/raw/33524763837473258e7ba2f14b17fc3a70519831/ken_all.zip
+    https://github.com/hiroyuki-komatsu/japanpost_zipcode/raw/6ece210081fb73d0ea4a5ea8e13ac9584d03fd76/jigyosyo.zip
+    https://github.com/hiroyuki-komatsu/japanpost_zipcode/raw/6ece210081fb73d0ea4a5ea8e13ac9584d03fd76/ken_all.zip
+    https://github.com/indygreg/python-build-standalone/releases/download/20241016/cpython-3.11.10+20241016-x86_64-unknown-linux-gnu-install_only.tar.gz
     https://github.com/madler/zlib/releases/download/v1.3.1/zlib-1.3.1.tar.gz
-    https://github.com/protocolbuffers/protobuf/releases/download/v32.0/protobuf-32.0.zip
+    https://github.com/protocolbuffers/protobuf/releases/download/v29.3/protobuf-29.3.zip
 )
 
 _pkgbase=mozc
 pkgname=fcitx5-mozc
 pkgdesc="Fcitx5 Module of A Japanese Input Method for Chromium OS, Windows, Mac and Linux (the Open Source Edition of Google Japanese Input)"
-pkgver=2.32.5981.102.g29e2b95
+pkgver=2.31.5810.102.gb091429
 pkgrel=1
 arch=('x86_64')
 url="https://github.com/google/mozc"
@@ -39,55 +47,51 @@
 replaces=('mozc-fcitx')
 conflicts=('mozc' 'mozc-server' 'mozc-utils-gui' 'mozc-fcitx' 'fcitx-mozc')
 source=(git+https://github.com/fcitx/mozc.git#commit=${_mozc_commit}
-        git+https://chromium.googlesource.com/breakpad/breakpad
-        git+https://github.com/google/googletest.git
-        git+https://chromium.googlesource.com/external/gyp
-        git+https://github.com/hiroyuki-komatsu/japanese-usage-dictionary.git
-        git+https://github.com/microsoft/wil.git
-        git+https://github.com/google/protobuf.git
-        git+https://github.com/abseil/abseil-cpp.git
+        git+https://chromium.googlesource.com/breakpad/breakpad#commit=${_breakpad_commit}
+        git+https://github.com/google/googletest.git#commit=${_gtest_commit}
+        git+https://chromium.googlesource.com/external/gyp#commit=${_gyp_commit}
+        git+https://github.com/hiroyuki-komatsu/japanese-usage-dictionary.git#commit=${_japanese_usage_dictionary_commit}
+        git+https://github.com/microsoft/wil.git#commit=${_wil_commit}
+        git+https://github.com/google/protobuf.git#commit=${_protobuf_commit}
+        git+https://github.com/abseil/abseil-cpp.git#commit=${_abseil_cpp_commit}
         git+https://github.com/bazelbuild/bazel-central-registry#commit=${_bcr_commit}
 )
 
 for _bazel_dep in "${_bazel_deps[@]}"; do
-  if [[ ! " ${source[*]} " =~ [[:space:]]${_bazel_dep}[[:space:]] ]]; then
-    source+=("$_bazel_dep")
-  fi
-  if [[ ! " ${noextract[*]} " =~ [[:space:]]${_bazel_dep##*/}[[:space:]] ]]; then
-    noextract+=("${_bazel_dep##*/}")
-  fi
+  source+=("$_bazel_dep")
+  noextract+=("${_bazel_dep##*/}")
 done
 
-sha512sums=('29f6ea3cc8b6a43e5305a89a198e349995fe04e04ca8b8973c2546bba1e01d9b79ca6f363576c02273b075411fca5cc2baf8d09e974a66945dfad2239cd2b8d7'
-            'SKIP'
-            'SKIP'
-            'SKIP'
-            'SKIP'
-            'SKIP'
-            'SKIP'
-            'SKIP'
-            'c342224c0acc48243160b0643c4c1987c14a3bd12701795defe56ef1ba324976f9290ed109839056e834e77ba8650e28f485beea2b08a6be586b8dc6f751d49f'
-            '4ee1a217203933382e728d354a149253a517150eee7580a0abecc69584b2eb200d91933ef424487e3a3fe0e8ab5e77b0288485cac982171b3585314a4417e7d4'
-            'c4aa3a09324abcbc1a2d9aa6a6278645d74af63cad76666224e53c50620450fb686c067db0f799afe84fefe575e0b2bea13b1b952f55e7e075562194b8e5ac43'
-            '9cca730483639e6b711c1e48d8d916839d5c618eda0b07ccb965184e79326ac6fcecc1446c61efcb4f7bb76b557e291cd2666b90e280dc8a4a76e1f9c09f1bb2'
-            'c702e38d13e7b502408aadc313878682272f5e86059350b7568ac07f518439c8645b69ad0ecacc997caa9405ea0c838b7dc08f2d4eb531190d6067c610d30237'
-            '60991d408dc073245ab1ae407286e30a6e1390063546d9d6017aa2d395443dfb924b60a5553b930aa7b5ce549200e90354135dabda3ce397232ee300331f1ee8'
-            '519623c2ddce5606ffd101108667ca82b12a53da8c6f01d176b61339dae383b747ae4a6a96584e56b4ee6b1a57167813ee29ccae9736202907b8f3c401458d4f'
-            'cb05b7157e4e3b8ec05f1e4ac3e5eecc73d9a3ed5729455058a1290a5f04fb4e58be30368fc2ce6a90d6938ada331ea2abaeaaeaede16d1ae2ee091fa0c1faef'
+sha512sums=('93dd12ba4cea683e73a88a9d1cf89ea18ded2d868c5c2aac4620d9fe3944d8a13db178a8a1fa235995337a104c6d7e4432cbb123c940ee44a9c01b0ccc98ec4e'
+            'f69046af8c37a2a8a441a258d5b8677016966cb43d8a3bb48badc78123a885d6179ff77d7885fd6c84130136a1b8931a98d35f9fcce3d03ed31a37a72ece0b9d'
+            '44db7d4a09aa7d36f1fb5a89be2234834a58834c76e445f8e9f7bc5685f6a76005b19fc758842c63641e476fa97c10eb968fa13965312fafca25843181fd025b'
+            'c8ce90c2493c05a78221befc4cbbcfcbe7a0bafb7bfa55403b085bf8c3fd069c4690d1ff59ef9e0e8a813bd3673588eb38e02ad81c42a6dd0be5246f27442169'
+            '91b878735e767ddf6f1fe3de61486c1e78936a0f683855e7c34a21c711f405899d3de369d2ff0a1910d65b1afc8c225d8d8b9398cf98d760f3afcfe42644fca2'
+            '504066a457f77b510f492626c919b6fd7b61f77948bdddef0f7e43ae09bb4bf03cea7000fba91ae0123a94d3b39cac6dfac2010126849afe0a183727fe7b0fc1'
+            '50a36cdefdac8670a4eb77cd50a23a2822a915a8b7c7b22d5d0ccfb61597a588524a13c0fe716c5f83b8a40b645bfd587e9594894b55993e91c9c9b7968dc76f'
+            '1ba4a25044b1b6d06b6fc832d078b2c641bb39d8bd311efc04b759c953a2fe5cf07a1f20b7410e116b3f92d025ba5b69f73768ad56e327d4ee742633d5cab144'
+            '1bba423de576ee2cb25976723d6454a24b4a11d570b2836d19837021344693a5e9931802a885c84769bcde6d4d2961dfe2db106689a37376e46ce75db405f3e6'
+            '2a021faad807ee3e23548716ffa4785dc2409edbb4be676cc4bc01d47885760de340f0a4afdcbf0aaa835affd6d78f7bc319bbf7d337dbc30e7a559d0088e4bd'
+            '0cd72b38335acf00f203446ee4618aad2d4bcb9df7059ea7196261a42b988b4d63a5ce6eac70fda49f0ecc3058e0f75ed277e3d40991d82b55c4556028ed95bc'
+            '93281a271103dfc860e11bb1c8f72d3d3aeb129f3d4bfed8acc6b99fc1727f820fc0c7feaa336c03e5b935c5c39296c361cbc3abd58756a420d518dc1cb4808f'
+            'cb786ab69e288d789ab056e41c663662d6f42c619f3464869f016b01eacd912f730d49fec986dfdd61c630167a697b52c74c4eebc70e69cce4369087aea62ef9'
+            'a92e54fccebc6ac9715be6ffb09f0bb20d402de4837ad5002e9c292b54f8b84a573b049c0e8192f955bb51b19c9926a3affc880f3d4dce28f535f97241b0663f'
             '6fc90f12ff4736a50e058b1d675b47fe2bb63320b27c42c3be996c52b0076e17248ce246849cc264cd96418c046d54075ebf8ee2ddb3b74b8813d605e8968135'
-            '0494e784c5140059903cf8eeabd900125c5f917c6e2afdd2bdcb39b8c5c01a928ef3f717ce24cf10c8c3c6fae252d9cb246abe6ece63a9a40bd9cfb1f995710b'
-            '1cbad05b9b40460f398d767d73c2d4edcf546c6402d38c98e703664b8201f6eacb9195713a632715613c49c65cc6d182c05193a3594835b5a85bcba59ef27b63'
-            'b7ea0d839c9ed2edfe3042d8d7ffffeaee66547d9ec6670e71fcadadaa21a465e4fe0db7fae0fd2840a3499a06d1c4543378b96050387bd164ae28b657e9c1ce'
+            '11523401df02c6b863c625e24ae78b54348ec958c253bec412adc4873f654c830bb7049d500d94e6ce890695899598eb7f785653cbdf264903ba7dd40496a783'
+            '6a9bb04ecfc93039ba32395e9decd6c1c0910558bb817f06ca80878ba508bc5ed199e7241ba79ae0a4bfa1e74f6dc6207fded47f3b8466cf611005b6c6084582'
+            '4bfd16c93a9e22dd62e9516b72e4b6192d4735f163be4cc624cb385d60a42307495850565547f3bad3f19813d917e0f52fab3e18b7d6d45a0f853666fdbe46c0'
             '0e2d538a4d4c200d40ad0041d7ccc3155670247144b2be322607c5db219262fd6f7de512b54df9ed3bae72213ca340b6919a0248a00260b451af93042ccd3216'
             '17801f13c8a019de7e85a81ccfe6147ee9b996bbb72bbf4753aadb62e13c7c05040012182f3e557395a36453d8c7e9ca504b624bd2e490447656d0196c0fc6bb'
-            '8eae67ababbf596d0c86f5ac9d6c6a0853f301c682df50403509b3bf2a85fdfc8532c4ca0c11e4ab85dac2bdb23165c8bbbeb35eb695a58a29b83c12a40abf55'
-            '384f14574edf22fc7b515ca184b2af3868ea21aac31247a53aa5dab44293ed92dfed13807f1428051d6a539fd40f0fdb7e83ac2c8c8811be9ecdaa9725f044db'
-            'd3155ed53b2811e17d3f92f1e1641a09e115c50c8dce686766b138b618925d9e60a1322655394e978fd9e6abc503bbc2601ef1f15ffef63826cb955bd5899554'
+            '5bbcba04093e91718f00ae48571005ace679a44a8996c5f975f6dd7e8431fd703999e10ce35d84b39a5a5e4fa92ce14d8ff8fc771001ff5c5575f4f6f5098625'
+            '47a341531548e1bdc90e9e1e2bc9d7199d9edb6b20815591f8fbc3bc2efc769adc213f3b2550e9f628548fe35be5a854a9cdcc44cc79355e6cff3ae5369e3382'
+            '7d5a6ae362ad92b1886c81ac4779c6d027435ae559e6cd0ea0c3b3aba60e614dc5a6428e720d667b1061ee94065d10e86dfaa0c17e2eb0a11bc535c3d450d69d'
+            '444939266564bf418c2dd7fc3c15353818da85fc35e970257d6b79ea62cc1225f68979ef5e5aa7e88e84f4e07b269d1973f9f578edfcc10a50f35b545700cb53'
             'e2d71432836855192bee9ccf45781aef797d0112a0444684c782a5310cec35ff96793c2d4aba80ad2e71b789839f4fa1c70eb175be09a1c92e747639b0f6ab3e'
-            'ec76f0c9b02a8f0a8633d752ebdb80ac7c4d5c71dfd9916cc9140d446bae8e09755db8d40eca87fbb08d21c31db80ec977f307c497f0d731087c73a1df9ea0c7'
-            '00aef90b785a703d536813616eeec7057eeaf681b83bc35c6c4b597df298ccb6bbd97f97845c7570788e7f063d94b4c62e359ccc698fcaeff17ce472bc1b9225'
+            '8bae9f210c6795af933dd2b50efc1dda614f4dfdc4fa8d645a1612c7f365e1450800855677f0f2b27b386d5cc5091cd9e7381e8cf4603a4e2fc60ecbe0825b7b'
+            '2a2acffb345b35236e872fcc43faf77008cf8fcad01d17a2b080f3599a6d75cff4e166ee049b81161ab32ad1437501a7b130de8b86b71d15c5689f282f7e86da'
+            '0249257a1c50e58cfddd76bfc89a437e02fdae367c3949a9fb678bb9314f149d0c7e3c257a8c0db33d68008315f8ccd0da2aba47f583e19c8ce6c403771ec14a'
             '580677aad97093829090d4b605ac81c50327e74a6c2de0b85dd2e8525553f3ddde17556ea46f8f007f89e435493c9a20bc997d1ef1c1c2c23274528e3c46b94f'
-            '53ba7921add31048adb7ae0fc442d819bf2e9dae5341163770cfc165795b80b19e81aa281f90757a637929acfff200c50ab1c1d09e8612e7a50cd0c3a6e374ba')
+            '09cb3eed78d41444b336e5a7bbcc1ca3679ad7c625ecdceb6d5d3b6430baa924b7da3dd4befdf068f2124ecf9fe986f1cc4d7b3b97177a8117af0acb182e63c8')
 validpgpkeys=('2CC8A0609AD2A479C65B6D5C8E8B898CBF2412F9')  # Weng Xuetian
 
 pkgver(){
@@ -100,6 +104,7 @@
   SHA256_ZIP_CODE_KEN_ALL=$(sha256sum ken_all.zip | cut -d' ' -f1);
   SHA256_ZIP_CODE_JIGYOSYO=$(sha256sum jigyosyo.zip | cut -d' ' -f1);
   cd "$srcdir/mozc"
+  git config --global protocol.file.allow always
   git submodule init
   git config submodule.src/third_party/breakpad.url "$srcdir/breakpad"
   git config submodule.src/third_party/gtest.url "$srcdir/googletest"
@@ -108,7 +113,7 @@
   git config submodule.src/third_party/wil.url "$srcdir/wil"
   git config submodule.src/third_party/protobuf.url "$srcdir/protobuf"
   git config submodule.src/third_party/abseil-cpp.url "$srcdir/abseil-cpp"
-  git -c protocol.file.allow=always submodule update
+  git submodule update
 
   sed -e "s|SHA256_ZIP_CODE_KEN_ALL = \(.*\)|SHA256_ZIP_CODE_KEN_ALL = \"${SHA256_ZIP_CODE_KEN_ALL}\"|" \
       -e "s|SHA256_ZIP_CODE_JIGYOSYO = \(.*\)|SHA256_ZIP_CODE_JIGYOSYO = \"${SHA256_ZIP_CODE_JIGYOSYO}\"|" \


############# Stripped diff below #################



--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -2,6 +2,7 @@
 SHA256_ZIP_CODE_KEN_ALL=$(sha256sum ken_all.zip | cut -d' ' -f1);
 SHA256_ZIP_CODE_JIGYOSYO=$(sha256sum jigyosyo.zip | cut -d' ' -f1);
 cd "$srcdir/mozc"
+git config --global protocol.file.allow always
 git submodule init
 git config submodule.src/third_party/breakpad.url "$srcdir/breakpad"
 git config submodule.src/third_party/gtest.url "$srcdir/googletest"
@@ -10,7 +11,7 @@
 git config submodule.src/third_party/wil.url "$srcdir/wil"
 git config submodule.src/third_party/protobuf.url "$srcdir/protobuf"
 git config submodule.src/third_party/abseil-cpp.url "$srcdir/abseil-cpp"
-git -c protocol.file.allow=always submodule update
+git submodule update
 sed -e "s|SHA256_ZIP_CODE_KEN_ALL = \(.*\)|SHA256_ZIP_CODE_KEN_ALL = \"${SHA256_ZIP_CODE_KEN_ALL}\"|" \
 -e "s|SHA256_ZIP_CODE_JIGYOSYO = \(.*\)|SHA256_ZIP_CODE_JIGYOSYO = \"${SHA256_ZIP_CODE_JIGYOSYO}\"|" \
 -i src/config.bzl src/MODULE.bazel
