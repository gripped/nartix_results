--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,6 +1,6 @@
 
 pkgname=upower
-pkgver=1.91.0
+pkgver=1.90.10
 pkgrel=1
 pkgdesc="Abstraction for enumerating power devices, listening to device events and querying history and statistics"
 url="https://upower.freedesktop.org"
@@ -23,7 +23,7 @@
   gtk-doc
   meson
   python
-  systemd
+  udev
   usbmuxd
 )
 optdepends=('usbmuxd: Read charge status of iOS devices')
@@ -36,18 +36,14 @@
 )
 backup=(etc/UPower/UPower.conf)
 source=("git+https://gitlab.freedesktop.org/upower/upower.git#tag=v$pkgver")
-b2sums=('bb380be157f1b32537a275ca5e90c3283f94f9642dd51531e59b9da8593880f13af09ca685776c6ed53cb3bc3df4b45b77306f950ee74b259ec8bc857bba0d78')
+b2sums=('bd3add1a05b237576b6829e92fb83535d5be3d9fe1b46d29fb388984cc6d54684abd6d0ad1482f148a138916528f0f4e9c4252f13b636b3c9359dbcea51c384a')
 
 prepare() {
   cd upower
 }
 
 build() {
-  local meson_options=(
-    -D installed_tests=false
-  )
-
-  arch-meson upower build "${meson_options[@]}"
+  artix-meson -D systemdsystemunitdir=no upower build
   meson compile -C build
 }
 
@@ -60,5 +56,7 @@
   provides+=(libupower-glib.so)
 
   meson install -C build --destdir "$pkgdir"
+
+  rm -rv "$pkgdir"/usr/{lib/upower,share/installed-tests}
 }
 


############# Stripped diff below #################

--- arch_depends
+++ artix_depends
@@ -15,5 +15,5 @@
 meson
 polkit
 python
-systemd
+udev
 usbmuxd