--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -6,7 +6,7 @@
 url="http://www.bluez.org/"
 arch=('x86_64')
 license=('GPL-2.0-only')
-makedepends=('dbus' 'libical' 'systemd' 'alsa-lib' 'json-c' 'ell' 'python-docutils' 'python-pygments' 'cups')
+makedepends=('dbus' 'libical' 'alsa-lib' 'json-c' 'ell' 'python-docutils' 'python-pygments' 'cups')
 source=(https://www.kernel.org/pub/linux/bluetooth/${pkgname}-${pkgver}.tar.{xz,sign}
         bluetooth.modprobe)
 sha256sums=('5d032fdc1d4a085813554f57591e2e1fb0ceb2b3616ee56f689bc00e1d150812'
@@ -23,6 +23,8 @@
           --localstatedir=/var \
           --libexecdir=/usr/lib \
           --with-dbusconfdir=/usr/share \
+          --with-udevdir=/usr/lib/udev \
+          --disable-systemd \
           --enable-btpclient \
           --enable-midi \
           --enable-sixaxis \
@@ -60,17 +62,17 @@
 
 package_bluez() {
   pkgdesc="Daemons for the bluetooth protocol stack"
-  depends=('systemd-libs' 'dbus' 'glib2' 'alsa-lib' 'glibc')
+  depends=('dbus' 'glib2' 'alsa-lib' 'glibc')
   backup=(etc/bluetooth/{main,input,network}.conf)
 
-  _install fakeinstall/etc/bluetooth/main.conf
-  _install fakeinstall/etc/bluetooth/input.conf
-  _install fakeinstall/etc/bluetooth/network.conf
   _install fakeinstall/usr/lib/bluetooth/bluetoothd
-  _install fakeinstall/usr/lib/systemd/system/bluetooth.service
-  _install fakeinstall/usr/share/dbus-1/system-services/org.bluez.service
   _install fakeinstall/usr/share/dbus-1/system.d/bluetooth.conf
   _install fakeinstall/usr/share/man/man8/bluetoothd.8
+
+  install -dm555 "${pkgdir}"/etc/bluetooth
+  install -Dm644 "${srcdir}"/"${pkgbase}"-${pkgver}/src/main.conf "${pkgdir}"/etc/bluetooth/main.conf
+  install -Dm644 "${srcdir}"/"${pkgbase}"-${pkgver}/profiles/input/input.conf "${pkgdir}"/etc/bluetooth/input.conf
+  install -Dm644 "${srcdir}"/"${pkgbase}"-${pkgver}/profiles/network/network.conf "${pkgdir}"/etc/bluetooth/network.conf
 
   chmod -v 555 "${pkgdir}"/etc/bluetooth
 
@@ -84,7 +86,7 @@
 
 package_bluez-utils() {
   pkgdesc="Development and debugging utilities for the bluetooth protocol stack"
-  depends=('dbus' 'systemd-libs' 'glib2' 'glibc' 'readline')
+  depends=('dbus' 'glib2' 'glibc' 'readline')
   optdepends=('ell: for btpclient')
   provides=('bluez-plugins')
   replaces=('bluez-plugins')
@@ -99,7 +101,7 @@
 
 package_bluez-deprecated-tools() {
   pkgdesc="Deprecated tools that are no longer maintained"
-  depends=('json-c' 'systemd-libs' 'glib2' 'dbus' 'readline' 'glibc')
+  depends=('json-c' 'glib2' 'dbus' 'readline' 'glibc')
 
   _install fakeinstall/usr/bin/{ciptool,hciattach,hciconfig,hcidump,hcitool,meshctl,rfcomm,sdptool}
   _install fakeinstall/usr/share/man/man1/{ciptool,hciattach,hciconfig,hcidump,hcitool,rfcomm,sdptool}.1
@@ -126,7 +128,7 @@
 
 package_bluez-hid2hci() {
   pkgdesc="Put HID proxying bluetooth HCI's into HCI mode"
-  depends=('systemd-libs' 'glibc')
+  depends=('glibc')
 
   _install fakeinstall/usr/lib/udev/*
   _install fakeinstall/usr/share/man/man1/hid2hci.1
@@ -137,15 +139,13 @@
   depends=('json-c' 'readline' 'glibc')
   backup=('etc/bluetooth/mesh-main.conf')
 
-  _install fakeinstall/etc/bluetooth/mesh-main.conf
   _install fakeinstall/usr/bin/{mesh-cfgclient,mesh-cfgtest}
   _install fakeinstall/usr/lib/bluetooth/bluetooth-meshd
-  _install fakeinstall/usr/lib/systemd/system/bluetooth-mesh.service
-  _install fakeinstall/usr/share/dbus-1/system-services/org.bluez.mesh.service
   _install fakeinstall/usr/share/dbus-1/system.d/bluetooth-mesh.conf
   _install fakeinstall/usr/share/man/man8/bluetooth-meshd.8
 
-  chmod -v 555 "${pkgdir}"/etc/bluetooth
+  install -dm555 "${pkgdir}"/etc/bluetooth
+  install -Dm644 "${srcdir}"/"${pkgbase}"-${pkgver}/mesh/mesh-main.conf "${pkgdir}"/etc/bluetooth/mesh-main.conf
 }
 
 package_bluez-obex() {
@@ -154,11 +154,11 @@
 
   _install fakeinstall/usr/bin/{obexctl,obex-client-tool,obex-server-tool}
   _install fakeinstall/usr/lib/bluetooth/obexd
-  _install fakeinstall/usr/lib/systemd/user/obex.service
-  _install fakeinstall/usr/share/dbus-1/services/org.bluez.obex.service
-  _install fakeinstall/usr/lib/systemd/user/dbus-org.bluez.obex.service
   _install fakeinstall/usr/share/man/man5/org.bluez.obex*.5
 
-  rm fakeinstall/usr/lib/libbluetooth.la
-  find fakeinstall -depth -print0 | xargs -0 rmdir
+  install -Dm644 /dev/stdin "$pkgdir"/usr/share/dbus-1/services/org.bluez.obex.service <<EOF
+[D-BUS Service]
+Name=org.bluez.obex
+Exec=/usr/lib/bluetooth/obexd
+EOF
 }


############# Stripped diff below #################

--- arch_depends
+++ artix_depends
@@ -9,5 +9,3 @@
 python-docutils
 python-pygments
 readline
-systemd
-systemd-libs