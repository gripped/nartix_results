--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -9,27 +9,21 @@
          lapack64
          lapacke64
          lapack-doc)
-pkgver=3.12.1
-pkgrel=1
+pkgver=3.12.0
+pkgrel=5
 url='https://www.netlib.org/lapack'
 pkgdesc='Linear Algebra PACKage'
 makedepends=(cmake
-             git
              doxygen
              gcc-fortran
              python)
 arch=(x86_64)
 license=(custom)
-source=(git+https://github.com/Reference-LAPACK/lapack#tag=v$pkgver)
-sha256sums=('becc909c9de915016625746eead3024ac77d462d8fde26d0c18db2ca57146067')
-
-prepare() {
-  cd $pkgbase
-  git cherry-pick -n f5103fc3b42fcff40e70b1fa4b5567df01dae9bc 3aa877584bcc96e1a0ee37742628946c56afc15f
-}
+source=(https://github.com/Reference-LAPACK/lapack/archive/v$pkgver/$pkgbase-$pkgver.tar.gz)
+sha256sums=('eac9570f8e0ad6f30ce4b963f4f033f0f643e7c3912fc9ee6cd99120675ad48b')
 
 build() {
-  cmake -B build -S $pkgbase \
+  cmake -B build -S $pkgbase-$pkgver \
     -DCMAKE_SKIP_RPATH=ON \
     -DBUILD_SHARED_LIBS=ON \
     -DBUILD_TESTING=OFF \
@@ -42,7 +36,7 @@
   cmake --build build
   cmake --build build --target man
 
-  cmake -B build64 -S $pkgbase \
+  cmake -B build64 -S $pkgbase-$pkgver \
     -DCMAKE_SKIP_RPATH=ON \
     -DBUILD_SHARED_LIBS=ON \
     -DBUILD_TESTING=OFF \
@@ -61,7 +55,7 @@
            glibc)
 
   DESTDIR="$pkgdir" cmake --install build
-  install -Dm644 $pkgbase/LICENSE -t "$pkgdir"/usr/share/licenses/$pkgname/
+  install -Dm644 $pkgbase-$pkgver/LICENSE -t "$pkgdir"/usr/share/licenses/$pkgname/
 
   rm -r "$pkgdir"/usr/lib/{libblas.*,libcblas.*,liblapacke.*}
   rm -r "$pkgdir"/usr/lib/pkgconfig/{blas.*,cblas.*,lapacke.*}
@@ -75,7 +69,7 @@
            glibc)
 
   DESTDIR="$pkgdir" cmake --install build/BLAS
-  install -Dm644 $pkgbase/LICENSE -t "$pkgdir"/usr/share/licenses/$pkgname/
+  install -Dm644 $pkgbase-$pkgver/LICENSE -t "$pkgdir"/usr/share/licenses/$pkgname/
 }
 
 package_cblas() {
@@ -84,7 +78,7 @@
            glibc)
 
   DESTDIR="$pkgdir" cmake --install build/CBLAS
-  install -Dm644 $pkgbase/LICENSE -t "$pkgdir"/usr/share/licenses/$pkgname/
+  install -Dm644 $pkgbase-$pkgver/LICENSE -t "$pkgdir"/usr/share/licenses/$pkgname/
 }
 
 package_lapacke() {
@@ -93,7 +87,7 @@
            lapack)
 
   DESTDIR="$pkgdir" cmake --install build/LAPACKE
-  install -Dm644 $pkgbase/LICENSE -t "$pkgdir"/usr/share/licenses/$pkgname/
+  install -Dm644 $pkgbase-$pkgver/LICENSE -t "$pkgdir"/usr/share/licenses/$pkgname/
 }
 
 package_lapack64() {
@@ -103,7 +97,7 @@
            glibc)
 
   DESTDIR="$pkgdir" cmake --install build64
-  install -Dm644 $pkgbase/LICENSE -t "$pkgdir"/usr/share/licenses/$pkgname/
+  install -Dm644 $pkgbase-$pkgver/LICENSE -t "$pkgdir"/usr/share/licenses/$pkgname/
 
   rm -r "$pkgdir"/usr/lib/{libblas64.*,libcblas64.*,liblapacke64.*}
   rm -r "$pkgdir"/usr/lib/pkgconfig/{blas64.*,cblas64.*,lapacke64.*}
@@ -117,7 +111,7 @@
            glibc)
 
   DESTDIR="$pkgdir" cmake --install build64/BLAS
-  install -Dm644 $pkgbase/LICENSE -t "$pkgdir"/usr/share/licenses/$pkgname/
+  install -Dm644 $pkgbase-$pkgver/LICENSE -t "$pkgdir"/usr/share/licenses/$pkgname/
 }
 
 package_cblas64() {
@@ -127,7 +121,7 @@
   optdepends=('cblas: development headers')
 
   DESTDIR="$pkgdir" cmake --install build64/CBLAS
-  install -Dm644 $pkgbase/LICENSE -t "$pkgdir"/usr/share/licenses/$pkgname/
+  install -Dm644 $pkgbase-$pkgver/LICENSE -t "$pkgdir"/usr/share/licenses/$pkgname/
   rm -r "$pkgdir"/usr/include # Provided by cblas
 }
 
@@ -138,7 +132,7 @@
   optdepends=('lapacke: development headers')
 
   DESTDIR="$pkgdir" cmake --install build64/LAPACKE
-  install -Dm644 $pkgbase/LICENSE -t "$pkgdir"/usr/share/licenses/$pkgname/
+  install -Dm644 $pkgbase-$pkgver/LICENSE -t "$pkgdir"/usr/share/licenses/$pkgname/
   rm -r "$pkgdir"/usr/include # Provided by lapacke
 }
 


############# Stripped diff below #################

--- arch_depends
+++ artix_depends
@@ -4,7 +4,6 @@
 doxygen
 gcc-fortran
 gcc-libs
-git
 glibc
 lapack
 lapack64

--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,9 +1,5 @@
-prepare() {
-cd $pkgbase
-git cherry-pick -n f5103fc3b42fcff40e70b1fa4b5567df01dae9bc 3aa877584bcc96e1a0ee37742628946c56afc15f
-}
 build() {
-cmake -B build -S $pkgbase \
+cmake -B build -S $pkgbase-$pkgver \
 -DCMAKE_SKIP_RPATH=ON \
 -DBUILD_SHARED_LIBS=ON \
 -DBUILD_TESTING=OFF \
@@ -15,7 +11,7 @@
 -DBUILD_MAN_DOCUMENTATION=ON
 cmake --build build
 cmake --build build --target man
-cmake -B build64 -S $pkgbase \
+cmake -B build64 -S $pkgbase-$pkgver \
 -DCMAKE_SKIP_RPATH=ON \
 -DBUILD_SHARED_LIBS=ON \
 -DBUILD_TESTING=OFF \
