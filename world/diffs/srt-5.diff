--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,15 +1,13 @@
 
 pkgname=srt
-pkgver=1.5.4
-pkgrel=1
+pkgver=1.5.3
+pkgrel=2
 pkgdesc="Secure Reliable Transport library"
 url="https://www.srtalliance.org/"
 arch=(x86_64)
-license=(MPL-2.0)
+license=(MPL2)
 depends=(
-  bash
   gcc-libs
-  glibc
   openssl
 )
 makedepends=(
@@ -17,8 +15,14 @@
   git
   ninja
 )
-source=("git+https://github.com/Haivision/srt#tag=v$pkgver")
-b2sums=('d0d7be25c29a3ce8ada61d721813a8a5235751dfc0e2fa28072e3b9fb5bc9131da405db0cc5163339ba14bf05ddec1a861ceee749a31c171d61555885921ea39')
+_commit=09f35c0f1743e23f514cb41444504a7faeacf89e  # tags/v1.5.3
+source=("git+https://github.com/Haivision/srt#commit=$_commit")
+b2sums=('44aed3d87f693244dbaa145f3987ccf5d3294145b1eedaafccf9d88eecdea628e1abd19fbec4588cef0b1390e18aa51dc606cbc9b8c7f7cf09405eea1d6c8f95')
+
+pkgver() {
+  cd srt
+  git describe --tags | sed 's/^v//;s/[^-]*-g/r&/;s/-/+/g'
+}
 
 prepare() {
   cd srt
@@ -28,7 +32,7 @@
   local cmake_options=(
     -DCMAKE_INSTALL_PREFIX=/usr
     -DCMAKE_BUILD_TYPE=None
-    -DENABLE_STATIC=OFF
+    -DENABLE_STATIC=ON
     -DENABLE_TESTING=ON
   )
 


############# Stripped diff below #################

--- arch_depends
+++ artix_depends
@@ -1,7 +1,5 @@
-bash
 cmake
 gcc-libs
 git
-glibc
 ninja
 openssl

--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -5,7 +5,7 @@
 local cmake_options=(
 -DCMAKE_INSTALL_PREFIX=/usr
 -DCMAKE_BUILD_TYPE=None
--DENABLE_STATIC=OFF
+-DENABLE_STATIC=ON
 -DENABLE_TESTING=ON
 )
 cmake -S srt -B build -G Ninja "${cmake_options[@]}"
