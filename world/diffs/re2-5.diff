--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,45 +1,31 @@
 
 pkgname=re2
-pkgrel=1
-epoch=2
-pkgver=2025.11.05
+_re2ver=2024-07-02
+pkgrel=7
+epoch=1
+pkgver=${_re2ver//-}
 pkgdesc="Fast, safe, thread-friendly regular expression engine"
 arch=('x86_64')
 url="https://github.com/google/re2"
 license=('BSD-3-Clause')
-depends=('gcc-libs' 'glibc' 'abseil-cpp')
+depends=('gcc-libs' 'abseil-cpp')
 checkdepends=('gtest' 'benchmark')
-makedepends=('git' 'cmake')
 provides=('libre2.so')
-source=("$pkgname::git+https://github.com/google/re2.git#tag=${pkgver//./-}")
-sha256sums=('13cb4ba61567d496fc8ed0bc31369e81bbe9ef34ce8c7dffe5219093a576e385')
+source=(re2-$pkgver.tar.gz::https://github.com/google/re2/archive/$_re2ver.tar.gz)
+sha256sums=('eb2df807c781601c14a260a507a5bb4509be1ee626024cb45acbd57cb9d4032b')
 
 build() {
-  local cmake_options=(
-    -B build
-    -S $pkgname
-    -W no-dev
-    -D CMAKE_BUILD_TYPE=None
-    -D CMAKE_INSTALL_PREFIX=/usr
-    -D BUILD_SHARED_LIBS=ON
-    -D RE2_BUILD_TESTING=ON
-  )
-  cmake "${cmake_options[@]}"
-  cmake --build build
+  cd $pkgname-$_re2ver
+  make
 }
 
 check() {
-  local excluded_tests=""
-  local ctest_flags=(
-    --test-dir build
-    --output-on-failure
-    --parallel $(nproc)
-    --exclude-regex "$excluded_tests"
-  )
-  ctest "${ctest_flags[@]}"
+  cd $pkgname-$_re2ver
+  make test
 }
 
 package() {
-  DESTDIR="$pkgdir" cmake --install build
-  install -Dm644 $pkgname/LICENSE "$pkgdir/usr/share/licenses/$pkgname/LICENSE"
+  cd $pkgname-$_re2ver
+  make prefix=/usr DESTDIR="$pkgdir" install
+  install -Dm644 LICENSE "$pkgdir/usr/share/licenses/$pkgname/LICENSE"
 }


############# Stripped diff below #################

--- arch_depends
+++ artix_depends
@@ -1,5 +1,2 @@
 abseil-cpp
-cmake
 gcc-libs
-git
-glibc

--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,13 +1,4 @@
 build() {
-local cmake_options=(
--B build
--S $pkgname
--W no-dev
--D CMAKE_BUILD_TYPE=None
--D CMAKE_INSTALL_PREFIX=/usr
--D BUILD_SHARED_LIBS=ON
--D RE2_BUILD_TESTING=ON
-)
-cmake "${cmake_options[@]}"
-cmake --build build
+cd $pkgname-$_re2ver
+make
 }
