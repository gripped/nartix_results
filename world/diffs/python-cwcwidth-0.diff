--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,38 +1,24 @@
 
 pkgname=python-cwcwidth
-pkgver=0.1.10
-pkgrel=1
-pkgdesc="Python bindings for wc(s)width"
+_pkgname=cwcwidth
+pkgver=0.1.9
+pkgrel=3
+pkgdesc="Bindings for wcwidth and wcswidth functions defined in POSIX.1-2001 and POSIX.1-2008"
 arch=('x86_64')
-url="https://github.com/sebastinas/cwcwidth"
+url="https://pypi.org/project/cwcwidth/"
 license=('MIT')
 depends=('glibc')
-makedepends=(
-  'cython'
-  'python-build'
-  'python-installer'
-  'python-setuptools'
-  'python-wheel'
-)
-checkdepends=('python-pytest')
-source=("$url/archive/v$pkgver/${pkgname#python-}-$pkgver.tar.gz")
-sha256sums=('e397913df5eb7902488f609161584c51f3f545336d59d141007a9c2a23be520c')
+makedepends=('python-build' 'python-installer' 'cython' 'python-setuptools' 'python-wheel')
+source=("$_pkgname-$pkgver.tgz::https://github.com/sebastinas/cwcwidth/archive/refs/tags/v$pkgver.tar.gz")
+sha256sums=('a4c4f86de13c1a004dd96329ed7a5b17927789b6dc8164d971c4e8635bd5a8ec')
 
 build() {
-  cd ${pkgname#python-}-$pkgver
-  python -m build --wheel --no-isolation
-}
-
-check() {
-  cd ${pkgname#python-}-$pkgver
-  python -m installer --destdir=tmp_install dist/*.whl
-  local site_packages=$(python -c "import site; print(site.getsitepackages()[0])")
-  cp -r tests "$PWD/tmp_install/$site_packages"
-  (cd "$PWD/tmp_install/$site_packages" && pytest)
+  cd $_pkgname-$pkgver
+  python3 -m build --wheel --no-isolation
 }
 
 package() {
-  cd ${pkgname#python-}-$pkgver
-  python -m installer --destdir="$pkgdir/" dist/*.whl
-  install -vDm644 -t "$pkgdir/usr/share/licenses/$pkgname" LICENSE
+  cd $_pkgname-$pkgver
+  python3 -m installer --destdir="$pkgdir/" dist/*.whl
+  install -Dm644 LICENSE "$pkgdir/usr/share/licenses/$pkgname/LICENSE"
 }


############# Stripped diff below #################



--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,4 +1,4 @@
 build() {
-cd ${pkgname#python-}-$pkgver
-python -m build --wheel --no-isolation
+cd $_pkgname-$pkgver
+python3 -m build --wheel --no-isolation
 }
