--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,18 +1,22 @@
 
 pkgbase=marisa
 pkgname=('marisa' 'perl-marisa' 'python-marisa' 'ruby-marisa')
-pkgver=0.2.7
-pkgrel=1
+pkgver=0.2.6
+pkgrel=20
 arch=('x86_64')
 url="https://github.com/s-yata/marisa-trie"
-license=('BSD-2-Clause OR LGPL-2.1-or-later')
+license=('BSD' 'LGPL')
 makedepends=('python' 'ruby' 'perl' 'swig' 'python-setuptools')
-source=("marisa-trie-$pkgver.tar.gz::https://github.com/s-yata/marisa-trie/archive/v$pkgver.tar.gz")
-sha512sums=('5e162d1e4b6e78e60354c19dbb419088d1d832591a701ee5a844f9e61747b0ec0333732d2832a771e2a1bae7cc9e199a9eae5098e430ff331b4de372ccce4798')
+source=("marisa-trie-$pkgver.tar.gz::https://github.com/s-yata/marisa-trie/archive/v$pkgver.tar.gz"
+        fix-format-security.patch)
+sha512sums=('c094e4b22e1457efdd20f2b978ee421b53e36ed94e4fdbd8944136c0ba23da4f6ba9fe3a2c64729c1426aee4dbe8098bfa5eebb943ae7fdaa4eec760485c564d'
+            '3583f23c55ccd46cefbd757ef3f82dc7a90f14c64ecf69a99ab3467ca1e6aeddf9822be4c4dffcdbb8841d79fe116cfb8eff0e9b44abaadbcbf8d50a10ab1ec9')
 
 prepare() {
   cd marisa-trie-$pkgver
   autoreconf -i
+
+  patch -Np1 -i ../fix-format-security.patch
 }
 
 build() {
@@ -21,7 +25,7 @@
 
   make
 
-  make -C bindings -j1
+  make -C bindings -j1 swig-perl swig-python
 
   cd "$srcdir"/marisa-trie-$pkgver/bindings/perl
   perl Makefile.PL \
@@ -42,10 +46,6 @@
     --with-opt-lib="$srcdir"/marisa-trie-$pkgver/lib/marisa/.libs \
     --vendor
   make
-}
-
-check() {
-  make -C marisa-trie-$pkgver check
 }
 
 package_marisa() {


############# Stripped diff below #################



--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,12 +1,13 @@
 prepare() {
 cd marisa-trie-$pkgver
 autoreconf -i
+patch -Np1 -i ../fix-format-security.patch
 }
 build() {
 cd marisa-trie-$pkgver
 ./configure --prefix=/usr --disable-static --enable-sse2
 make
-make -C bindings -j1
+make -C bindings -j1 swig-perl swig-python
 cd "$srcdir"/marisa-trie-$pkgver/bindings/perl
 perl Makefile.PL \
 INC=-I"$srcdir"/marisa-trie-$pkgver/include \
