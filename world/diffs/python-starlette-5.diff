--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,7 +1,7 @@
 
 _name=starlette
 pkgname=python-$_name
-pkgver=0.38.0
+pkgver=0.37.2
 pkgrel=1
 pkgdesc='The little ASGI framework that shines'
 arch=(any)
@@ -10,6 +10,7 @@
 depends=(
   python
   python-anyio
+  python-typing_extensions
 )
 makedepends=(
   python-build
@@ -32,6 +33,7 @@
   python-sqlalchemy
 )
 optdepends=(
+  'python-exceptiongroup: for collapsing exceptions'
   'python-itsdangerous: for session middleware support'
   'python-jinja: for jinja templates'
   'python-python-multipart: for form parsing'
@@ -39,13 +41,8 @@
   'python-httpx: for test client'
 )
 source=($_name-$pkgver.tar.gz::$url/archive/$pkgver.tar.gz)
-sha512sums=('89b79f8e3daf1567bc69a2f1f6710a0e981a6633cd462eaa1e014e514f4dbdc98fcb592a3750a1055f08bad28908fc763267e7902479553513e96e2db566b63f')
-b2sums=('edcaa8d360f8316fc91f8e32efe778c74bad491c044e2cf5577878a27b840303b34a8f0aa0cc518165a54f28049fb9ed27af4f7e260dc6fc4fbf1f61897237e6')
-
-prepare() {
-  cd $_name-$pkgver
-  sed -i '/"error"/d' pyproject.toml
-}
+sha512sums=('27240c706553e610da05cfc92f818c61e97a891ea7c960fef925a122100a61931cbca973a0995aa1e79d192cda2250139f471929a3f4a7b0f4600d00b6287744')
+b2sums=('489fe0d3148f8f006d32d3e52e82cc2c07d9b1a8e3a3cadabe2aa2eb9dd7e00b35e2093dc1de0cb4a6a4606395ed4d19b26778686216a7f8b55a15e61701c9da')
 
 build() {
   cd $_name-$pkgver


############# Stripped diff below #################

--- arch_depends
+++ artix_depends
@@ -3,4 +3,5 @@
 python-build
 python-hatchling
 python-installer
+python-typing_extensions
 python-wheel

--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,7 +1,3 @@
-prepare() {
-cd $_name-$pkgver
-sed -i '/"error"/d' pyproject.toml
-}
 build() {
 cd $_name-$pkgver
 python -m build --wheel --no-isolation
