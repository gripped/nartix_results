--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,26 +1,26 @@
 
 pkgname=docker
-pkgver=28.5.2
+pkgver=29.0.4
 pkgrel=1
 epoch=1
 pkgdesc='Pack, ship and run any application as a lightweight container'
 arch=('x86_64' 'aarch64')
 url='https://www.docker.com/'
 license=('Apache-2.0')
-depends=('glibc' 'iproute2' 'device-mapper' 'sqlite' 'systemd-libs'
-         'libseccomp' 'libtool' 'runc' 'containerd')
-makedepends=('git' 'go' 'btrfs-progs' 'cmake' 'systemd' 'go-md2man' 'sed')
+depends=('glibc' 'iproute2' 'device-mapper' 'sqlite' 'libudev'
+         'libseccomp' 'libtool' 'nftables' 'runc' 'containerd')
+makedepends=('git' 'go' 'btrfs-progs' 'cmake' 'udev' 'go-md2man' 'sed')
 optdepends=('btrfs-progs: btrfs backend support'
             'pigz: parallel gzip compressor support'
             'docker-buildx: extended build capabilities')
 options=(!lto)
 _TINI_COMMIT=de40ad007797e0dcd8b7126f27bb87401d224240
 source=("git+https://github.com/docker/cli.git#tag=v$pkgver"
-        "git+https://github.com/moby/moby.git#tag=v$pkgver"
+        "git+https://github.com/moby/moby.git#tag=docker-v$pkgver"
         "git+https://github.com/krallin/tini.git#commit=$_TINI_COMMIT"
         "$pkgname.sysusers")
-sha256sums=('0f85e047209c6016df9101cc27ce16cdddc2bb2ba880749b51ce2331c1c51812'
-            '326220f772416c47d5eee61c550db87583a04385bdb04438c8e342116e8cbe04'
+sha256sums=('59808078877ca3d06ed495e9bd2378f6953be9a474fbabdb2ecbbd30fd19e784'
+            '2d7a29d4992db1427fcf4e5efd4d5a8ba31f01f478cc96db28b19611e88db624'
             '28a6641d508f60d47315efb3c85d97360188750a45bd6d3c8737d3f1a2b44121'
             '541826011a9836d05a2f42293d5f1beadf2ca8d89fb604487d61a013505678eb')
 
@@ -65,9 +65,9 @@
   _fake_gopath_popd
 
   echo 'Building daemon'
-  _fake_gopath_pushd moby github.com/docker/docker
+  _fake_gopath_pushd moby github.com/moby/moby/v2
   DOCKER_GITCOMMIT=$(cd "$srcdir"/moby && git rev-parse --short HEAD) \
-    DOCKER_BUILDTAGS='seccomp journald apparmor' \
+    DOCKER_BUILDTAGS='seccomp apparmor' \
     VERSION=$pkgver \
     hack/make.sh dynbinary
   _fake_gopath_popd
@@ -84,9 +84,6 @@
   install -Dm755 moby/bundles/dynbinary-daemon/dockerd "$pkgdir"/usr/bin/dockerd
   install -Dm755 moby/bundles/dynbinary-daemon/docker-proxy "$pkgdir/usr/bin/docker-proxy"
   cd "$srcdir"/moby/contrib
-  install -Dm644 'init/systemd/docker.service' "$pkgdir/usr/lib/systemd/system/docker.service"
-  install -Dm644 'init/systemd/docker.socket' "$pkgdir/usr/lib/systemd/system/docker.socket"
-  install -Dm644 'udev/80-docker.rules' "$pkgdir/usr/lib/udev/rules.d/80-docker.rules"
   install -Dm644 "$srcdir/$pkgname.sysusers" "$pkgdir/usr/lib/sysusers.d/$pkgname.conf"
   cd "$srcdir"/cli
   install -Dm755 build/docker "$pkgdir/usr/bin/docker"


############# Stripped diff below #################

--- arch_depends
+++ artix_depends
@@ -9,8 +9,9 @@
 iproute2
 libseccomp
 libtool
+libudev
+nftables
 runc
 sed
 sqlite
-systemd
-systemd-libs
+udev