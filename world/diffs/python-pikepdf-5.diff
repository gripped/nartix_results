--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,7 +1,7 @@
 
 pkgname=python-pikepdf
-pkgver=9.0.0
-pkgrel=1
+pkgver=8.15.1
+pkgrel=2
 pkgdesc='Read and write PDFs with Python, powered by qpdf'
 arch=(x86_64)
 url='https://github.com/pikepdf/pikepdf'
@@ -9,12 +9,13 @@
 depends=(gcc-libs
          glibc
          python
+         python-deprecated
          python-lxml
+         python-numpy
          python-packaging
          python-pillow
          qpdf)
-makedepends=(git
-             pybind11
+makedepends=(pybind11
              python-build
              python-installer
              python-setuptools
@@ -23,23 +24,23 @@
 checkdepends=(python-hypothesis
               python-psutil
               python-pytest-xdist)
-source=(git+https://github.com/pikepdf/pikepdf#tag=v$pkgver)
-sha256sums=('18387715d89f4776324d04794ae2b2ebd9991edce8606c9700af45c7cf6bbb19')
+source=(https://github.com/pikepdf/pikepdf/archive/v$pkgver/$pkgname-$pkgver.tar.gz)
+sha256sums=('b6e201eb0c80a9cc814749c00205177ea29ff6ffb238197fbd045c3cfa0c54c6')
 
 build() {
-  cd pikepdf
+  cd pikepdf-$pkgver
   python -m build --wheel --no-isolation
 }
 
 check() {
-  cd pikepdf
+  cd pikepdf-$pkgver
   python -m venv --system-site-packages test-env
   test-env/bin/python -m installer dist/*.whl
-  test-env/bin/python -m pytest -v
+  test-env/bin/python -m pytest
 }
 
 package() {
-  cd pikepdf
+  cd pikepdf-$pkgver
   python -m installer --destdir="$pkgdir" dist/*.whl
   install -Dm644 LICENSE.txt -t "$pkgdir"/usr/share/licenses/$pkgname
 }


############# Stripped diff below #################

--- arch_depends
+++ artix_depends
@@ -1,11 +1,12 @@
 gcc-libs
-git
 glibc
 pybind11
 python
 python-build
+python-deprecated
 python-installer
 python-lxml
+python-numpy
 python-packaging
 python-pillow
 python-setuptools

--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,4 +1,4 @@
 build() {
-cd pikepdf
+cd pikepdf-$pkgver
 python -m build --wheel --no-isolation
 }
