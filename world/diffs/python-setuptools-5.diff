--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -4,7 +4,7 @@
 pkgname=python-setuptools
 _name=${pkgname#python-}
 pkgver=80.9.0
-pkgrel=2
+pkgrel=1
 epoch=1
 pkgdesc="Easily download, build, install, upgrade, and uninstall Python packages"
 arch=('any')
@@ -30,8 +30,6 @@
 )
 if (( _bootstrap == 0 )); then
   makedepends+=(
-    'python-build'
-    'python-installer'
     'python-setuptools'
   )
 fi
@@ -75,6 +73,8 @@
 prepare() {
   if (( _bootstrap == 0 )); then
     cd "$_name"
+    git revert --no-commit 9a81db3c77bc106017dcd4b0853a5a94f43ae33c
+
     sed '/^core =/,/]/!d' pyproject.toml > ../requirements.txt
     sed -i '1d;$d' ../requirements.txt
     sed -i '/^dependencies =/ {
@@ -111,7 +111,7 @@
 
   if (( _bootstrap == 0 )); then
     cd "$_name"
-    python -m build --wheel --skip-dependency-check --no-isolation
+    python setup.py build
   else
     cd python-bootstrap
     python -m bootstrap.build
@@ -140,12 +140,9 @@
   local site_packages=$(python -c "import site; print(site.getsitepackages()[0])")
 
   if (( _bootstrap == 0 )); then
-    install -d "$pkgdir"/usr/share/licenses/$pkgname
-    ln -s "$site_packages"/"$_name"-$pkgver.dist-info/licenses/LICENSE \
-      "$pkgdir"/usr/share/licenses/$pkgname
-
     cd "$_name"
-    python -m installer --destdir="$pkgdir" dist/*.whl
+    python setup.py install --prefix=/usr --root="$pkgdir" --optimize=1 --skip-build
+    install -Dm644 -t "$pkgdir"/usr/share/licenses/$pkgname LICENSE
   else
     cd python-bootstrap
     python -m bootstrap.install dist/"$_name"-*-py3-none-any.whl -d "$pkgdir"


############# Stripped diff below #################

--- arch_depends
+++ artix_depends
@@ -1,7 +1,5 @@
 git
 python
-python-build
-python-installer
 python-jaraco.collections
 python-jaraco.functools
 python-jaraco.text

--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,6 +1,7 @@
 prepare() {
 if (( _bootstrap == 0 )); then
 cd "$_name"
+git revert --no-commit 9a81db3c77bc106017dcd4b0853a5a94f43ae33c
 sed '/^core =/,/]/!d' pyproject.toml > ../requirements.txt
 sed -i '1d;$d' ../requirements.txt
 sed -i '/^dependencies =/ {
@@ -30,7 +31,7 @@
 export SETUPTOOLS_INSTALL_WINDOWS_SPECIFIC_FILES=0
 if (( _bootstrap == 0 )); then
 cd "$_name"
-python -m build --wheel --skip-dependency-check --no-isolation
+python setup.py build
 else
 cd python-bootstrap
 python -m bootstrap.build
