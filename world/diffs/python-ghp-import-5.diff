--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,29 +1,26 @@
 
 pkgname=python-ghp-import
+_pkgname=ghp-import
 pkgver=2.1.0
-pkgrel=5
-pkgdesc='Easily import docs to your gh-pages branch'
+pkgrel=4
+pkgdesc='Copy your docs directly to the gh-pages branch'
 arch=('any')
-url="https://github.com/c-w/ghp-import"
-license=('Apache-2.0')
+url="https://pypi.python.org/pypi/ghp-import"
+license=(custom:Tumbolia)
 depends=('python')
-makedepends=(
-  'python-build'
-  'python-installer'
-  'python-setuptools'
-  'python-wheel'
-)
+makedepends=('python-setuptools' 'git')
 replaces=('ghp-import')
 conflicts=('ghp-import')
-source=("$url/archive/$pkgver/${pkgname#python-}-$pkgver.tar.gz")
-sha512sums=('cc258745a972b883e6e5b2dc12601e74305237c1950f95c5a86093e0ebeb0c7eb2192470b2e85ab9ac274bfbc87abe2438750d4f59b3846032fb13f567b04f5b')
+source=("${_pkgname}-${pkgver}.tar.gz::https://pypi.python.org/packages/source/${_pkgname::1}/${_pkgname}/${_pkgname}-${pkgver}.tar.gz")
+sha512sums=('10665a1a6392fe047d1e42d7f107511b1a31de02625200e7db1c637f33dc8dc41ec71c2db4f562c6e94a4efb4836efef8a29177d953d99fe17a889169074050c')
 
 build() {
-  cd ${pkgname#python-}-$pkgver
-  python -m build --wheel --no-isolation
+  cd "${srcdir}/${_pkgname}-${pkgver}"
+  LC_CTYPE=en_US.UTF-8 python setup.py build
 }
 
 package() {
-  cd ${pkgname#python-}-$pkgver
-  python -m installer --destdir="$pkgdir" dist/*.whl
+  cd "${srcdir}/${_pkgname}-${pkgver}"
+  LC_CTYPE=en_US.UTF-8 python setup.py install --root="$pkgdir" -O1
+  install -Dm644 LICENSE "${pkgdir}/usr/share/licenses/${pkgname}/LICENSE"
 }


############# Stripped diff below #################

--- arch_depends
+++ artix_depends
@@ -1,5 +1,3 @@
+git
 python
-python-build
-python-installer
 python-setuptools
-python-wheel

--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,4 +1,4 @@
 build() {
-cd ${pkgname#python-}-$pkgver
-python -m build --wheel --no-isolation
+cd "${srcdir}/${_pkgname}-${pkgver}"
+LC_CTYPE=en_US.UTF-8 python setup.py build
 }
