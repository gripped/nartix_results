--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,7 +1,7 @@
 
 pkgname=freeglut
 pkgver=3.6.0
-pkgrel=1
+pkgrel=2
 pkgdesc="Free OpenGL Utility Toolkit"
 url="https://freeglut.sourceforge.net/"
 arch=(x86_64)
@@ -28,6 +28,10 @@
 
 prepare() {
   cd freeglut
+
+  git cherry-pick -n 2294389397912c9a6505a88221abb7dca0a4fb79
+
+  git cherry-pick -n 800772e993a3ceffa01ccf3fca449d3279cde338
 }
 
 build() {
@@ -37,14 +41,12 @@
     -D CMAKE_INSTALL_PREFIX=/usr
     -D FREEGLUT_BUILD_STATIC_LIBS=OFF
   )
-
   cmake -S freeglut -B build -G Ninja "${cmake_options[@]}"
   cmake --build build
 }
 
 check() {
-  cd build
-  ctest --output-on-failure --stop-on-failure -j$(nproc)
+  ctest --test-dir build --output-on-failure --stop-on-failure -j$(nproc)
 }
 
 package() {


############# Stripped diff below #################



--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,5 +1,7 @@
 prepare() {
 cd freeglut
+git cherry-pick -n 2294389397912c9a6505a88221abb7dca0a4fb79
+git cherry-pick -n 800772e993a3ceffa01ccf3fca449d3279cde338
 }
 build() {
 local cmake_options=(
