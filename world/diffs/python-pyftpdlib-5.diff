--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,17 +1,13 @@
 
 pkgname=python-pyftpdlib
 _pkgname=${pkgname#python-}
-pkgver=2.0.0
-pkgrel=2
+pkgver=1.5.10
+pkgrel=1
 pkgdesc="Extremely fast and scalable Python FTP server library"
 arch=(any)
 url="https://github.com/giampaolo/pyftpdlib"
 license=(MIT)
-depends=(
-  python
-  python-pyasynchat
-  python-pyasyncore
-)
+depends=(python)
 makedepends=(
   python-build
   python-installer
@@ -27,26 +23,32 @@
   'python-pyopenssl: FTPS support'
   'python-psutil: to keep track of FTP server memory usage'
 )
-source=("$pkgname-$pkgver.tar.gz::$url/archive/release-$pkgver.tar.gz")
-sha256sums=('272b33844bb22118826368b3974f1460a58426c5325f96cc1d6aaf7550d14fa6')
+source=("$pkgname-$pkgver.tar.gz::$url/archive/release-$pkgver/release-$pkgver.tar.gz")
+sha256sums=('993a48b652c0a2ab9af898fd3acbe422e8558ba91d1451eec20db2584a0178de')
+
+_archive="$_pkgname-release-$pkgver"
 
 prepare() {
-  cd "$_pkgname-release-$pkgver"
+  cd "$_archive"
+
   sed -i "s/packages=\['pyftpdlib', 'pyftpdlib.test'\]/packages=['pyftpdlib']/" setup.py
 }
 
 build() {
-  cd "$_pkgname-release-$pkgver"
-  python -m build --wheel --no-isolation
+  cd "$_archive"
+
+  python -m build --wheel --no-isolation --skip-dependency-check
 }
 
 check() {
-  cd "$_pkgname-release-$pkgver"
+  cd "$_archive"
+
   pytest
 }
 
 package() {
-  cd "$_pkgname-release-$pkgver"
+  cd "$_archive"
+
   python -m installer --destdir="$pkgdir" dist/*.whl
   install -vDm644 -t "$pkgdir/usr/share/licenses/$pkgname" LICENSE
 }


############# Stripped diff below #################

--- arch_depends
+++ artix_depends
@@ -1,7 +1,5 @@
 python
 python-build
 python-installer
-python-pyasynchat
-python-pyasyncore
 python-setuptools
 python-wheel

--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,8 +1,8 @@
 prepare() {
-cd "$_pkgname-release-$pkgver"
+cd "$_archive"
 sed -i "s/packages=\['pyftpdlib', 'pyftpdlib.test'\]/packages=['pyftpdlib']/" setup.py
 }
 build() {
-cd "$_pkgname-release-$pkgver"
-python -m build --wheel --no-isolation
+cd "$_archive"
+python -m build --wheel --no-isolation --skip-dependency-check
 }
