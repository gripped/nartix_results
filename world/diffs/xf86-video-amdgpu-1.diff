--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,39 +1,42 @@
 
 pkgname=xf86-video-amdgpu
-pkgver=25.0.0
-pkgrel=1
+pkgver=23.0.0
+pkgrel=2.2
 pkgdesc="X.org amdgpu video driver"
 arch=('x86_64')
 url="https://xorg.freedesktop.org/"
 license=('MIT')
-depends=('systemd-libs' 'mesa' 'libdrm' 'glibc')
-makedepends=('xorg-server-devel' 'systemd' 'X-ABI-VIDEODRV_VERSION=25.2' 'meson')
+depends=('libudev' 'mesa' 'libdrm' 'glibc')
+makedepends=('xorg-server-devel' 'udev' 'X-ABI-VIDEODRV_VERSION=25.2')
 conflicts=('xorg-server<1.20.0' 'X-ABI-VIDEODRV_VERSION<25' 'X-ABI-VIDEODRV_VERSION>=26')
 groups=('xorg-drivers')
 source=(${url}/releases/individual/driver/${pkgname}-${pkgver}.tar.xz{,.sig})
-sha512sums=('d143294fead7073c14100299ccab20d1f5eab8b7e36c1770b12aaade958211e1961f4353dc47123c3b9af9f7a911d913def71d25b83dab3dee1d289043869891'
+sha512sums=('bf26f147629a34e84a0ae8435119e170b9c95edafcab1995b63bb8f55abef32f2efbf4536eb070e64b2ae1460424b1b27a4206cb9836d33ddc6dfbee404f718b'
             'SKIP')
 validpgpkeys=('F1111E4AAF984C9763795FFE4B25B5180522B8D9') # Shashank Sharma <contactshashanksharma@gmail.com>
 
 build() {
+  cd ${pkgname}-${pkgver}
+
   export CFLAGS=${CFLAGS/-fno-plt}
   export CXXFLAGS=${CXXFLAGS/-fno-plt}
   export LDFLAGS=${LDFLAGS/-Wl,-z,now}
 
-  arch-meson $pkgname-$pkgver build \
-    -D glamor=enabled
 
-  meson configure build
-
-  meson compile -C build
+  ./configure --prefix=/usr \
+    --enable-glamor
+  make
 }
 
 check() {
-  meson test -C build --print-errorlogs
+  cd ${pkgname}-${pkgver}
+  make check
 }
 
 package() {
-  meson install -C build --destdir "$pkgdir"
-  install -Dvm644 $pkgname-$pkgver/COPYING \
-    "$pkgdir/usr/share/licenses/$pkgname/COPYING"
+  cd ${pkgname}-${pkgver}
+
+  make "DESTDIR=${pkgdir}" install
+  install -m755 -d "${pkgdir}/usr/share/licenses/${pkgname}"
+  install -m644 COPYING "${pkgdir}/usr/share/licenses/${pkgname}/"
 }


############# Stripped diff below #################

--- arch_depends
+++ artix_depends
@@ -1,8 +1,7 @@
 X-ABI-VIDEODRV_VERSION
 glibc
 libdrm
+libudev
 mesa
-meson
-systemd
-systemd-libs
+udev
 xorg-server-devel