--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,29 +1,43 @@
 
 pkgname=certbot-dns-google
-pkgver=5.2.0
+pkgver=2.7.4
 pkgrel=1
 pkgdesc='Google Cloud DNS Authenticator plugin for Certbot'
 arch=('any')
-license=('Apache-2.0')
+license=('Apache')
 url='https://pypi.python.org/pypi/certbot-dns-google'
 depends=(
   "certbot=$pkgver"
   "python-acme=$pkgver"
   'python-google-api-python-client'
+  'python-oauth2client'
   'python-httplib2'
 )
 makedepends=(
   'git'
   'python-build'
+  'python-wheel'
   'python-installer'
-  'python-setuptools'
-  'python-wheel'
 )
 checkdepends=('python-pytest')
+_commit='b62133e3e19367b82b5fde3d5f5ad97e6ced5447'
 _repo='github.com-certbot-certbot'
-source=("$_repo::git+https://github.com/certbot/certbot#tag=v$pkgver")
-sha512sums=('9914dfcf0e6e0fc53e893ecba2d4c207c2b53cde45660122e2106cfa511d0073a1262bafeb81e17b9a73a3a96faa01c73f4ceb2b6810f381eb496ed18a2103e6')
-b2sums=('153ec236ddd387ad4751015273249df3b43bc2dbdcb66c0196163facff2a137df3b72fac2c5390ae69811932341d451778c0976b889f576dc47b75bc30c31a54')
+source=("$_repo::git+https://github.com/certbot/certbot#commit=$_commit")
+b2sums=('SKIP')
+
+pkgver() {
+  cd "$_repo"
+
+  git describe --tags | sed 's/^v//'
+}
+
+prepare() {
+  cd "$_repo/$pkgname"
+
+  sed \
+    -e '/setuptools>=/d' \
+    -i setup.py
+}
 
 build() {
   cd "$_repo/$pkgname"


############# Stripped diff below #################

--- arch_depends
+++ artix_depends
@@ -5,5 +5,5 @@
 python-google-api-python-client
 python-httplib2
 python-installer
-python-setuptools
+python-oauth2client
 python-wheel

--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,3 +1,9 @@
+prepare() {
+cd "$_repo/$pkgname"
+sed \
+-e '/setuptools>=/d' \
+-i setup.py
+}
 build() {
 cd "$_repo/$pkgname"
 python -m build --wheel --no-isolation
