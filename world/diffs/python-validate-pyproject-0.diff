--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,6 +1,6 @@
 
 pkgname=python-validate-pyproject
-pkgver=0.24
+pkgver=0.23
 pkgrel=1
 pkgdesc="Validation library and CLI tool for checking on 'pyproject.toml' files using JSON Schema"
 url="https://github.com/abravalheri/validate-pyproject"
@@ -9,22 +9,31 @@
 depends=('python' 'python-fastjsonschema' 'python-packaging' 'python-trove-classifiers')
 makedepends=('git' 'python-build' 'python-installer' 'python-wheel' 'python-setuptools-scm')
 checkdepends=('python-pytest')
-source=("git+$url.git#tag=v$pkgver")
-sha512sums=('e32cc021778e50166f7b53b9a5d65f82746db61055d82c0a37320f7c3555a82244ae585252172f4c50989e17d7390d743242940fd4bbd21b87b7a739cba57de3')
+source=(
+  "git+$url.git#tag=v$pkgver"
+  "fix-tests.patch"
+)
+sha512sums=('f4497c1da0bf9097d4daf69c406e0eee973d67b6803e1b8052ecb1e3d8f5a800d48db5999b97b652c9e3ce1fd2b201df87a1141c31399f22d6787b9b482eac94'
+            '4a562557695923a1ce451a0359173ac243a61cf7f2b770e20f7530d207cbe12705688046fe066d683478c555a2b090a6fd393b2291f2e16324f2dc379a33be12')
+
+prepare() {
+  cd validate-pyproject
+  patch -Np1 -i ../fix-tests.patch
+}
 
 build() {
-  cd ${pkgname#python-}
+  cd validate-pyproject
   python -m build --wheel --no-isolation
 }
 
 check() {
-  cd ${pkgname#python-}
+  cd validate-pyproject
   python -m venv --system-site-packages test-env
   test-env/bin/python -m installer dist/*.whl
   test-env/bin/python -m pytest --override-ini="addopts="
 }
 
 package() {
-  cd ${pkgname#python-}
+  cd validate-pyproject
   python -m installer --destdir="$pkgdir" dist/*.whl
 }


############# Stripped diff below #################



--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,4 +1,8 @@
+prepare() {
+cd validate-pyproject
+patch -Np1 -i ../fix-tests.patch
+}
 build() {
-cd ${pkgname#python-}
+cd validate-pyproject
 python -m build --wheel --no-isolation
 }
