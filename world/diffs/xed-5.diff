--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,53 +1,31 @@
 
 pkgname=xed
-pkgver=3.8.9
+pkgver=3.4.5
 pkgrel=1
-pkgdesc='A small and lightweight text editor'
+pkgdesc="A small and lightweight text editor. X-Apps Project."
 arch=(x86_64)
-url='https://github.com/linuxmint/xed'
-license=(GPL-2.0-or-later)
+url="https://github.com/linuxmint/${pkgname}"
+license=(GPL)
 groups=(x-apps)
-depends=(
-  at-spi2-core
-  cairo
-  dconf
-  gdk-pixbuf2
-  glib2
-  glibc
-  gspell
-  gtk3
-  gtksourceview4
-  libgirepository
-  libpeas
-  libx11
-  libxml2
-  pango
-  python
-  python-gobject
-  xapp
-)
-makedepends=(
-  git
-  glib2-devel
-  gobject-introspection
-  intltool
-  itstool
-  meson
-)
-source=("git+https://github.com/linuxmint/xed.git#tag=$pkgver")
-b2sums=('f795208cfc3ce94e4b2e6fc4223f72e8cfe06af64afc5256a61e6c08e4da39083a5a6fb3b6faef19499513a2b2df2dadf0375d4344dbbdbb3e6e00948ff5505f')
+depends=(gspell gtksourceview4 libpeas xapp)
+makedepends=(meson samurai gobject-introspection intltool itstool)
+optdepends=('python: required for some plugins')
+source=(${url}/archive/${pkgver}/${pkgname}-${pkgver}.tar.gz
+        libxml-2.12.patch)
+sha256sums=('a3bb70759d85ae84b69db40ac3c6f954d59ab3c66325ae23050c9ffbf6a9c26b'
+            'ed19b6f419a4f703d290d8c97ed5d904c88a90fc475c738a0e65f7ab31697c40')
+b2sums=('936e6f790234bd5b1a3f90f807e542001761265943e555557e39fca5e7d9e22d0653b5e0f87a7b954c8cff831a992f6daefe331a3a55e6b3c9ed7f930ca75d7e'
+        'bd3f1c73b5873b05db1a734d2b42025d460f6862dbb13813e3fc97602c43e6758e2857f2e2db14e739780a7d58fdb48e87186cfde4393b7799070def14750353')
 
 prepare() {
-  cd $pkgname
-
-  git revert -n 13f55ff3f0db4e4f3b75883260bb56afbad08fd2
+  patch -d $pkgname-$pkgver -p1 < libxml-2.12.patch
 }
 
 build() {
-  arch-meson $pkgname build
-  meson compile -C build
+  artix-meson ${pkgname}-${pkgver} build
+  samu -C build
 }
 
 package(){
-  meson install -C build --destdir="$pkgdir"
+  DESTDIR="${pkgdir}" samu -C build install
 }


############# Stripped diff below #################

--- arch_depends
+++ artix_depends
@@ -1,23 +1,9 @@
-at-spi2-core
-cairo
-dconf
-gdk-pixbuf2
-git
-glib2
-glib2-devel
-glibc
 gobject-introspection
 gspell
-gtk3
 gtksourceview4
 intltool
 itstool
-libgirepository
 libpeas
-libx11
-libxml2
 meson
-pango
-python
-python-gobject
+samurai
 xapp

--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,8 +1,7 @@
 prepare() {
-cd $pkgname
-git revert -n 13f55ff3f0db4e4f3b75883260bb56afbad08fd2
+patch -d $pkgname-$pkgver -p1 < libxml-2.12.patch
 }
 build() {
-arch-meson $pkgname build
-meson compile -C build
+artix-meson ${pkgname}-${pkgver} build
+samu -C build
 }
