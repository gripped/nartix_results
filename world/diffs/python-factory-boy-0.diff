--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,7 +1,7 @@
 
 pkgname=python-factory-boy
-pkgver=3.3.3
-pkgrel=1
+pkgver=3.3.0
+pkgrel=7
 pkgdesc="A versatile test fixtures replacement based on thoughtbot's factory_bot for Ruby"
 url="https://github.com/FactoryBoy/factory_boy"
 license=('MIT')
@@ -11,8 +11,19 @@
 checkdepends=('python-pytest' 'python-flask' 'python-django' 'python-sqlalchemy'
               'python-sqlalchemy-utils' 'python-flask-sqlalchemy' 'python-mongoengine'
               'python-mongomock')
-source=("$pkgname-$pkgver.tar.gz::https://github.com/FactoryBoy/factory_boy/archive/$pkgver.tar.gz")
-sha512sums=('484b4b3db3bb88ccc63793ea5630c5b138208d9a802a2be77ed349fab504c0e548b9b4fa6e80615913c917532f3b50e8018645122d1e90acaf170666d4f8dd5f')
+source=("$pkgname-$pkgver.tar.gz::https://github.com/FactoryBoy/factory_boy/archive/$pkgver.tar.gz"
+        https://github.com/FactoryBoy/factory_boy/commit/f0859075b048b85c8ed44c051f18070cbd20d03d.patch
+	use-mongomock.patch)
+sha512sums=('483e7454dbbafdf6ba2ec8924ccd648585c5ad5676da0af222a942beb3ebdbf4c372bb963c948d8a87a5359c1277b45b226239ff6109e11dbc1851ef5fd7275f'
+            'c9fd3ecc6598547a39ec588d634f8ace46090f02518732420e8dcb14f373983c02ed91c1e7ec28777007ebd66f4179ed4a407a4252c8402e861b75748c3d813f'
+            'd3e96582ef2cb12900b56cc0f25386f7bed3e6910d3417a48f66de9ae2de9a9c5b1a4fb31c69bbde481cdd47bbe421825e93804f6513068ba53af7cba9517c84')
+
+prepare() {
+  cd factory_boy-$pkgver
+  patch -p1 -i ../f0859075b048b85c8ed44c051f18070cbd20d03d.patch
+
+  patch -Np1 -i ${srcdir}/use-mongomock.patch
+}
 
 build() {
   cd factory_boy-$pkgver


############# Stripped diff below #################



--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,3 +1,8 @@
+prepare() {
+cd factory_boy-$pkgver
+patch -p1 -i ../f0859075b048b85c8ed44c051f18070cbd20d03d.patch
+patch -Np1 -i ${srcdir}/use-mongomock.patch
+}
 build() {
 cd factory_boy-$pkgver
 python -m build -nw
