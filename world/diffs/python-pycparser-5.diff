--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,32 +1,31 @@
 
 pkgname=python-pycparser
-pkgver=2.23
-pkgrel=1
+pkgver=2.22
+pkgrel=3
 pkgdesc='C parser and AST generator written in Python'
 url='https://github.com/eliben/pycparser'
 depends=('python')
-makedepends=('git' 'python-setuptools')
+makedepends=('python-setuptools')
 arch=('any')
-license=('BSD-3-Clause')
-source=("git+https://github.com/eliben/pycparser.git#tag=release_v$pkgver")
-sha512sums=('1526d7874c52c99d25af2c52154bace3051fcc8a0ab57558a4251dca7718b6298eddb277de4c0826aac3f61f76cc8dd0219fc20955e3c83face7ec6741a1438c')
+license=('BSD')
+source=("$pkgname-$pkgver.tar.gz::https://github.com/eliben/pycparser/archive/release_v$pkgver.tar.gz")
+sha512sums=('1c5be2b83c0a892cafa55a2595942d7048994772dc0fc71d2943004b4198d939c0bf2a164d763d94fe11d532e49371c59c1cf4037c32dab8d3cf0c553a8de64a')
 
 build() {
-  cd pycparser
+  cd "$srcdir"/pycparser-release_v$pkgver
   python setup.py build
-
   cd pycparser
   python _build_tables.py
 }
 
 check() {
-  cd pycparser
+  cd "$srcdir"/pycparser-release_v$pkgver
   python -m unittest discover
 }
 
 package() {
-  cd pycparser
+  cd pycparser-release_v$pkgver
 
   python setup.py install --root="$pkgdir" --optimize=1
-  install -Dm644 LICENSE -t "$pkgdir"/usr/share/licenses/$pkgname/
+  install -Dm644 LICENSE "$pkgdir"/usr/share/licenses/$pkgname/LICENSE
 }


############# Stripped diff below #################

--- arch_depends
+++ artix_depends
@@ -1,3 +1,2 @@
-git
 python
 python-setuptools

--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,5 +1,5 @@
 build() {
-cd pycparser
+cd "$srcdir"/pycparser-release_v$pkgver
 python setup.py build
 cd pycparser
 python _build_tables.py
