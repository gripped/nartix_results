--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -2,63 +2,29 @@
 
 
 pkgbase=java17-openjdk
-pkgname=(
-  jre17-openjdk-headless
-  jre17-openjdk
-  jdk17-openjdk
-  openjdk17-src
-  openjdk17-doc
-)
+pkgname=('jre17-openjdk-headless' 'jre17-openjdk' 'jdk17-openjdk' 'openjdk17-src' 'openjdk17-doc')
 _majorver=17
 _minorver=0
-_securityver=16
-_updatever=8
+_securityver=15
+_updatever=6
 pkgver=${_majorver}.${_minorver}.${_securityver}.u${_updatever}
 pkgrel=1
  _git_tag=jdk-${_majorver}.${_minorver}.${_securityver}+${_updatever}
 arch=('x86_64')
 url='https://openjdk.java.net/'
 license=('LicenseRef-Java')
-makedepends=(
-  'java-environment=17'
-  alsa-lib
-  bash
-  cpio
-  freetype2
-  gcc-libs
-  giflib
-  glibc
-  graphviz
-  harfbuzz
-  lcms2
-  libcups
-  libelf
-  libjpeg-turbo
-  libnet
-  libpng
-  libx11
-  libxext
-  libxrandr
-  libxrender
-  libxt
-  libxtst
-  pandoc
-  unzip
-  zip
-)
+makedepends=('java-environment=17' 'cpio' 'unzip' 'zip' 'libelf' 'libcups' 'libx11'
+             'libxrender' 'libxtst' 'libxt' 'libxext' 'libxrandr' 'alsa-lib' 'pandoc'
+             'graphviz' 'freetype2' 'libjpeg-turbo' 'giflib' 'libpng' 'lcms2'
+             'libnet' 'bash' 'harfbuzz' 'gcc-libs' 'glibc')
 optdepends=(
   'gvfs: open links e.g. hyperlinks'
 )
-options=(
-  !lto
-)
-source=(
-  https://github.com/openjdk/jdk${_majorver}u/archive/${_git_tag}.tar.gz
-  freedesktop-java.desktop
-  freedesktop-jconsole.desktop
-  freedesktop-jshell.desktop
-)
-sha256sums=('4ac26de0efdf6021c373ccef0c63363cdb35024881901180f6341097085a9b43'
+source=(https://github.com/openjdk/jdk${_majorver}u/archive/${_git_tag}.tar.gz
+        freedesktop-java.desktop
+        freedesktop-jconsole.desktop
+        freedesktop-jshell.desktop)
+sha256sums=('7a3113a9ec95aba8807b631dd01713ad05519602a436c28b5f3fe870c87f5132'
             '85c4742764590783160af74587a47269e6797fbdf17ec485c7644bd239adf61d'
             'abac1ab09a33a3654378bc69be5a7cf075263ab3ae9efec1eb25cf388e711bb7'
             'e7cce0ecf868f656d8dc2eb25ab82ab665526a0a28aba20f02632dd29962dac3')
@@ -66,36 +32,20 @@
 case "${CARCH}" in
   x86_64) _JARCH='x86_64';;
   i686)   _JARCH='x86';;
-  riscv64)_JARCH='riscv64';;
 esac
 
 _jvmdir=/usr/lib/jvm/java-${_majorver}-openjdk
 _jdkdir=jdk${_majorver}u-${_git_tag//+/-}
 _imgdir=${_jdkdir}/build/linux-${_JARCH}-server-release/images
 
-_nonheadless=(
-  lib/libawt_xawt.so
-  lib/libjawt.so
-  lib/libjsound.so
-  lib/libsplashscreen.so
-)
-
-_commondeps=(
-  'java-runtime-common>=3'
-  ca-certificates-utils
-  freetype2
-  gcc-libs
-  glibc
-  harfbuzz
-  lcms2
-  libfreetype.so
-  libharfbuzz.so
-  libjpeg.so
-  libjpeg-turbo
-  liblcms2.so
-  libnet
-  nss
-)
+_nonheadless=(lib/libawt_xawt.so
+              lib/libjawt.so
+              lib/libjsound.so
+              lib/libsplashscreen.so)
+
+_commondeps=('java-runtime-common>=3' 'ca-certificates-utils' 'nss' 'libjpeg-turbo' 'libjpeg.so'
+           'lcms2' 'liblcms2.so' 'libnet' 'freetype2' 'libfreetype.so' 'harfbuzz' 'libharfbuzz.so'
+           'glibc' 'gcc-libs')
 
 build() {
   cd ${_jdkdir}
@@ -149,7 +99,7 @@
     --with-native-debug-symbols=internal \
     --enable-unlimited-crypto \
     --disable-warnings-as-errors \
-    --with-vendor-name="Arch Linux" \
+    --with-vendor-name="Artix Linux" \
     ${NUM_PROC_OPT}
 
   make images legacy-jre-image docs
@@ -163,37 +113,24 @@
 
 package_jre17-openjdk-headless() {
   pkgdesc="OpenJDK Java ${_majorver} headless runtime environment"
-  depends=(
-   "${_commondeps[@]}"
-  )
-  optdepends=(
-    'java-rhino: for some JavaScript support'
-  )
-  provides=(
-    "java-runtime-headless=${_majorver}"
-    "java-runtime-headless-openjdk=${_majorver}"
-    "jre${_majorver}-openjdk-headless=${pkgver}-${pkgrel}"
-  )
-  conflicts=(
-    jdk17-openjdk
-    jre17-openjdk
-  )
-  backup=(
-    etc/${pkgbase}/logging.properties
-    etc/${pkgbase}/management/jmxremote.access
-    etc/${pkgbase}/management/jmxremote.password.template
-    etc/${pkgbase}/management/management.properties
-    etc/${pkgbase}/net.properties
-    etc/${pkgbase}/security/java.policy
-    etc/${pkgbase}/security/java.security
-    etc/${pkgbase}/security/policy/README.txt
-    etc/${pkgbase}/security/policy/limited/default_US_export.policy
-    etc/${pkgbase}/security/policy/limited/default_local.policy
-    etc/${pkgbase}/security/policy/limited/exempt_local.policy
-    etc/${pkgbase}/security/policy/unlimited/default_US_export.policy
-    etc/${pkgbase}/security/policy/unlimited/default_local.policy
-    etc/${pkgbase}/sound.properties
-  )
+  depends=("${_commondeps[@]}")
+  optdepends=('java-rhino: for some JavaScript support')
+  provides=("java-runtime-headless=${_majorver}" "java-runtime-headless-openjdk=${_majorver}" "jre${_majorver}-openjdk-headless=${pkgver}-${pkgrel}")
+  conflicts=("jdk17-openjdk" "jre17-openjdk")
+  backup=(etc/${pkgbase}/logging.properties
+          etc/${pkgbase}/management/jmxremote.access
+          etc/${pkgbase}/management/jmxremote.password.template
+          etc/${pkgbase}/management/management.properties
+          etc/${pkgbase}/net.properties
+          etc/${pkgbase}/security/java.policy
+          etc/${pkgbase}/security/java.security
+          etc/${pkgbase}/security/policy/README.txt
+          etc/${pkgbase}/security/policy/limited/default_US_export.policy
+          etc/${pkgbase}/security/policy/limited/default_local.policy
+          etc/${pkgbase}/security/policy/limited/exempt_local.policy
+          etc/${pkgbase}/security/policy/unlimited/default_US_export.policy
+          etc/${pkgbase}/security/policy/unlimited/default_local.policy
+          etc/${pkgbase}/sound.properties)
   install=install_jre-openjdk-headless.sh
 
   cd ${_imgdir}/jre
@@ -229,44 +166,26 @@
 
 package_jre17-openjdk() {
   pkgdesc="OpenJDK Java ${_majorver} full runtime environment"
-  depends=(
-    "${_commondeps[@]}"
-    giflib
-    libgif.so
-    libpng
-  )
-  optdepends=(
-    'alsa-lib: for basic sound support'
-    'gtk3: for the Gtk+ 3 look and feel - desktop usage'
-  )
-  provides=(
-    "java-runtime=${_majorver}"
-    "java-runtime-openjdk=${_majorver}"
-    "jre${_majorver}-openjdk=${pkgver}-${pkgrel}"
-    "java-runtime-headless=${_majorver}"
-    "java-runtime-headless-openjdk=${_majorver}"
-    "jre${_majorver}-openjdk-headless=${pkgver}-${pkgrel}"
-  )
-  conflicts=(
-    jdk17-openjdk
-    jre17-openjdk-headless
-  )
-  backup=(
-    etc/${pkgbase}/logging.properties
-    etc/${pkgbase}/management/jmxremote.access
-    etc/${pkgbase}/management/jmxremote.password.template
-    etc/${pkgbase}/management/management.properties
-    etc/${pkgbase}/net.properties
-    etc/${pkgbase}/security/java.policy
-    etc/${pkgbase}/security/java.security
-    etc/${pkgbase}/security/policy/README.txt
-    etc/${pkgbase}/security/policy/limited/default_US_export.policy
-    etc/${pkgbase}/security/policy/limited/default_local.policy
-    etc/${pkgbase}/security/policy/limited/exempt_local.policy
-    etc/${pkgbase}/security/policy/unlimited/default_US_export.policy
-    etc/${pkgbase}/security/policy/unlimited/default_local.policy
-    etc/${pkgbase}/sound.properties
-  )
+  depends=("${_commondeps[@]}" 'giflib' 'libgif.so' 'libpng')
+  optdepends=('alsa-lib: for basic sound support'
+              'gtk3: for the Gtk+ 3 look and feel - desktop usage')
+  provides=("java-runtime=${_majorver}" "java-runtime-openjdk=${_majorver}" "jre${_majorver}-openjdk=${pkgver}-${pkgrel}"
+            "java-runtime-headless=${_majorver}" "java-runtime-headless-openjdk=${_majorver}" "jre${_majorver}-openjdk-headless=${pkgver}-${pkgrel}")
+  conflicts=("jdk17-openjdk" "jre17-openjdk-headless")
+  backup=(etc/${pkgbase}/logging.properties
+          etc/${pkgbase}/management/jmxremote.access
+          etc/${pkgbase}/management/jmxremote.password.template
+          etc/${pkgbase}/management/management.properties
+          etc/${pkgbase}/net.properties
+          etc/${pkgbase}/security/java.policy
+          etc/${pkgbase}/security/java.security
+          etc/${pkgbase}/security/policy/README.txt
+          etc/${pkgbase}/security/policy/limited/default_US_export.policy
+          etc/${pkgbase}/security/policy/limited/default_local.policy
+          etc/${pkgbase}/security/policy/limited/exempt_local.policy
+          etc/${pkgbase}/security/policy/unlimited/default_US_export.policy
+          etc/${pkgbase}/security/policy/unlimited/default_local.policy
+          etc/${pkgbase}/sound.properties)
   install=install_jre-openjdk.sh
 
   cd ${_imgdir}/jre
@@ -308,61 +227,32 @@
 
 package_jdk17-openjdk() {
   pkgdesc="OpenJDK Java ${_majorver} development kit"
-  depends=(
-    "${_commondeps[@]}"
-    'java-environment-common=3'
-    ca-certificates-utils
-    freetype2
-    harfbuzz
-    hicolor-icon-theme
-    lcms2
-    libelf
-    libfreetype.so
-    libgif.so
-    libharfbuzz.so
-    libjpeg.so
-    libjpeg-turbo
-    liblcms2.so
-    libnet
-    libpng
-    nss
-  )
-  optdepends=(
-    'java-rhino: for some JavaScript support'
-    'alsa-lib: for basic sound support'
-    'gtk3: for the Gtk+ 3 look and feel - desktop usage'
-  )
-  provides=(
-    "java-environment=${_majorver}"
-    "java-environment-openjdk=${_majorver}"
-    "jdk${_majorver}-openjdk=${pkgver}-${pkgrel}"
-    "java-runtime=${_majorver}"
-    "java-runtime-openjdk=${_majorver}"
-    "jre${_majorver}-openjdk=${pkgver}-${pkgrel}"
-    "java-runtime-headless=${_majorver}"
-    "java-runtime-headless-openjdk=${_majorver}"
-    "jre${_majorver}-openjdk-headless=${pkgver}-${pkgrel}"
-  )
-  conflicts=(
-    jre17-openjdk
-    jre17-openjdk-headless
-  )
-  backup=(
-    etc/${pkgbase}/logging.properties
-    etc/${pkgbase}/management/jmxremote.access
-    etc/${pkgbase}/management/jmxremote.password.template
-    etc/${pkgbase}/management/management.properties
-    etc/${pkgbase}/net.properties
-    etc/${pkgbase}/security/java.policy
-    etc/${pkgbase}/security/java.security
-    etc/${pkgbase}/security/policy/README.txt
-    etc/${pkgbase}/security/policy/limited/default_US_export.policy
-    etc/${pkgbase}/security/policy/limited/default_local.policy
-    etc/${pkgbase}/security/policy/limited/exempt_local.policy
-    etc/${pkgbase}/security/policy/unlimited/default_US_export.policy
-    etc/${pkgbase}/security/policy/unlimited/default_local.policy
-    etc/${pkgbase}/sound.properties
-  )
+  depends=("${_commondeps[@]}" 'java-environment-common=3'
+           'hicolor-icon-theme' 'libelf' 'libgif.so' 'libpng'
+           'ca-certificates-utils' 'nss' 'libjpeg-turbo' 'libjpeg.so'
+           'lcms2' 'liblcms2.so' 'libnet' 'freetype2' 'libfreetype.so' 'harfbuzz'
+           'libharfbuzz.so')
+  optdepends=('java-rhino: for some JavaScript support'
+              'alsa-lib: for basic sound support'
+              'gtk3: for the Gtk+ 3 look and feel - desktop usage')
+  provides=("java-environment=${_majorver}" "java-environment-openjdk=${_majorver}" "jdk${_majorver}-openjdk=${pkgver}-${pkgrel}"
+            "java-runtime=${_majorver}" "java-runtime-openjdk=${_majorver}" "jre${_majorver}-openjdk=${pkgver}-${pkgrel}"
+            "java-runtime-headless=${_majorver}" "java-runtime-headless-openjdk=${_majorver}" "jre${_majorver}-openjdk-headless=${pkgver}-${pkgrel}")
+  conflicts=("jre17-openjdk" "jre17-openjdk-headless")
+  backup=(etc/${pkgbase}/logging.properties
+          etc/${pkgbase}/management/jmxremote.access
+          etc/${pkgbase}/management/jmxremote.password.template
+          etc/${pkgbase}/management/management.properties
+          etc/${pkgbase}/net.properties
+          etc/${pkgbase}/security/java.policy
+          etc/${pkgbase}/security/java.security
+          etc/${pkgbase}/security/policy/README.txt
+          etc/${pkgbase}/security/policy/limited/default_US_export.policy
+          etc/${pkgbase}/security/policy/limited/default_local.policy
+          etc/${pkgbase}/security/policy/limited/exempt_local.policy
+          etc/${pkgbase}/security/policy/unlimited/default_US_export.policy
+          etc/${pkgbase}/security/policy/unlimited/default_local.policy
+          etc/${pkgbase}/sound.properties)
   install=install_jdk-openjdk.sh
 
   cd ${_imgdir}/jdk


############# Stripped diff below #################



--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -43,7 +43,7 @@
 --with-native-debug-symbols=internal \
 --enable-unlimited-crypto \
 --disable-warnings-as-errors \
---with-vendor-name="Arch Linux" \
+--with-vendor-name="Artix Linux" \
 ${NUM_PROC_OPT}
 make images legacy-jre-image docs
 find "${srcdir}/${_imgdir}" -iname '*.so' -exec chmod +x {} \;
