--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,7 +1,7 @@
 
 pkgname=geoclue
-pkgver=2.7.1
-pkgrel=3
+pkgver=2.7.2
+pkgrel=1
 pkgdesc="Modular geoinformation service built on the D-Bus messaging system"
 url="https://gitlab.freedesktop.org/geoclue/geoclue/-/wikis/home"
 arch=(x86_64)
@@ -11,17 +11,21 @@
 )
 depends=(
   avahi
+  gcc-libs
+  glib2
+  glibc
   json-glib
   libmm-glib
   libsoup3
 )
 makedepends=(
   git
+  glib2-devel
   gobject-introspection
   gtk-doc
   libnotify
   meson
-  systemd
+  udev
   vala
 )
 optdepends=('libnotify: Demo Agent')
@@ -31,29 +35,21 @@
 backup=(etc/geoclue/geoclue.conf)
 source=(
   "git+https://gitlab.freedesktop.org/geoclue/geoclue.git#tag=$pkgver"
-  0001-WIP-Use-Google-Maps-Platform-by-default.patch
 )
-b2sums=('0e8ab05d8124598d9bd306bb2f81a9c4e47c02b710265048e19d950d8587e3ff729234b2e07847c3f0b9118c7b89153f9e59b6414a6660007203e7a831ce839b'
-        '192e35693aa8145ac3ad23ee0fb64a247298e57959095281614cc33be27e60ad7ce16117df043ab7bff9ca721cce3e82cea0bfaddb9c5996b24be7cb4ebd95ce')
+b2sums=('e77c32743762d346e4decdf4893a9299db56f9ef98f7b17633464788ec04dda2d2cfe740192bfbce67acc2e207943ee1af6c723214d8d850cd849e380867e126')
 
-_google_api_key=AIzaSyDwr302FpOSkGRpLlUpPThNTDPbXcIn_FM
-
-_mozilla_api_key=e05d56db0a694edc8b5aaebda3f2db6a
 
 prepare() {
   cd geoclue
-
-  git apply -3 ../0001-WIP-Use-Google-Maps-Platform-by-default.patch
 }
 
 build() {
   local meson_options=(
+    -D dbus-sys-dir=/usr/share/dbus-1/system.d
     -D dbus-srv-user=geoclue
-    -D google-api-key="$_google_api_key"
-    -D mozilla-api-key="$_mozilla_api_key"
   )
 
-  arch-meson geoclue build "${meson_options[@]}"
+  artix-meson geoclue build "${meson_options[@]}"
   meson compile -C build
 }
 


############# Stripped diff below #################

--- arch_depends
+++ artix_depends
@@ -1,5 +1,9 @@
 avahi
+gcc-libs
 git
+glib2
+glib2-devel
+glibc
 gobject-introspection
 gtk-doc
 json-glib
@@ -7,5 +11,5 @@
 libnotify
 libsoup3
 meson
-systemd
+udev
 vala