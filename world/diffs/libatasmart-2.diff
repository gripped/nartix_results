--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,46 +1,32 @@
 
 pkgname=libatasmart
 pkgver=0.19
-pkgrel=7
+pkgrel=6
 pkgdesc='ATA S.M.A.R.T. reader and parser library'
-arch=(x86_64)
+arch=('x86_64')
 url='https://0pointer.de/blog/projects/being-smart.html'
-license=(LGPL-2.1-or-later)
-depends=(
-  glibc
-  systemd-libs
-)
-makedepends=(git)
-source=(
-  "git+https://git.0pointer.net/clone/libatasmart.git#tag=v$pkgver"
-  0001-Dont-test-undefined-bits.patch
-  0002-Drop-our-own-many-bad-sectors-heuristic.patch
-)
-b2sums=(
-  9a43568707da97163000bdc97f428993c5fc3dc9490e47e42d3ef315dc1f06e39c1f71cdf9bcaccfee44201fd47be4d5df16a30a35ee6aaf729b1bbda24aeb1d
-  826c9ebce4aa299d57a9c3c410fa3fb0875f2eb92c9a4c5e27e384e78c316a86947dfbf5fa065b7cf9bc84a71948d8df47aa4a47129d4c316fa8f11815b8adcb
-  6c96188d7cad73b8a7c6be8fa27ae297d6a6b32245bdde01050bbe5d1536b7e9618b7b2c5ffed41ca95d79b878dd84e2b9af7f1f2422e70fde54132646c93f8b
-)
+license=('LGPL')
+depends=('glibc' 'libudev')
+source=("https://0pointer.de/public/$pkgname-$pkgver.tar.xz"
+        '0001-Dont-test-undefined-bits.patch'
+        '0002-Drop-our-own-many-bad-sectors-heuristic.patch')
+sha256sums=('61f0ea345f63d28ab2ff0dc352c22271661b66bf09642db3a4049ac9dbdb0f8d'
+            'ab19d6985bb524774607280a2ee62c48de01785660ff5206d80f778b6404188c'
+            '9bb5ca3431f76c182c5b076e2db9378d696608c2ff1d53d01e55c530ba293ce1')
 
 prepare() {
-  cd $pkgname
+  cd $pkgname-$pkgver
   patch -Np1 -i ../0001-Dont-test-undefined-bits.patch
   patch -Np1 -i ../0002-Drop-our-own-many-bad-sectors-heuristic.patch
-
-  autoreconf -fi
 }
 
 build() {
-  cd $pkgname
-  ./configure \
-    --prefix=/usr \
-    --sysconfdir=/etc \
-    --localstatedir=/var \
-    --sbindir=/usr/bin
+  cd $pkgname-$pkgver
+  ./configure --prefix=/usr --sbindir=/usr/bin
   make
 }
 
 package() {
-  cd $pkgname
+  cd $pkgname-$pkgver
   make DESTDIR="$pkgdir" install
 }


############# Stripped diff below #################

--- arch_depends
+++ artix_depends
@@ -1,3 +1,2 @@
-git
 glibc
-systemd-libs
+libudev