--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -2,46 +2,34 @@
 pkgname=aalib
 pkgver=1.4rc5
 _pkgver=1.4.0
-pkgrel=19
+pkgrel=18
 pkgdesc='ASCII art graphic library'
-arch=(x86_64)
+arch=('x86_64')
 url='https://aa-project.sourceforge.net/aalib/'
-license=(LGPL-2.0-or-later)
-depends=(
-  glibc
-  gpm
-  libx11
-  ncurses
-  slang
-)
-optdepends=(
-  'xorg-fonts-misc: x11 driver'
-  'xorg-mkfontscale: x11 driver'
-)
-source=(
-  "https://downloads.sourceforge.net/aa-project/$pkgname-$pkgver.tar.gz"
-  aclocal-fixes.patch
-  aalib-m4.patch
-  aalib-c99.patch
-  aalib-free-offset-pointer.patch
-  aalib-aalinuxkbd-return.patch
-  aalib-key-down-OOB.patch
-  aalib-opaque-ncurses-fix.patch
-  aalib-fix-aarender.patch
-  aalib-mouse.patch
-)
-b2sums=(
-  fd527716c0484d45fa3b75712a24301bd485fab8191ac1d5c6d35f8af093a00e11f0f8d2797ddcc32f4d87a39649fd50145dcc557e5ba98e67336cff2bb79002
-  8f77f4c0414810f467c39f7b3b0e0e2022afd873fb46feacca5ec6bdaa66678c00137039ba8e85631680bf941384eec91c9ec388ca8b79369d45187ca46c4d48
-  a23713da2dc362b4eb0cd12f00e61b27cbb92e2fb8df98a387f694b613baa16ca1b7f74ddbd9c082fd5fcbf7ee90a8c019771e94da11d99a4210f7e11743fcbf
-  a4699313e7c097a5122bd1adff99a25e9e3072db1cd09abd87854121ab7c10898300e32f9c2c610025287151437eabde3c34b6995c9510fefd0c3e24637b6871
-  dee15643e51c9d6c481215b5d8135a3e0b31ebb061432fc36bd6d45992b36cd767aa44d262d8ebfd7ca8c600b9418843eb384d4c3ed4de5255df39c6b177ce24
-  169e40064cb7f4f640fb104f0a7642d2c29527f769738d33c765f685c1e243e13737870f948664230e406e82f6dca69540a3a7f51ac9409e36633c24dcae8a0a
-  1742e3d22889e7faabaf0fcacecc7db4dff4d126361f02d0311e11a93a2a1445de78f1e5a38cb43860bee1809c8350829715b843b52f7354f2ffe22cd21e7e1a
-  270b3521a6d148337db82bbccefe9f85b1f0425972cdf808adfa553961fd26d750a36a7b3f362b3fb49d5eb125480367340de0ee0323e2df3412e6b0d2f40c37
-  e9456d951d0ac69685dc79243d1f17abbc304acbe247390a832208c5d9ea691ace9383dd0ce34b8edad254d95857ed729db6f26f16dc82765542981a3f73ef00
-  ee2d257e46d6a5368a94c5b0b7e8cf3d6babd247878f9842630280d26c39e20c15bb9e4a1645e5058a8483592bda2affe2d286882cae6f7c9780e5468f54a383
-)
+license=('LGPL-2.0-or-later')
+depends=('glibc' 'gpm' 'libx11' 'ncurses' 'slang')
+optdepends=('xorg-fonts-misc: x11 driver'
+            'xorg-mkfontscale: x11 driver')
+source=("https://downloads.sourceforge.net/aa-project/$pkgname-$pkgver.tar.gz"
+        'aclocal-fixes.patch'
+        'aalib-m4.patch'
+        'aalib-c99.patch'
+        'aalib-free-offset-pointer.patch'
+        'aalib-aalinuxkbd-return.patch'
+        'aalib-key-down-OOB.patch'
+        'aalib-opaque-ncurses-fix.patch'
+        'aalib-fix-aarender.patch'
+        'aalib-mouse.patch')
+sha256sums=('fbddda9230cf6ee2a4f5706b4b11e2190ae45f5eda1f0409dc4f99b35e0a70ee'
+            'f40742677a3e0d58c99a09da7574635411156586acd22867e71dd46c88088bce'
+            '0202545881ec34bd637c04b5896b9b3093609530cc4f85e1d5ffe9a3136d9483'
+            'a1b61cfc717a23bd4976f03c80b87a1de641f44c26c8133e248006bcbf6c87ea'
+            'f6c63a145f9844d6b9e2dc96fa35616ef86278e8888b1f2fe5ce1d2c6f93f128'
+            '28f2e4148b6987974631e2a2d628422ef9de5ba9ff011a84b79255ccbf8d023a'
+            '1fbba4b022e2d14981e6595d2eecc8f97f979b25acee4e6871bb415a5bf5da89'
+            'da45bd012e0a966ab57158808642441c9c328c9e01a2780e5429f60621f685b5'
+            '6695a057a21da1c7a5d0a578be76a0d0f052a33bef77e7767ccba76427dc3ea5'
+            '24be60c5faa3629983d42c979b3bc6f8c2896823417dbf510388683974199a49')
 
 prepare() {
   cd $pkgname-$_pkgver
@@ -64,18 +52,12 @@
 
   patch -Np1 -i ../aalib-mouse.patch
 
-  sed -i 's/Gpm_Wgetch(stdscr)/Gpm_Wgetch()/' src/aacurkbd.c
-
   autoreconf -fi
 }
 
 build() {
   cd $pkgname-$_pkgver
-  ./configure \
-    --prefix=/usr \
-    --sysconfdir=/etc \
-    --localstatedir=/var \
-    --with-curses-driver
+  ./configure --prefix=/usr --with-curses-driver
   make
 }
 


############# Stripped diff below #################



--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -9,15 +9,10 @@
 patch -Np1 -i ../aalib-opaque-ncurses-fix.patch
 patch -Np1 -i ../aalib-fix-aarender.patch
 patch -Np1 -i ../aalib-mouse.patch
-sed -i 's/Gpm_Wgetch(stdscr)/Gpm_Wgetch()/' src/aacurkbd.c
 autoreconf -fi
 }
 build() {
 cd $pkgname-$_pkgver
-./configure \
---prefix=/usr \
---sysconfdir=/etc \
---localstatedir=/var \
---with-curses-driver
+./configure --prefix=/usr --with-curses-driver
 make
 }
