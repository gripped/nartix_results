--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,6 +1,6 @@
 
 pkgname=python-networkx
-pkgver=3.5
+pkgver=3.4.2
 pkgrel=1
 pkgdesc='Python package for the creation, manipulation, and study of the structure, dynamics, and functions of complex networks.'
 arch=('any')
@@ -11,28 +11,23 @@
             'python-pydot: for graph drawing and graph layout algorithms in pure Python via GraphViz'
             'python-pygraphviz: for graph drawing and graph layout algorithms with bindings to GraphViz'
             'python-sympy: for polynomial algorithms')
-makedepends=('python-build' 'python-installer' 'python-wheel' 'python-setuptools' 'git')
+makedepends=('python-build' 'python-installer' 'python-wheel' 'python-setuptools')
 checkdepends=('python-pytest' 'python-lxml' 'python-pydot' 'python-pygraphviz')
-source=("git+https://github.com/networkx/networkx#tag=networkx-$pkgver")
-sha512sums=('d1544694d4485242d2c971175b350ac6b2ce176472d15c7b8c5a63b541a837839bd1405aae4cecd9cac4a536d19f1eb91bcdbb19a85173ba3e02c2835f6e6f0d')
-
-prepare() {
-  cd networkx
-  git cherry-pick -n d3eb7b5abf7e9c5af5c3304977597a47234c2ae6 # Fix tests with graphviz 13
-}
+source=("https://github.com/networkx/networkx/archive/networkx-$pkgver.tar.gz")
+sha512sums=('709962e921d4ad63cf5386dda39c6c57ba6739a1243dd93b200651902c907bdeb98db52f69c8a0c258c5d57fe65c5cd02daeb06ba46655ed82b1bb9ae8728129')
 
 build() {
-  cd networkx
+  cd networkx-networkx-$pkgver
   python -m build --wheel --no-isolation
 }
 
 check() {
-  cd networkx
+  cd networkx-networkx-$pkgver
   pytest -v
 }
 
 package() {
-  cd networkx
+  cd networkx-networkx-$pkgver
   python -m installer --destdir="$pkgdir" dist/*.whl
   install -D -m 644 LICENSE.txt "$pkgdir"/usr/share/licenses/$pkgname/LICENSE.txt
   mkdir -p "$pkgdir"/usr/share/doc/$pkgname


############# Stripped diff below #################

--- arch_depends
+++ artix_depends
@@ -1,4 +1,3 @@
-git
 python-build
 python-installer
 python-matplotlib

--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,8 +1,4 @@
-prepare() {
-cd networkx
-git cherry-pick -n d3eb7b5abf7e9c5af5c3304977597a47234c2ae6 # Fix tests with graphviz 13
-}
 build() {
-cd networkx
+cd networkx-networkx-$pkgver
 python -m build --wheel --no-isolation
 }
