--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -4,7 +4,7 @@
   sysprof
   libsysprof-capture
 )
-pkgver=47.2
+pkgver=47.1
 pkgrel=1
 pkgdesc="Kernel based performance profiler"
 url="https://wiki.gnome.org/Apps/Sysprof"
@@ -25,7 +25,6 @@
   libunwind
   pango
   polkit
-  systemd-libs
 )
 makedepends=(
   git
@@ -36,7 +35,7 @@
 source=(
   "git+https://gitlab.gnome.org/GNOME/sysprof.git#tag=${pkgver/[a-z]/.&}"
 )
-b2sums=('289a8071ef279177c512055fc4e14d7811863c71a41b69a90cd25fb6e60005476101da63b21365aaeddff9278b222b004fcc03f1198fa3e4abadc935e7a3beaa')
+b2sums=('998b8d7a17fce7b6da671bd8c1b6560bbca16a143ad685c9d0aaa99c2f6c9c8c6a705cdf2fe05003900002e67db7421d574c4472e1365bdee7196b079f00b51f')
 
 prepare() {
   cd sysprof
@@ -45,7 +44,7 @@
 build() {
   CFLAGS+=" -ffat-lto-objects"
 
-  arch-meson sysprof build
+  artix-meson sysprof build -Dsystemdunitdir=/usr/lib/systemd
   meson compile -C build
 }
 
@@ -76,6 +75,8 @@
   _pick capture usr/include/sysprof-*/sysprof-{address,capture,clock,collector,macros}.h
   _pick capture usr/include/sysprof-*/sysprof-{platform,version,version-macros}.h
   _pick capture usr/include/sysprof-*/sysprof-capture-{condition,cursor,reader,types,writer}.h
+
+  rm -r $pkgdir/usr/lib/systemd
 }
 
 package_libsysprof-capture() {


############# Stripped diff below #################

--- arch_depends
+++ artix_depends
@@ -17,5 +17,4 @@
 meson
 pango
 polkit
-systemd-libs
 yelp-tools