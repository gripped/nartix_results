--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,25 +1,30 @@
 
 pkgname=python-sarif-om
+_pkgname=sarif-python-om
 pkgver=1.0.4
-pkgrel=7
+pkgrel=8
 pkgdesc='Python classes for the SARIF object model'
 arch=(any)
 url='https://github.com/microsoft/sarif-python-om'
 license=(MIT)
-depends=(python-attrs python-pbr)
-makedepends=(python-setuptools)
-source=(https://github.com/microsoft/sarif-python-om/archive/$pkgver/$pkgname-$pkgver.tar.gz)
-sha256sums=('f95e3ea13bb8df0b30b765a668a2ad65d7f33c8a16753147adec239ba0fcd6ca')
-
-export PBR_VERSION=$pkgver
+depends=(python-attrs)
+makedepends=(
+  python-build
+  python-installer
+  python-pbr
+  python-wheel
+)
+source=("$url/archive/$pkgver/$pkgname-$pkgver.tar.gz")
+sha512sums=('dfc652990998ffe5c9935bb2b30e981a2ff0a7763fce70b2f728b8ab3e25426b8beb4255deacd20e9406c4becca9975bf6923ba13060f6b9e94778151300aa06')
 
 build() {
-  cd sarif-python-om-$pkgver
-  python setup.py build
+  cd $_pkgname-$pkgver
+  export PBR_VERSION=$pkgver
+  python -m build --wheel --no-isolation
 }
 
 package() {
-  cd sarif-python-om-$pkgver
-  python setup.py install --root="$pkgdir" --optimize=1 --skip-build
-  install -Dm644 LICENSE -t "$pkgdir"/usr/share/licenses/$pkgname
+  cd $_pkgname-$pkgver
+  python -m installer --destdir="$pkgdir" dist/*.whl
+  install -vDm644 -t "$pkgdir/usr/share/licenses/$pkgname" LICENSE
 }


############# Stripped diff below #################

--- arch_depends
+++ artix_depends
@@ -1,3 +1,5 @@
 python-attrs
+python-build
+python-installer
 python-pbr
-python-setuptools
+python-wheel

--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,4 +1,5 @@
 build() {
-cd sarif-python-om-$pkgver
-python setup.py build
+cd $_pkgname-$pkgver
+export PBR_VERSION=$pkgver
+python -m build --wheel --no-isolation
 }
