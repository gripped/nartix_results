--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,14 +1,14 @@
 
 
 pkgname=rpm-tools
-pkgver=6.0.1
-pkgrel=1
+pkgver=4.20.1
+pkgrel=2
 pkgdesc="RPM Package Manager - RPM.org fork, used in major RPM distros"
 arch=('x86_64')
 url='https://rpm.org/'
 license=('GPL-2.0-or-later')
 depends=('lua' 'file' 'popt' 'elfutils' 'libarchive' 'libcap' 'rpm-sequoia')
-makedepends=('python' 'pkg-config' 'cmake' 'podman' 'scdoc')
+makedepends=('python' 'pkg-config' 'cmake' 'podman')
 conflicts=('rpm' 'rpmextract')
 options=('!libtool')
 provides=("rpm=${pkgver}" 'rpmextract=1.0-4' 'rpm-org')
@@ -20,12 +20,15 @@
 _base_pkgver=$_pkgver_major.$_pkgver_minor.x
 
 source=(http://ftp.rpm.org/releases/rpm-$_base_pkgver/rpm-$pkgver.tar.bz2
-	rpmextract.sh)
-sha256sums=('44fd2e1425885288ce8e8da8f18e6b85bd380332c2972554a85860af10f86d0f'
-            '3e5bf450d4628366ba35469ec0530a99cd09ab2616a3d261a3f68270f481f777')
+	rpmextract.sh
+        rpmlib-filesystem-check.patch)
+sha256sums=('52647e12638364533ab671cbc8e485c96f9f08889d93fe0ed104a6632661124f'
+            '3e5bf450d4628366ba35469ec0530a99cd09ab2616a3d261a3f68270f481f777'
+            'bd0e6dbd458f990268c60324190c6825b234647ecdde08296d2b453dc4bce27a')
 
 prepare() {
 	cd rpm-${pkgver}
+	patch -p1 < ../rpmlib-filesystem-check.patch
 }
 
 build() {


############# Stripped diff below #################

--- arch_depends
+++ artix_depends
@@ -9,4 +9,3 @@
 popt
 python
 rpm-sequoia
-scdoc

--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,5 +1,6 @@
 prepare() {
 cd rpm-${pkgver}
+patch -p1 < ../rpmlib-filesystem-check.patch
 }
 build() {
 cmake -B build -S "rpm-$pkgver" \
