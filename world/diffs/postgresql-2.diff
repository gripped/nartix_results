--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -5,7 +5,7 @@
   postgresql-libs
   postgresql-docs
 )
-pkgver=18.3
+pkgver=18.2
 pkgrel=1
 pkgdesc="Sophisticated object-relational DBMS"
 url="https://www.postgresql.org/"
@@ -27,7 +27,7 @@
   numactl libnuma.so
   openssl libcrypto.so libssl.so
   pam libpam.so
-  systemd-libs libsystemd.so
+
   util-linux-libs
   zlib libz.so
   zstd libzstd.so
@@ -42,7 +42,7 @@
   perl-ipc-run
   python
   readline
-  systemd
+
   tcl
   util-linux
 )
@@ -53,38 +53,34 @@
   postgresql-check-db-dir.in
   postgresql.logrotate
   postgresql.pam
-  postgresql.service
   postgresql.sysusers
   postgresql.tmpfiles
 )
-b2sums=('b5d07158c25b1de80211cfdc9a20924f2249ffc45ca1daee1cc25d813922d39576057c360167da248350aa310d3ad5523eb6ed7b4a2b33215cba9b1eaf56d3f4'
+md5sums=('54f31676486d31ea14ed81aa346ee15b'
+         '344d51b4e3ddf4cb4c2e143650b0476b'
+         'b74d848f5527740dce663ae72f39c5ae'
+         '10123caec61006cbe316de8ab7a497bc'
+         'd28e443f9f65a5712c52018b84e27137'
+         '96f82c38f3f540b53f3e5144900acf17'
+         'da6a0dda84638d0c3463abf4bc01e621'
+         '9138244e0e6b98acc770931a4b150b86')
+sha256sums=('5245bd1b79700d55b8e0575be0325ef61e7bbef627e6a616e4cf36ad4687be36'
+            '064b7e266094e07feae29735efab3246e2b7a3364d6948d2f98d338e827d6a1a'
+            '0fb4915c06b9767933b27adc329e7319485e043fb9f17b1697b969779a00cf14'
+            '94af93b53bf7772e6664c239523ef952ffc905a0de3c2c4b2dfc2fe8f3a2efed'
+            '6abb842764bbed74ea4a269d24f1e73d1c0b1d8ecd6e2e6fb5fb10590298605e'
+            '57dfd072fd7ef0018c6b0a798367aac1abb5979060ff3f9df22d1048bb71c0d5'
+            '3cfe36dd202af56b3ef8e6d6a746b24e6f46f0d9e0d3fa125dbfb5e598170afb'
+            'ea771830c15b24c8725ded92e6a9ba9848b13f722357c5f5857dfeb21985d54c')
+b2sums=('060ef9be485a6c23239408ec955764108c31084042ccc678dbba59fb4a0c6f28d9665bb132d4a0af45c3a33bc668933328a7d955e43e032b1c8f5d6751aea7ff'
         '057e65b1e5a1fd82c7fa9da1c4e2fef39321ee59f74f54d9864e8ab4d7db4862c8fb6353f6006e1a9e1f5132543cf0c12b388963487a09b1465447b3ff6d7321'
         'd98280e004adcb1ad85053d9bd202a2b4798df6e7a72b21cb263da6b282f42b5463ce77dcc4f0b1b39d3f55303d0f6869b23f2338ffcd98720b0550204adf85a'
         '682bfab1189221d82f6cce9bcb8c40c6d37ecacbcaf0568bbaa2706503b1f102e5476d0d110dcc6240ab62c5e7c2c20a5d9af8edd4038d212327f8866b1cf15a'
         '2209b7550acad7955102ec6922754b4046b2a2ad2a7e1cfb2cc4053c0705abac7aa7d7968eab617f50894797d06345f51c9a669926bd2a77dcf688206a2027e0'
         '3eab84d332d96678fe6e435ee243c8f1a82b838f601d61d3604d11e918aed7a62202edca5e476c4b9031ed284570e6fcd6c659cfdbd9624aa0019d3233755f81'
-        '4543982e70337d01f308bd1a7178b9f60fae5edfb50f14e410e4164ac9f4c11625b6a93bbb66adf808e3c445690db0e77a9b9c7e561d76e4550234ee4e2b6ea0'
         'e025e78797879323bb78752dff8ea4eae984015240d273de8e83e1b7f7f7a8b9a549c33df6b72c40721f05a3df149fe065f9bb8c3fdf4f3b9f759963bb3da288'
         'd66fcad8c00ed29cb50cf6721c89023787b42973c3bf50535c4f822a8870883557396b3ec5cc79465e75d0786246a523db69368b2a7feff40c3430c736999cca')
 
-md5sums=('b5843c3f76958d0efe0134eafa1d4c45'
-         '344d51b4e3ddf4cb4c2e143650b0476b'
-         'b74d848f5527740dce663ae72f39c5ae'
-         '10123caec61006cbe316de8ab7a497bc'
-         'd28e443f9f65a5712c52018b84e27137'
-         '96f82c38f3f540b53f3e5144900acf17'
-         'fe9d4dea2d878a7f0b555b0dae333793'
-         'da6a0dda84638d0c3463abf4bc01e621'
-         '9138244e0e6b98acc770931a4b150b86')
-sha256sums=('d95663fbbf3a80f81a9d98d895266bdcb74ba274bcc04ef6d76630a72dee016f'
-            '064b7e266094e07feae29735efab3246e2b7a3364d6948d2f98d338e827d6a1a'
-            '0fb4915c06b9767933b27adc329e7319485e043fb9f17b1697b969779a00cf14'
-            '94af93b53bf7772e6664c239523ef952ffc905a0de3c2c4b2dfc2fe8f3a2efed'
-            '6abb842764bbed74ea4a269d24f1e73d1c0b1d8ecd6e2e6fb5fb10590298605e'
-            '57dfd072fd7ef0018c6b0a798367aac1abb5979060ff3f9df22d1048bb71c0d5'
-            '3a0bbf9fd61259c4898465c55a8b7cd26202885132ff2b5c685dfe0e0ddd4968'
-            '3cfe36dd202af56b3ef8e6d6a746b24e6f46f0d9e0d3fa125dbfb5e598170afb'
-            'ea771830c15b24c8725ded92e6a9ba9848b13f722357c5f5857dfeb21985d54c')
 
 prepare() {
   cd postgresql-${pkgver}
@@ -117,7 +113,7 @@
     --with-python
     --with-readline
     --with-system-tzdata=/usr/share/zoneinfo
-    --with-systemd
+    --without-systemd
     --with-tcl
     --with-uuid=e2fs
     --with-zstd
@@ -205,7 +201,6 @@
 
   install -Dm644 postgresql.pam "${pkgdir}/etc/pam.d/postgresql"
   install -Dm644 postgresql.logrotate "${pkgdir}/etc/logrotate.d/postgresql"
-  install -Dm644 postgresql.service -t "${pkgdir}/usr/lib/systemd/system"
   install -Dm644 postgresql.sysusers "${pkgdir}/usr/lib/sysusers.d/postgresql.conf"
   install -Dm644 postgresql.tmpfiles "${pkgdir}/usr/lib/tmpfiles.d/postgresql.conf"
 


############# Stripped diff below #################

--- arch_depends
+++ artix_depends
@@ -22,7 +22,6 @@
 libssl.so
 libstdc++
 libstdc++.so
-libsystemd.so
 liburing
 liburing.so
 libxml2
@@ -41,8 +40,6 @@
 postgresql-libs>
 python
 readline
-systemd
-systemd-libs
 tcl
 util-linux
 util-linux-libs