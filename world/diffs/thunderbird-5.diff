--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,12 +1,12 @@
 
 pkgbase=thunderbird
 pkgname=(thunderbird)
-pkgver=128.6.0
-pkgrel=1
+pkgver=115.5.2
+pkgrel=2.1
 pkgdesc='Standalone mail and news reader from mozilla.org'
 url='https://www.thunderbird.net/'
 arch=(x86_64)
-license=('MPL-2.0' 'GPL-2.0-only' 'LGPL-2.1-only')
+license=(MPL GPL LGPL)
 depends=(
   glibc
   gtk3 libgdk-3.so libgtk-3.so
@@ -49,18 +49,16 @@
 )
 makedepends=(
   unzip zip diffutils python nasm mesa libpulse libice libsm
-  rust clang llvm cbindgen nodejs lld
+  rustup clang llvm cbindgen nodejs lld
   gawk perl findutils libotr wasi-compiler-rt wasi-libc wasi-libc++ wasi-libc++abi
 )
 options=(!emptydirs !makeflags !lto)
-source=(https://archive.mozilla.org/pub/thunderbird/releases/${pkgver}esr/source/thunderbird-${pkgver}esr.source.tar.xz{,.asc}
+source=(https://archive.mozilla.org/pub/thunderbird/releases/$pkgver/source/thunderbird-$pkgver.source.tar.xz{,.asc}
         vendor-prefs.js
         distribution.ini
         mozconfig.cfg
         metainfo.patch
-        org.mozilla.Thunderbird.desktop
-        thunderbird-system-icu-74.patch # https://bugzilla.mozilla.org/show_bug.cgi?id=1862601
-)
+        thunderbird-system-icu-74.patch) # https://bugzilla.mozilla.org/show_bug.cgi?id=1862601
 validpgpkeys=(
   14F26682D0916CDD81E37B6D61B7B526D98F0353 # Mozilla Software Releases <release@mozilla.com>
   4360FE2109C49763186F8E21EBE41E90F6F12F6D # Mozilla Software Releases <release@mozilla.com>
@@ -72,6 +70,8 @@
 
 prepare() {
   cd $pkgname-$pkgver
+
+export RUSTUP_TOOLCHAIN=1.72
 
   echo "${noextract[@]}"
 
@@ -80,13 +80,11 @@
     src="${src%%::*}"
     src="${src##*/}"
     [[ $src = *.patch ]] || continue
-    echo "Applying patch $src..."
+    msg2 "Applying patch $src..."
     patch -Np1 < "../$src"
   done
   sed -e 's|73114a5c28472e77082ad259113ffafb418ed602c1741f26da3e10278b0bf93e|a88d6cc10ec1322b53a8f4c782b5133135ace0fdfcf03d1624b768788e17be0f|' \
     -i third_party/rust/mp4parse/.cargo-checksum.json
-  sed -e 's|880c982df0843cbdff38b9f9c3829a2d863a224e4de2260c41c3ac69e9148ad4|239b3e4d20498f69ed5f94481ed932340bd58cb485b26c35b09517f249d20d11|' \
-    -i third_party/rust/bindgen/.cargo-checksum.json
 
   sed -i '/^<rect/d' comm/mail/branding/thunderbird/TB-symbolic.svg
 
@@ -94,6 +92,8 @@
   printf "%s" "$_mozilla_api_key" >mozilla-api-key
   cp ../mozconfig.cfg .mozconfig
   sed "s|@PWD@|${PWD@Q}|g" -i .mozconfig
+  sed -i '/CHECK_EVENT_SIZEOF(TIME_T, time_t);/d' ipc/chromium/src/base/message_pump_libevent.cc
+  sed -i '/StartupNotify=true/a StartupWMClass=thunderbird' comm/taskcluster/docker/tb-flatpak/org.mozilla.Thunderbird.desktop
 }
 
 build() {
@@ -105,9 +105,7 @@
   export MOZBUILD_STATE_PATH="${srcdir}/mozbuild"
 
   CFLAGS="${CFLAGS/_FORTIFY_SOURCE=3/_FORTIFY_SOURCE=2}"
-  CFLAGS="${CFLAGS/-fexceptions/}"
   CXXFLAGS="${CXXFLAGS/_FORTIFY_SOURCE=3/_FORTIFY_SOURCE=2}"
-  CXXFLAGS="${CXXFLAGS/-fexceptions/}"
 
   ./mach configure
   ./mach build
@@ -126,7 +124,7 @@
 
   install -Dm 644 ../vendor-prefs.js -t "$pkgdir/usr/lib/$pkgname/defaults/pref"
   install -Dm 644 ../distribution.ini -t "$pkgdir/usr/lib/$pkgname/distribution"
-  install -Dm 644 ../org.mozilla.Thunderbird.desktop -t "$pkgdir/usr/share/applications"
+  install -Dm 644 comm/taskcluster/docker/tb-flatpak/org.mozilla.Thunderbird.desktop -t "$pkgdir/usr/share/applications"
   install -Dm 644 comm/mail/branding/thunderbird/net.thunderbird.Thunderbird.appdata.xml \
     "$pkgdir/usr/share/metainfo/net.thunderbird.Thunderbird.appdata.xml"
 
@@ -220,7 +218,7 @@
   'zh-CN  "Chinese (Simplified)"'
   'zh-TW  "Chinese (Traditional)"'
 )
-_url=https://archive.mozilla.org/pub/thunderbird/releases/${pkgver}esr/linux-x86_64/xpi
+_url=https://archive.mozilla.org/pub/thunderbird/releases/$pkgver/linux-x86_64/xpi
 
 for _lang in "${_languages[@]}"; do
   _locale=${_lang%% *}
@@ -240,75 +238,74 @@
     esac
 done
 
-sha512sums=('a561eac0bf0b8c72f3337ccebcde9099c342d1b31ce2b1f31096f1f805a195c49d627cf726cd56d41b21ec292d96fd577e8f226fcb24d8b13e0d773fc334b073'
+sha512sums=('5b6b534e076aad916424767886ec9f67672780d0df387e41e8651240fbcbb44415875e11cebf8fdde80b7d7f4bde181fe713657662f1f5f90ffdd807d4fcc63b'
             'SKIP'
             '6918c0de63deeddc6f53b9ba331390556c12e0d649cf54587dfaabb98b32d6a597b63cf02809c7c58b15501720455a724d527375a8fb9d757ccca57460320734'
             '5cd3ac4c94ef6dcce72fba02bc18b771a2f67906ff795e0e3d71ce7db6d8a41165bd5443908470915bdbdb98dddd9cf3f837c4ba3a36413f55ec570e6efdbb9f'
             'a34dd97954f415a5ffe956ca1f10718bd164950566ceba328805c2ccbb54ed9081df07f2e063479bf932c4a443bb5b7443cca2f82eea3914465ed6e4863e0c0e'
             '7e43b1f25827ddae615ad43fc1e11c6ba439d6c2049477dfe60e00188a70c0a76160c59a97cc01d1fd99c476f261c7cecb57628b5be48874be7cf991c22db290'
-            'fffeb73e2055408c5598439b0214b3cb3bb4e53dac3090b880a55f64afcbc56ba5d32d1187829a08ef06d592513d158ced1fde2f20e2f01e967b5fbd3b2fafd4'
             '9897cb0ababc8e1a0001c4e1f70e0b39f5cdb9c08c69e3afd42088dfd001aa1fc6996cd83df0db1fb57ee0a80686c35c8df783108408dbe9191602cddd1e3c65'
-            'b8d4efe5a31aaaf8d1fda0fad64e92014fd9c989a3335af79947d4cba9f49f8c243723ba71494f092c03b14a3df4b51c9e6ecaedf0fc0439df3f4dd870fd6cd0'
-            'cd7d41f5267cbdc6e0c7a397c8340c06cce3a213e6abb63b06e5bdaedf9dcddbbc653691cc1086ba63f45d5b3bea8dbc4e845292c5a5bffc4d40d8c7c735fbae'
-            'c57ec7f29b3ff3eff8e94d56be6292cde5edef45e951ae2cb702c54ff9e48d2cff5a3e5dbd8203bc2f6e315ec2cf1050068c0c3b7f642c2ff72dd2d6c49d4e19'
-            '2105943491510503cd72a6278c60a6c99c9a70352a1698f07e81e7b618a6d5e77e0c1918c26c582e5538429707dfaade269ed1fa8df6de954d1f59432362ad5c'
-            '5765cec6046cae25a11517582b3a254a0e1d0bbcc7fe1ab34cf48b865b34584e598b8548ccc92ae5082c9c411f6ee096a4c758deebb619f1261e66c74c35cf52'
-            '8227bc3393dfcf8f55f4cd861c64333ee9b75e265b13ed867c4d8eef70c8d92ee8e7408655deb3dc16d54771ea382328ea8004c2a73c7cbe18a723ae533210db'
-            '967d2f507303d1271845abb2d4ab7c558c6a1b9d9cdb647d59f9e40e922bc6c22203970c6b512a447ee6d494c13cc4af0198c9a863bb205e1edd485e98a4742d'
-            'c33f22f1313c4ba104babe4bd162ff9d8483b71f2eab2912888e2a1dc65042fa8ee890749a82a570c9605efaa1d6bb874b2fee6daef1941a36fe491edd02c73d'
-            '0d5bd9a69f6314b67745775c58ec8653c2369a5cfd7306af8395d8792230247e518abef5d1859378e52609e963dc645e934bf6b18c3abae4836014792382ba37'
-            '315c9a888ce877879a1080c19520315eb7be2b5cf8c0d30f9cc49c382ed97a90bb94caa19d607ebe96d7f97b43f656723346ad3580fe110510fdaae455aa9d5e'
-            'c2871fe936a23fac5f7b876d41dd0500de6359a145d8a4ff11edbd25041623960172af552632b2501a165b1aebc4edf4b88eaffbab70dff2b5e1a9fbcc3d9c75'
-            'b1a051755bf2b3918386e2b65ce3e43f3b504024d1916510c8a71ff5068e933b0c729c4b1e823d4ab8aa0509e2e187446b5dfca1d6d315e7dfba92df364919d3'
-            'd0740b71e3c381f740ef7bb1a4f3fd84ac3dc030b5119b58db5f008fd82f3159f1b19e48f92ed32b599052ab0f8f49a0523d74dc371ed888d76bcd80b208f8d3'
-            '2a119aed7b83de6a2ac7341d00cfe2889bde0ccc6a74b2b25fa8e3542238c13111a31daec13390090af6bcf76fe1baded0065c040a83e6a5dccc5f390e3b798d'
-            '400383b2d1808bceec7c3b8a1cfc4fc4c56ec49341145d9a9def64b6f55f99311efe56cefa09fe037d78ed04b355141abc66e0ef048348f614a00efd02e849de'
-            'b801a213a3f87ed62612f58f8a5834d94e506e3bec7f214db9edf8a0544aaa7a6a468353a56fbdbf14ee8ede437997e2b0705a998e78cc77db6a93cff235d188'
-            '963c88d801fb1092a4cca94be64ffb8f467b9dd3fafb3395c7b25bbc377fc9186df086502f25f621f2c43f26ead345234d9553cba5e29e2eb1c332427c4fbde6'
-            '6bf64be7c04df40c531682b03f282856f020bc7910ef3a1a4b01e83159506f6afa4085fbba1d5af2c92ded46efb5f36ddbd4fa9ddc4c6da140eaf52af220ca8a'
-            '50ecf804139e5fee2b92dc1bfdecf676d0cd3d3ad74cf9a49f23233e4211d8d5dc562911a87080db76d5ec8f3213d626793394220d94d0646567b1c91f135ddd'
-            '3eff3d9ae78f416f2292cce32a82ccb1e54ec32c04efc0deeb2fc1bf9d7e0e2aace59607f0275a57e4081748dbb93af50fe345c13e8dec22a6d0d3ca94116e2f'
-            '3cee622136e2165184ee7cb43e453483c95d617afba19b49fdd25d15d6050ee7bede17b6b6911333b82a30f07f55ebf49b3c8d265a803484af6fbae111bfb799'
-            'a29311c5849c371402607a92cab485394b648bab8c753f619a1c68505f50799603c533da42cde4c2a4c208cbf33e9b5596093033d0d665c84112ed7e0b525be1'
-            '73904123c62bc4669aa4a4b54059d3da74b12c03a75c5485f72139319c307caea47f58e6626e5b450de5d1f45328099de85999256b90d72977789e14c45290ad'
-            '4375d6cb7db6aa07acddc73610f791c069ecb88e39685b0443f4f2f5b1c759f68f503f052ac959608248a8b1fc939dcc851d2c3619a61b95c792401f457700cb'
-            '878fef6be1be5e68f570a9845a62080c69cfd1ff7fe265f63806900e30bb72d0491300f7abf777e57c70e211c47ef55a4de5cb7beb2f30efd318264da139bfbf'
-            'ca1650451c1bc9815637201f4fe6f835d20ead6fd869dd65f1fc1740f40c5bd4770d18b9d33f1fe2bfbc6af1538a7feeff627a2daf39f7942b506c54f545980a'
-            '380cc758eb9ae27186e07d27ce38f875daf0a8cff17da511e984a8bd2d9b9f90cde973f574672d7b2845b38095e3beeaddeec2e9e907f7f36aee1e9b4d90f36c'
-            'e75c85d1428d3abf930764d703c2f36e4815a03c946c4d102672ce748015d8a3158f2d72d9d306aaa9b5767bc2b9be91afed3b2b1fd9a8e66cd149364654134f'
-            'd9e7b5aa7442d5b1f95fa06c379bcc23047836f191143b1c3b42d7ff76a5c89e493602bbccc0a3b5b30ae4abfa661581aeecea495d98ecbd6abf8247aca4167c'
-            'de2972fa16663da66bc7ece9efd8d22a0625a35fe009d5c6ab60cc841fcd9cdb9afbe39c0fad6b8a2aab56ee36f221676768b6554800d8c728a39d4911276997'
-            'eba3d1b66a8d10fbcb8cb93d9a89a0705ceb1e54998672607dd16153ace8558b3005f2d0500d0e24684014e95fee17c8a25d95b66a1670623fce6898e12d3f98'
-            '455e198b66a91d033a29d7e61f8af887ae672a8064b771af944548001ec989de2d41a07edec7eb0acf4a3e8118567d14ec0be67570e3d40ab05c7ec25fcd9b98'
-            'f602e41899166e92bf68001563a4817a5884b95899ce468f074907adb2e92d3dc76ff76a00f7580309744e05bb4518bdddd5c4ea506079daaa6329c014f815dd'
-            '937f1616f8a0dbb2c6c7dbba027efea7c7a452c9a2691b2d03ac114b1484bd8f51eebe5cc907f56779fb00d839d1b115e11de937fa6b0be434645656e9add71e'
-            '1ef79f1d840b887b7a0569f6d3c7e97eb2322616a727b477474fe669e4bc5e655b7bcf5acbea8be4894e7b2f0e33829d8181517fc4e551d12b7a44f9dc575fa2'
-            '2058f912ad4dd964d661d031fb97e2f3c120188e3467da12dc21b89169f1525b4909dcf8b64b2804e6cbfb56cade85879a8666a98768b5b117e1b8ce073540ce'
-            '6f221da487dda45b2d8da905a545c60b98cd40788d32d73c7a2d752738b3b8ddd653ae05f2e8a6323a12dad5974584b8b4c73687eb6300c3daded50178006212'
-            '8ec4b88ed4fab840e0040e10fd8db1d4f332de956e970403b538cb7f2563b0a34737c7c1cfc6acf1f2653b259cb1b0631c8b88f2c64e217d618d3659116673cc'
-            'e747dcbcdae386164028a2454a8c4c45419f01d087794f75cdadc09a569e1aca88435f39951ad53ac7b000c3a1f5ce1e522670a94cd937ce8bc6723e0dd76f19'
-            '78d990650323399c975e41f2fd8f3b7449d34c64ecb93f1c0ae9fe290a1610a354278ca8952ed4e380507a6637203cd24c67d36a9241f7fac811dd170a0cf9b4'
-            '876e48c0c68cd7f8fe5a001f44a507fcd64288944bfe9c7c84d1103c44303f57b34fade9ed17da73514a724fd203ac8438af3a61c551cfbb324811b4dde5e4fa'
-            '99d52606674fd115ba9f5699d797b7019c5e443d8273cf04a91e6f76ea4978606efa6ecfcaf7357c5b0c24a5d949a0ec0c44642ed71ef311f388c016d63eb862'
-            '00369570b88f4387f11eaaea1ed0337143b4c2d252b0e5a6d0352c5165c9cbffea1b9580f82f5d6b402adfd1627b637caf107ed47c56e071d5377fa69ba56314'
-            'e98c72b7e11d520f81a60f3115d23cb06812dd5fcf65e61087338459b5d79180b8136b3bb0ff0fa1aef8483e686839bc358c0d9bbce58339387be57c03de68a2'
-            '929f478206ceb94b6a27f7a53738a43e844f200a5ef6e061c3170710a2b5b4bfb12e9106e0306c5f5c3b4bd6d857d6fc3280cd45b019397b9aca290e3af01131'
-            '26a2d2cdd1bd21d7e15348849ad95a4f33bf317ac31d8c76b447e4998e0e187a1f87e54eeb5654758054a2b2f5aa89eb3d409de4239447d3167838ef69395d4a'
-            '6bf1231fb8c18082d296a9dc9a612047c2f615a6cf47228b64d3d7eb131fc3f60eeb74d5f47c3313d8d19d979c13ae28ba196398a48f38de1a4470b9ee1075b4'
-            '399a966c6c0151826d9b55d517507d2c039bed846b288621339e416f3f86cd700e86b55c3edd4dc15412fe2aebd5bf7064e6217b30bfb7f63a19e78297ce9459'
-            '767ba60cede87c497823cd75debc73dde92b6185cf1641e9755ccf6a31e1396ecab99d7b35b25eed3e3c25660bced9ef05b3ee3b2a383f42b29e4ddfeb4a9357'
-            '304993ef19990310b9cea9f1edbd0bf26bc40de36b29a0cbfc0bf34e5ccfac9345e63fadf1f98d6534a7d1fa66d89d2a1157eb2cfde18643d3432d421b02108e'
-            '004a59985a3b68da9b5b57e5d67f84e4af231d9d79cf09a9b266e926634c098743877ba4496bcbba831929331fad41690dbe2ffad5335746f2863d98c908b464'
-            'f809469dab44d024d6fee4c094f7682ce875bc53e45a1441d9656df2691931fa2a8fc599fc14986295cd983062e1455485ce4e0259c46231d34296afe833d268'
-            '9daa2f3460586204f33ecd64a30482aaa5fb31f0d6a9e53a44aa361bfd1ff802363ea0c5109a089086e8978fe16fcbc8642494a36e294e7c1cef4562118f020e'
-            '75cb0917997d6eec80560ce0ff45d620061586e5740ad4b8b8b7e4196410f9fb1542f95e8bc40ee7d9c8aa741d909c0088f5338df66c1087431982237d2576c6'
-            '482ddf1d352e2851387de67afe5fa1cf32253d7f0034a61eca799cb4a863dda192b0d70a31e91abdc1245d7e627a676793c2abb0e1dc92f72bd9c0f790201dd9'
-            'de455beba43db7aa97dedb9e4b8aeacaf4359a88083df250055d08ceb5e93e30d8f306aa3c7c9283124c8876040a2d0de184eafdd430dcc94f0ef36de7ae08f4'
-            '1b1e83f1a35a1bcb2e3ad084c922b89d5bf2ab90827eadb315e60d5868dec0fe93b26951a36ca2301083f7878d51c12449abb6292888735a99cf5b20861fb01e'
-            '92366cf98ed85f114aed2489e3a4d92d6d51949c24c73b0928c3b964edc33134be09e83daa697ab91285c7a46b6f9c8a299eb1545edbdb182bb084fcf753d4be'
-            '39e0b2819efe5b7716ce986e9ee362d2d367089f138836aac70b11a4e47ca3043e411e1fa7b7ffa5ba9c85a7422206bd765e43e884b729cf8115beefaec72e87'
-            'e44844d875378e9b325918fa56470921e782950515f467dd366d20fc6dfa05284e68b60e72bea0c6e0e92b776fd43f07090a63bfbf2a20e0a956bb048ea302aa'
-            '1d4954a691c24b8a097c111c87ef476fcb03ee38eb35429c1b77ffe7732fe24c136f20a8f6d707476471a640a05e3099e8156d2b2ab6c07ee0af5f9fa6d24f89'
-            '4448164c809d52efe1e5406117be01bd582fd75c08a59af5f54bdaf885e86e1753ecd69bf910396c70e6f7f6cc9c201bea65201dd99c55942f59bb8fe3926374'
-            '6171c002769eb847d96a693440bba6f7246f033357dc22da93858a1a70833aacb28eed95e21592f49652221895fa1ecbefb91d0e24f29ce01d0fe216fdd5fcea')
-
+            '0fbff2d2f9495dbf6598f5b8016a02fbe9d057c5fd49e28a5fccf37e5980d31482887054ec4da621498cc7259141e50f1e9a5b3ab3e9a49228b2cf7ae64fa85d'
+            '3220b8ec9d9860537b4c045ec31fea6ffe1af47599649e35bd01c6ed09bc385b2593c1434d5304e65559eface6e23164bb18a90e513df64f85ecd4ce76c348ce'
+            'b9851d09cc0ed450334ad1167788a7dd1e257bcf07bfcb37d4f72c8870b027d848a0bd06c24e3f0348ebbc0607ccf3a7a64a755cd965138401236317f5c755bd'
+            'e1b373d3bc6a7f511777d3c530d5cff03e3229418b3b7bae5069fd38b81da143ee42f693b2c4c7e5111ca42af8cbef410042cfca6c7b336f1650dbde4f89c367'
+            '8c307a0ce57cd080331cfb09723a92e0e81b69bfdc05868cdae85bb18a93f52a2c258cf10a98f2ee119cf0060f3daefa79e5b0e5b3fe078c85f84e821460ade9'
+            '41b3e3405ce9c86ddf0d14a1101c77c22885330942df19b0fb5f5969dec742c1e9d3da744b95928bde0981eac26e18f8cdd72ab9088e43647f332811bc7bb6fb'
+            'df2b019c269d7e2aa97faa8ab1664a6fb11f0e6a8ff7f62d3b90c2d16128a9d1a0aadc99e5e9abc1fdc73b99674051406ef2f7437dbb201657d2fdbed61e783e'
+            'aa97c2bf2ad8c0074b2a6233ebaf13ed06d96204c8c39fb54449dc00164c6d6c8b5d48253073d92c6ec23133f7fe38cbfe10f6b527f789878d1ec253d537060c'
+            'd79e70353c1dcae9e33b5b65d445b13144939305b871b9a343b9dffacbff7525347aaee8badb3fac8ffd03e718818d6400867d944ed945b44d580b0a09505ef6'
+            '6f2d60c5b1994f8c994664e003d522f667e4eb1b1ca402be7c25d6511ebc965b82b6974d448dd5dc036fc2ea4955b9237cd32f5af219a5baa64c22e991a70a2f'
+            '4ea920e82a66a2f0efc45a8ddaeaa32df72eb12ff4c6eaaa7b78249880907b402ea4e131baacc0b1584eb61006fbdd5bf0f94037d86d8ab215d6fb430f0948d7'
+            'ccc2babc9b3a4a47c8ae53306bdeae3b5432904e86e413dd42b84cc8e95a245c7d27755428e65b2fa2f8c4acf020b67999d9c0d0d05f0cc7dade35372d625bfa'
+            '94b62e76238547e54d77444ba5ddf57e288c5cc407d4622a0e5bafa16f1f81155cfdf5ed9c1a7ec7a33a735f9367d0be84a389acc058d1461b4e0e3ad0d92ee5'
+            '47776c41c832179cc790cf473e23dd847b9581fac5ece9304ed960167dd89a9e4f2c21eba4c0e4d3caf2393d7a0020d2d708963cdccdf9f733b75961c2263801'
+            '87a169b40178a669e88fae0d7a64d7b26e3db45c86d0413bc4c34aa2192787c75c70bdd402076dfac61bb19d2ace47b09e245943a985d0df1ceea20ff3b75a07'
+            'd9dacb77d37542260fdcfc26440cfaee2803f1feffb300e49d3402ac487744c1254e8f845eadc96508f782b2967402e68ba605f60ffb0b5a99e25c8281f52b54'
+            '3b5e6de6e61ceb12b1711f53d4a3b44448813adf5c1322d7cdbd41e35021045e1e93e7744e3d5a0e3db8dba5499bc0c191b04ad388f6ed94154a017250a4f81b'
+            '88770df83c4060925001b8439ca6de88ba23b0991770b430bf6b264135f0bcba8355ae42fd7d04fbe6ced263782f4a11f38b6aaf4e0e2727718e563c7fc18dda'
+            'b2de37f1b43e983f715530aa199f20111e99924cd58f809c8022d8f6b6e5a8aaaf455ad5ab5c043afa89665fcb7c955029b164aa7a7f5dd1088b60ca583bdcfb'
+            'd5b55d9f52c1ccfd591f6c2f16d1bca9dc6e141d8c12db5d9244d841029285d5c2a471e518e628f786dcda78c246d93d359f14b3101808d0b149ca37187cc62e'
+            'ea49f62eb23b6ea811f039810db11a9825a19d857284e33084b936e62d32e408d6b7cff2734765a9715cea5df903063d8f9fe5fbb49adf9632f223adcb7a1eec'
+            'f5ddbac26060e4abf4ff87fdab707f6569e385567fb10031abf23b0210d6da1b0dad8114109f99ab59538bc9377d92bb3cae864e6419858b6e468fecd3e099fc'
+            'f4aa579004f70fb36a5d67f0bc0c11e24102bfbef2b0868478302f73c0f7b5308d6acba523e0e5937a7039a1625b1df167cebf8881b209c2f18dc4a767d426a0'
+            '7d7e4382477673816c035a48cad3cb31433bc424884fe73349d69584f1b1d5739c02693e9c1c893845499b911edc9fe41620751c16fa487aa165cee72b32c9e0'
+            '8354d3326c45cca804fc4c18cd4320aa3a7b298a533343a882758de753857b173c24b08f85b86b8ef04078fa061435283a055cea433ca79707fed65d39067307'
+            'fc607a0e1c87bd3b2bf3fe833e7cf46d7e9355d8a596b307a2248617e8b06382f575b4333b208e1f8a33b398781267620b09d3ff7e5821b5c400012b8005bf58'
+            '1aaf19012d01b942edf35a0c5fa47c0f03b909b396abb1846c76668e6427e6e8779070971d55a74285b12e2aea0d51717af2e756d19669a1bd44bd58be6bb1c4'
+            'e35f025bbfc5f9d621db0506f252c55f2e1898b417e5233ce292a3bddcf6743188cc462585a89a85c060cb0f1640a234f2593ad91d509850ef9a744385fe73b3'
+            '178183996365dc502acc216c9f9583efcccc2fa3c8dbaf4529d32c0619c9befb4ef483a13cfe0bbc26b5664f8e2be053cf62aa38ca121fa84823cae3c7185da6'
+            '5539ff42eac66a4e091fc5605ab707ec6aca2a684ec6e5377e36bda29dc6a780828d3ba827b867717a2bce24899b01a6b961c2dcadfd3352a7fc0fb8f8bae27d'
+            'faae8240871ec0502386025e868288aba5c27ca6c2dffbfdef688ba4d233a5da2dbafc5853aa7f5333f110c0e2921e1a8b77d05548ffe4321f56c5950807cf18'
+            'fc817f8f5f3c5dce17335650fa2b8876053286c4d2f000f057a75ad49defbd19bb07e3d3ada6a58844dbb0813f1291e3c160a0f6f581e5a82f7d3f9dc2663b0b'
+            '9a91d106f563971af9fa0dac7c276f5607ec514a79e15caf1864a7d164802ccb13ddac3b791e8919f34ff8dfaad6348fb5e7306cc7a6ebbe114877b44fe1b1b3'
+            '55ccc7d26f80915c3e012a2e73082f30971453d69133b31db6ce1d1d034600b18530e4efcaa61b023e4bbde33c413bc798d6f5ecc5497f08f03f9125b764d732'
+            '8120b894e405e121099e00585f5c7d6beb3dc993fd106890c8a21ae0b4e4770a74d3fba0e70f8dc69641396367d7a718912ea3ce4a73ef5507251e7e20c199c8'
+            'ccf2935c75cc579a52a8f19be9547e0e881436b8c9999729e56adf7314c4a9ecfb58b0ddd6f2927f82b447ec180618ebac546a2463f91fb47105e315aab6817c'
+            '22959b2b7d13d3b804e4c11ddebd47bfc29c3de20a5a429088dd03603607a2b1171e02abd209725b849d28b754e89c8ef85270e9f7b7dd301c7a57c002789d73'
+            'a78c1aacb0586d5d8b9f029c4412bfc8a6ee133d4fa9e69755ce28dde2d01ca7d42acaccdeebfffb16b65094d06df561c8011dbb8ae9e803a4c9b0e84b98da27'
+            'd2be0d9d3cda3c97c594274d5369589fdb1652681f97d378ec80fff354841dd2de8cb56435b4cb399f07f1a30679b847beaa79a562fa9c65856eb5ecf354aa1d'
+            'fb4b5fedf61e35516d190d146d3fb9869b621aa69e546ab23b67bad70d5755565524f226f7e615b3941ff1f65880f04821bd24e30d61d036834081be32774f5d'
+            '4fe6168fd8141238f85e7dae9e4cad012e65d27c8dccf0b65ce776a5fcaac22e4c380e4e1a16fe941d594e1f67ffd9f8b2f7e98d7d57c77eec33ab5c9ff78f2c'
+            'cf360191a7b1b987582657d25ebccb2fc6f637bdc0aee1ffde1bdc4727a9eb0ad1bca1016b0c8c07b7517d8fd47e2a60b5dcbd73d7df103558ad32876a1d64a2'
+            '0fdc4d41e5e9e93777eb419de23ce8d6eb442b56870be454a914a7b6f6f52e9e23c7c42cabf0eca5d0ab1f2d6c1b321273c5c46df12467b2bc3f5e2c2c282041'
+            'ce0e17c5f96c37b9d92de561d575fffc2ee5938d1ae769f217001d783e6716c24c1056ddcbf658bdded9545402564b23d542787a06f2c59b67e397c0090504c1'
+            'c0d99f9ddb966a0375c8b0b7a46bccb846e7e993d5b38e1211298f684426410fa0efb49be6b4b3b4492ecd61a142063bdf2facbcecd21bd1fe45d0d058c31c4e'
+            '65a9635e0abb97f46d4e1778e403a5bacb6fcf41569262b21df161890c2ebe3cccc37e3cc336c88bb0e805f7414d7112272944782187ce91029b1870864532bd'
+            '4f75f59fb3ee26a586c6ef25ca7d2af8e37b3ae5d21e043e1b9537ce50e3a34a5d3a657c507fe07fa536f936e14145c0e2eb13b0ce9a4a1f640ef30ccc720a52'
+            '13d0a4e81896cee96a4b10fcd2436a0b11c534cd238c0ca861724085c2604e1cd97368753cf60f649419941f4c9719bfac94bcf3666e3330e8c5b50fb2e5b2f7'
+            'b9bdd5d3e1ddfc5cd444c312f94c6b7e559f62240e9c03bea1a52d7f305f562cc57797150fb99dc55cdd49794838c14abfc4b43e797671d2aeabe188da96786d'
+            'f4732f0b9e16c46ac16812b1db88170047071f65ec66c50cf4acc5a1e2b7885bff720d56f55ebaf539156eeafe60e49da4c934e0fc1a9fc68c90ad0a61b7c22f'
+            '8c874afd8dc04807bf0fa12daf5b82ae4e563e87cfd49a620f18bcf5dafad5665ed484d5f635c10226284de32823cf8da03e8ba03f49b8f9395c2a0cc808f10f'
+            'b2a4d4f13efb4994266063614f518f3dab6ca54239c0410e65f9228773def6d841a5427a484822d83afa6ed0067dca8e2f7110d4a4a744e5725eaa044c23672c'
+            '5eb95b9cc38657d8de0395adbdb91952e93f5f717b22f32b9682dfe209d0bf4b872200ceafeb927f3fba0724e9dfa1f85ab6882dcd12640156e224ece7f9a0cf'
+            '024cdb02cebfee98e20d21ba654ac7d19aa0f9cdc366aed18406c26e44a8d563821710b3cbd3f3fc52a08749085147dd5c73755445484609cad58fa1b8c3da3e'
+            '2ddbe7b627da4f6c881c1304f9f3d3eba6a9657578377d78836cb1a7c7feb28e3887d98f0be348646042bb438dcaa5184566225bffa86b26d89b329ce2ffc444'
+            'bac05dcbdc971bf22d8bf740cbfb8a30805001555cab30027becf25d85e995f72a9fe42aef958495101248bd98509a121d86f8edc1ff83da8fa39b6af3926893'
+            'cce762cc1090df030421ff05c5613da7f735e780931a48dea4240ae28d11fa9d9c95bfe636ac58533b700ba1ee97e02f51fcbaf1baa2f5af20a3100d7501aaa9'
+            '453d74b56e95524f878491087c6b52d59e057c6f732d463e055f849dabceb523cf7aa19ba1a1ced0e70b4187b04cf2cace92ffb02cc308f7583950efb7773b90'
+            'd850413c6348b407492c949013760118802c345038bfb4a6a684a75fceed7779db8e113b644ab7650bb52d201eabdda4f451a8e7473b5c3feb2cf7e4e241f8a1'
+            '91c62efce7ec740d5ed72c82625bdb9163d5f395c2535837a49d127930347e1eef553d5d950d00b3524a44d5773dc52eb97388731861975be9d6a1c05d27d094'
+            'cb654e444e687a38bf454fd6b059b0683ad1af3aacc203149dceb50f45da7819af7900fa4def7e05864d389942533e3b569068758d547a084d51a7052c32648c'
+            'a857eb75cef56d7e9d472844e31b89e871b35901c4a58964a6b803c8c18265ae36ec24b27881cfda7733d49b1ccfc74271b3169cdc02568f92426014177aae96'
+            '2389ec68c15fd275a7f0d71025ad7a87cb7e3b567513ae44e80ecc19eaf00e15bb6bdc85fb15c52deb5d8e9a0449ccc86a36026e0bfeec2c32cc16b994258e28')
+


############# Stripped diff below #################

--- arch_depends
+++ artix_depends
@@ -64,7 +64,7 @@
 perl
 pixman
 python
-rust
+rustup
 sqlite
 ttf-font
 unzip

--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,23 +1,24 @@
 prepare() {
 cd $pkgname-$pkgver
+export RUSTUP_TOOLCHAIN=1.72
 echo "${noextract[@]}"
 local src
 for src in "${source[@]}"; do
 src="${src%%::*}"
 src="${src##*/}"
 [[ $src = *.patch ]] || continue
-echo "Applying patch $src..."
+msg2 "Applying patch $src..."
 patch -Np1 < "../$src"
 done
 sed -e 's|73114a5c28472e77082ad259113ffafb418ed602c1741f26da3e10278b0bf93e|a88d6cc10ec1322b53a8f4c782b5133135ace0fdfcf03d1624b768788e17be0f|' \
 -i third_party/rust/mp4parse/.cargo-checksum.json
-sed -e 's|880c982df0843cbdff38b9f9c3829a2d863a224e4de2260c41c3ac69e9148ad4|239b3e4d20498f69ed5f94481ed932340bd58cb485b26c35b09517f249d20d11|' \
--i third_party/rust/bindgen/.cargo-checksum.json
 sed -i '/^<rect/d' comm/mail/branding/thunderbird/TB-symbolic.svg
 printf "%s" "$_google_api_key" >google-api-key
 printf "%s" "$_mozilla_api_key" >mozilla-api-key
 cp ../mozconfig.cfg .mozconfig
 sed "s|@PWD@|${PWD@Q}|g" -i .mozconfig
+sed -i '/CHECK_EVENT_SIZEOF(TIME_T, time_t);/d' ipc/chromium/src/base/message_pump_libevent.cc
+sed -i '/StartupNotify=true/a StartupWMClass=thunderbird' comm/taskcluster/docker/tb-flatpak/org.mozilla.Thunderbird.desktop
 }
 build() {
 cd $pkgname-$pkgver
@@ -27,9 +28,7 @@
 export MACH_BUILD_PYTHON_NATIVE_PACKAGE_SOURCE=none
 export MOZBUILD_STATE_PATH="${srcdir}/mozbuild"
 CFLAGS="${CFLAGS/_FORTIFY_SOURCE=3/_FORTIFY_SOURCE=2}"
-CFLAGS="${CFLAGS/-fexceptions/}"
 CXXFLAGS="${CXXFLAGS/_FORTIFY_SOURCE=3/_FORTIFY_SOURCE=2}"
-CXXFLAGS="${CXXFLAGS/-fexceptions/}"
 ./mach configure
 ./mach build
 ./mach buildsymbols
