--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,6 +1,6 @@
 
 pkgname=cloud-init
-pkgver=25.3
+pkgver=25.2
 pkgrel=1
 pkgdesc="Cloud instance initialization"
 arch=(any)
@@ -23,12 +23,12 @@
   python-requests
   python-typing_extensions
   sudo
-  systemd
 )
 makedepends=(
-  bash-completion
-  meson
-  netplan
+  python-build
+  python-installer
+  python-setuptools
+  python-wheel
 )
 checkdepends=(
   procps-ng
@@ -40,7 +40,6 @@
 )
 optdepends=(
   'cloud-guest-utils: for growpart'
-  'netplan: for configuring network using netplan'
   'python-passlib: for Azure and BSD support'
   'python-urllib3: for LXD and Scaleway data sources'
 )
@@ -51,12 +50,12 @@
 source=(
   $_url/archive/$pkgver/$pkgname-$pkgver.tar.gz
 )
-sha512sums=('f881cac48fcb421fc07a435cd7a1acdf0b0c13aebf997af3100ecaca276e595a7ddaf778cff817c385a6b0103a36e326a5eeb8e281e8ef270ba2a4508d91168d')
-b2sums=('c49494ce91200f54a194554c19067f6533587fe3caebaf54e71d99548dcb956545ae709a775e09fad33a84702043b4e311626103c42b7d72190d1304bc45bdb3')
+sha512sums=('7876976588484c0dc387b793ff26dcc078ebf7ec4003ad3a0d1de7b5f71e80702f5bb6e444579fdb30abd80097a61ad5679c0776718701a6592d69b59afbe302')
+b2sums=('5c4a0596453c62d2d0fcbb1d672e501f600a3140c040ce0584e079b597729a87cd3c763a740ae8eb0c35590f1ac3e9606c24eba5713f237edcfa3536a3028d44')
 
 build() {
-  arch-meson $pkgname-$pkgver build
-  meson compile -C build
+  cd $pkgname-$pkgver
+  python -m build --wheel --no-isolation -C--distro=arch -C--prefix=/usr -C--init-system=sysvinit_openrc
 }
 
 check() {
@@ -75,5 +74,22 @@
 }
 
 package() {
-  meson install -C build --destdir "$pkgdir"
+  local template_file unit_file
+  local site_packages=$(python -c "import site; print(site.getsitepackages()[0])")
+
+  cd $pkgname-$pkgver
+  python -m installer --destdir="$pkgdir" dist/*.whl
+  rm -frv "$pkgdir/$site_packages/"{usr,etc}
+
+  install -vDm 644 config/cloud.cfg.d/* -t "$pkgdir/etc/cloud/cloud.cfg.d/"
+  ./tools/render-template --variant arch ./config/cloud.cfg.tmpl "$pkgdir/etc/cloud/cloud.cfg"
+  install -vDm 644 templates/*.tmpl -t "$pkgdir/etc/cloud/templates/"
+  install -vDm 755 tools/{ds-identify,hook-hotplug,uncloud-init,write-ssh-key-fingerprints} -t "$pkgdir/usr/lib/$pkgname/"
+  install -vDm 644 doc/*.txt -t "$pkgdir/usr/share/doc/$pkgname/"
+  install -vDm 644 doc/examples/*.txt -t "$pkgdir/usr/share/doc/$pkgname/examples/"
+  install -vDm 644 doc/examples/seed/* -t "$pkgdir/usr/share/doc/$pkgname/examples/seed/"
+  install -vDm 644 doc/man/*.1 -t "$pkgdir/usr/share/man/man1/"
+  install -vDm 655 bash_completion/$pkgname -t "$pkgdir/usr/share/bash-completion/completions/"
+  install -vDm 644 udev/*.rules -t "$pkgdir/usr/lib/udev/rules.d/"
+    unit_file="$(basename "${template_file%%.tmpl}")"
 }


############# Stripped diff below #################

--- arch_depends
+++ artix_depends
@@ -1,11 +1,10 @@
 bash
-bash-completion
 dhcp-client
-meson
-netplan
 openbsd-netcat
 python
+python-build
 python-configobj
+python-installer
 python-jinja
 python-jsonpatch
 python-jsonschema
@@ -14,6 +13,7 @@
 python-pyserial
 python-pyyaml
 python-requests
+python-setuptools
 python-typing_extensions
+python-wheel
 sudo
-systemd