--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -44,7 +44,7 @@
          pcre2
          shared-mime-info
          sqlite
-         systemd-libs
+         libelogind
          tslib
          wayland
          xcb-util-cursor
@@ -96,12 +96,6 @@
 }
 
 build() {
-  if [[ $CARCH == "aarch64" ]]; then
-    _no_direct_extern_access=OFF
-  else
-    _no_direct_extern_access=ON
-  fi
-
   cmake -B build -S $_pkgfn -G Ninja \
     -DCMAKE_INSTALL_PREFIX=/usr \
     -DCMAKE_BUILD_TYPE=RelWithDebInfo \
@@ -114,12 +108,12 @@
     -DINSTALL_INCLUDEDIR=include/qt6 \
     -DINSTALL_MKSPECSDIR=lib/qt6/mkspecs \
     -DINSTALL_EXAMPLESDIR=share/doc/qt6/examples \
-    -DFEATURE_journald=ON \
+    -DFEATURE_journald=OFF \
     -DFEATURE_libproxy=ON \
     -DFEATURE_openssl_linked=ON \
     -DFEATURE_system_sqlite=ON \
     -DFEATURE_system_xcb_xinput=ON \
-    -DFEATURE_no_direct_extern_access=$_no_direct_extern_access \
+    -DFEATURE_no_direct_extern_access=ON \
     -DCMAKE_INTERPROCEDURAL_OPTIMIZATION=ON \
     -DCMAKE_MESSAGE_LOG_LEVEL=STATUS
   cmake --build build


############# Stripped diff below #################

--- arch_depends
+++ artix_depends
@@ -20,6 +20,7 @@
 libb2
 libcups
 libdrm
+libelogind
 libfbclient
 libgl
 libice
@@ -46,7 +47,6 @@
 renderdoc
 shared-mime-info
 sqlite
-systemd-libs
 tslib
 unixodbc
 vulkan-headers