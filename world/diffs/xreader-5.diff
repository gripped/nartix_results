--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,70 +1,38 @@
 
 pkgname=xreader
-pkgver=4.6.3
+pkgver=4.0.2
 pkgrel=1
-pkgdesc='Document viewer for files like PDF and Postscript'
+pkgdesc="Document viewer for files like PDF and Postscript. X-Apps Project."
 arch=(x86_64)
-url='https://github.com/linuxmint/xreader'
-license=(GPL-2.0-or-later)
+url="https://github.com/linuxmint/${pkgname}"
+license=(GPL)
 groups=(x-apps)
-depends=(
-  at-spi2-core
-  cairo
-  dconf
-  gcc-libs
-  gdk-pixbuf2
-  glib2
-  glibc
-  gtk3
-  hicolor-icon-theme
-  libarchive
-  libice
-  libsm
-  libtiff
-  libx11
-  libxml2
-  pango
-  poppler-glib
-  webkit2gtk-4.1
-  xapp
-  zlib
-)
-makedepends=(
-  djvulibre
-  git
-  glib2-devel
-  gobject-introspection
-  intltool
-  itstool
-  libgxps
-  libspectre
-  meson
-  texlive-bin
-)
-optdepends=(
-  'djvulibre: support for djvu files'
-  'libgxps: support for xps files'
-  'libspectre: support for dvi and ps files'
-  'mathjax2: support for math in epub files'
-  'texlive-bin: support for dvi files'
-)
-source=("git+https://github.com/linuxmint/xreader.git#tag=${pkgver}")
-b2sums=('8837a7803ec05e0563705f17e108c0e09eea34894cce140f0407eaa526632db4ae2d077964377108018456c768c3fa977713d2e6508385ff2ff29608dc96ea10')
+depends=(poppler-glib webkit2gtk-4.1 xapp)
+optdepends=('djvulibre: support for djvu files'
+            'libgxps: support for xps files'
+            'libspectre: support for dvi and ps files'
+            'mathjax2: support for math in epub files'
+            'texlive-bin: support for dvi files')
+makedepends=(meson samurai intltool itstool gobject-introspection djvulibre
+             libgxps libspectre texlive-bin)
+source=(${url}/archive/${pkgver}/${pkgname}-${pkgver}.tar.gz)
+sha256sums=('d12ec612039672a6db065bede31c1e88df6a945762e0f85cd86fb6786774152a')
+b2sums=('5d91299c082cdac7516b59cb5547387033b65e9e16af5725df64ea513a8fa9ab88a206101985e3222d90539e28a724050248afc4cbc67928eb02eab636f257e2')
 
 build() {
-  arch-meson $pkgname build \
-    --libexecdir=lib/$pkgname \
-    -D mathjax-directory=/usr/share/mathjax2 \
-    -D comics=true \
-    -D djvu=true \
-    -D dvi=true \
-    -D t1lib=true \
-    -D pixbuf=true \
-    -D help_files=true \
-    -D introspection=true
-  meson compile -C build
+  artix-meson ${pkgname}-${pkgver} build \
+    --libexecdir=lib/${pkgname} \
+    -Dmathjax-directory=/usr/share/mathjax2 \
+    -Dcomics=true \
+    -Ddjvu=true \
+    -Ddvi=true \
+    -Dt1lib=true \
+    -Dpixbuf=true \
+    -Dhelp_files=true \
+    -Dintrospection=true
+  samu -C build
 }
 
 package(){
-  meson install -C build --destdir="$pkgdir"
+  DESTDIR="${pkgdir}" samu -C build install
 }


############# Stripped diff below #################

--- arch_depends
+++ artix_depends
@@ -1,30 +1,12 @@
-at-spi2-core
-cairo
-dconf
 djvulibre
-gcc-libs
-gdk-pixbuf2
-git
-glib2
-glib2-devel
-glibc
 gobject-introspection
-gtk3
-hicolor-icon-theme
 intltool
 itstool
-libarchive
 libgxps
-libice
-libsm
 libspectre
-libtiff
-libx11
-libxml2
 meson
-pango
 poppler-glib
+samurai
 texlive-bin
 webkit2gtk-4.1
 xapp
-zlib

--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,13 +1,13 @@
 build() {
-arch-meson $pkgname build \
---libexecdir=lib/$pkgname \
--D mathjax-directory=/usr/share/mathjax2 \
--D comics=true \
--D djvu=true \
--D dvi=true \
--D t1lib=true \
--D pixbuf=true \
--D help_files=true \
--D introspection=true
-meson compile -C build
+artix-meson ${pkgname}-${pkgver} build \
+--libexecdir=lib/${pkgname} \
+-Dmathjax-directory=/usr/share/mathjax2 \
+-Dcomics=true \
+-Ddjvu=true \
+-Ddvi=true \
+-Dt1lib=true \
+-Dpixbuf=true \
+-Dhelp_files=true \
+-Dintrospection=true
+samu -C build
 }
