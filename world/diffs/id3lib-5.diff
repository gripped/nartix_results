--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,14 +1,12 @@
 
 pkgname=id3lib
 pkgver=3.8.3
-pkgrel=19
+pkgrel=18
 pkgdesc='Library for reading, writing, and manipulating ID3v1 and ID3v2 tags'
-arch=(x86_64)
-license=(GPL-2.0-only)
-url='http://id3lib.sourceforge.net/'
-depends=(gcc-libs
-         glibc
-         zlib)
+arch=('x86_64')
+license=('LGPL')
+url="http://id3lib.sourceforge.net/"
+depends=('zlib' 'gcc-libs')
 source=(https://downloads.sourceforge.net/sourceforge/${pkgname}/${pkgname}-${pkgver}.tar.gz
         00-add-libz-to-compilation.patch
         05-create-m4-directory.patch
@@ -23,6 +21,7 @@
         60-id3lib-missing-nullpointer-check.patch
         60-spelling.patch
         61-fix_vbr_stack_smash.patch)
+
 sha256sums=('2749cc3c0cd7280b299518b1ddf5a5bcfe2d1100614519b68702230e26c7d079'
             'e884395cf0bd7b44a550fc8785d79c0992d749be1edc45b00d289cbbd179c6d5'
             'c41ec6889b775119f71c25fa09bb5110bcf550a14e6aac80597479df453de5fb'
@@ -39,7 +38,7 @@
             '5a24d460c9dd1e643ac57b817ea9cec87f44c1d49381065f83879b2eea36adf7')
 
 prepare() {
-  cd $pkgname-$pkgver
+  cd "${srcdir}/${pkgname}-${pkgver}"
 
   patch -p1 -i ../00-add-libz-to-compilation.patch
   patch -p1 -i ../05-create-m4-directory.patch
@@ -62,22 +61,20 @@
 }
 
 build() {
-  cd $pkgname-$pkgver
-  ./configure \
-    --prefix=/usr
-  sed -i -e 's/ -shared / -Wl,-O1,--as-needed\0/g' libtool # Fix overlinking
+  cd "${srcdir}/${pkgname}-${pkgver}"
+  ./configure --prefix=/usr
   make
 }
 
 check() {
-  cd $pkgname-$pkgver
+  cd "${srcdir}/${pkgname}-${pkgver}"
   make check
 }
 
 package() {
-  cd $pkgname-$pkgver
-  make DESTDIR="$pkgdir" install
+  cd "${srcdir}/${pkgname}-${pkgver}"
+  make DESTDIR="${pkgdir}" install
 
-  install -d "$pkgdir"/usr/share/man/man1
-  cp doc/man/* "$pkgdir"/usr/share/man/man1
+  install -d "${pkgdir}"/usr/share/man/man1
+  cp doc/man/* "${pkgdir}"/usr/share/man/man1
 }


############# Stripped diff below #################

--- arch_depends
+++ artix_depends
@@ -1,3 +1,2 @@
 gcc-libs
-glibc
 zlib

--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,5 +1,5 @@
 prepare() {
-cd $pkgname-$pkgver
+cd "${srcdir}/${pkgname}-${pkgver}"
 patch -p1 -i ../00-add-libz-to-compilation.patch
 patch -p1 -i ../05-create-m4-directory.patch
 patch -p1 -i ../10-fix-compilation-with-cpp-headers.patch
@@ -19,9 +19,7 @@
 automake --add-missing --copy
 }
 build() {
-cd $pkgname-$pkgver
-./configure \
---prefix=/usr
-sed -i -e 's/ -shared / -Wl,-O1,--as-needed\0/g' libtool # Fix overlinking
+cd "${srcdir}/${pkgname}-${pkgver}"
+./configure --prefix=/usr
 make
 }
