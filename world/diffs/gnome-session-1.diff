--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -9,6 +9,7 @@
 depends=(
   bash
   dconf
+  elogind
   gcc-libs
   glib2
   glibc
@@ -23,8 +24,6 @@
   libx11
   libxcomposite
   libxtst
-  systemd
-  systemd-libs
 )
 makedepends=(
   docbook-xsl
@@ -39,8 +38,10 @@
 )
 groups=(gnome)
 _commit=2437153bfd7cbebe62c73926bb85f88076313963  # tags/46.0^0
-source=("git+https://gitlab.gnome.org/GNOME/gnome-session.git#commit=$_commit")
-b2sums=('509cd974134e0ff8f90cd039794eae3751d204e7f6056dd97d18ac141521026c016ee5407b8086b7a1036340e3bbf04acd629be67c125e7cd0df6dfe3ee5fb28')
+source=("git+https://gitlab.gnome.org/GNOME/gnome-session.git#commit=$_commit"
+        "0001-meson-add-logind-provider-option.patch")
+b2sums=('509cd974134e0ff8f90cd039794eae3751d204e7f6056dd97d18ac141521026c016ee5407b8086b7a1036340e3bbf04acd629be67c125e7cd0df6dfe3ee5fb28'
+        '15039ed5d227d9b5dd47d28aa6674ffc2262358278e9d523178eb78081d898974b12a8e26b6de2560f52452df7e045adcf55aaea3cfe0911c1c38933ac8991db')
 
 pkgver() {
   cd $pkgname
@@ -49,10 +50,11 @@
 
 prepare() {
   cd $pkgname
+  git apply -3 ../0001-meson-add-logind-provider-option.patch
 }
 
 build() {
-  arch-meson $pkgname build
+  artix-meson $pkgname build -Dlogind_provider=elogind
   meson compile -C build
 }
 


############# Stripped diff below #################

--- arch_depends
+++ artix_depends
@@ -1,6 +1,7 @@
 bash
 dconf
 docbook-xsl
+elogind
 gcc-libs
 git
 glib2
@@ -21,7 +22,5 @@
 meson
 python
 python-packaging
-systemd
-systemd-libs
 xmlto
 xtrans