--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,6 +1,6 @@
 
 pkgname=lib32-libnm
-pkgver=1.54.3
+pkgver=1.54.2
 pkgrel=1
 pkgdesc="NetworkManager client library (32-bit)"
 url="https://networkmanager.dev/"
@@ -12,7 +12,6 @@
   lib32-glibc
   lib32-nspr
   lib32-nss
-  lib32-systemd
   lib32-util-linux
   libnm
 )
@@ -25,13 +24,12 @@
   lib32-polkit
   libxslt
   meson
-  systemd
 )
 provides=(libnm.so)
 source=(
   "git+https://gitlab.freedesktop.org/NetworkManager/NetworkManager.git?signed#tag=${pkgver/[a-z]/-&}"
 )
-b2sums=('5da0800e5ea38f8eda955bf854c778b93e3a17b80da8602b48e017e66e74392caf9458701f6b7a4b9de85108d30ecd89d5491bd26123925228b6788d3b6aae32')
+b2sums=('d2006832430d95898e183c3a926a747e021726855900f245fffd19076340ea77ec6dac2ffad2bc389479d7ed571bddaacaa1eee257c59352dc9de92caaabb076')
 validpgpkeys=(
   3D10AD045AB4AAFF8E8F36AF9B980AC2FB874FEB # Ana Cabral <acabral@redhat.com>
   F07F7C1EABD382F81CBFBA3B998D4828CD7E1656 # Beniamino Galvani <bgalvani@redhat.com>
@@ -43,7 +41,6 @@
   49EA7C670E0850E7419514F629C2366E4DFC5728 # Thomas Haller <thaller@redhat.com>
   07F9AEC86144386D9576210B66A44781B4EBC2D0 # Íñigo Huguet <ihuguet@redhat.com>
   8D1F4C471D38D59A56301CEBE1974C8D8DD6ED2A # Filip Pokryvka <fpokryvk@redhat.com>
-  1CFF865BDF957BE935765BBD2E1878D078DEF7C6 # Íñigo Huguet <ihuguet@riseup.net>
 )
 
 prepare() {
@@ -59,7 +56,9 @@
     -D dist_version="$pkgver-$pkgrel"
     -D libaudit=no
     -D session_tracking_consolekit=false
-    -D suspend_resume=systemd
+    -D session_tracking=no
+    -D systemd_journal=false
+    -D systemdsystemunitdir=no
     -D modify_system=true
     -D selinux=false
 
@@ -89,7 +88,7 @@
     -D qt=false
   )
 
-  arch-meson NetworkManager build "${meson_options[@]}"
+  artix-meson NetworkManager build "${meson_options[@]}"
   meson compile -C build
 }
 


############# Stripped diff below #################

--- arch_depends
+++ artix_depends
@@ -9,9 +9,7 @@
 lib32-nspr
 lib32-nss
 lib32-polkit
-lib32-systemd
 lib32-util-linux
 libnm
 libxslt
 meson
-systemd