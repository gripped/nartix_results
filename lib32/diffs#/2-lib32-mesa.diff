--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -11,7 +11,7 @@
   lib32-vulkan-swrast
   lib32-vulkan-virtio
 )
-pkgver=24.2.7
+pkgver=24.3.1
 pkgrel=1
 epoch=1
 pkgdesc="Open-source OpenGL drivers - 32-bit"
@@ -26,12 +26,12 @@
   lib32-libdrm
   lib32-libelf
   lib32-libglvnd
+  lib32-libpng
   lib32-libva
   lib32-libvdpau
   lib32-libx11
   lib32-libxcb
   lib32-libxext
-  lib32-libxfixes
   lib32-libxml2
   lib32-libxrandr
   lib32-libxshmfence
@@ -42,7 +42,6 @@
   lib32-rust-libs
   lib32-spirv-llvm-translator
   lib32-spirv-tools
-  lib32-systemd
   lib32-vulkan-icd-loader
   lib32-wayland
   lib32-xcb-util-keysyms
@@ -104,7 +103,7 @@
   )
 done
 
-b2sums=('eb1b0285e14e77c3140275b322ff084fca74a1048e6df38f4b14cb03ed7fc436897f7b33d107d1e262d9d4944229fb1e85d02e731c645ead5a7b269dec9334b7'
+b2sums=('d3efc322388e29f651b15b0396fef8a6acc0cf24881165900845e429dd6cb53d51511f174d6a4017f48962b764b9a42f069825196af9f4ca969a4b46e1108a0e'
         'SKIP'
         'a6d47c903be6094423d89b8ec3ca899d0a84df6dbd6e76632bb6c9b9f40ad9c216f8fa400310753d392f85072756b43ac3892e0a2c4d55f87ab6463002554823'
         '9c34f1ab14ad5ae124882513e0f14b1d731d06a43203bdc37fa3b202dd3ce93dbe8ebb554d01bab475689fe6ffd3ec0cbc0d5365c9b984cb83fb34ea3e9e732e'
@@ -122,7 +121,7 @@
         '7681b1a7497b5711e663773c1a7e076f333c06c10d3f289079a781c36f050c1620cc279742ea8e5b15ec48f3d6038a6079bbda7fee3ae8e1128bd916d53ed43a'
         '8bc6f68ed286bea617a2cfaf3949bb699d3a0466faeca735314a51596ce950e4ee57eda88154bd562c1728cfaff4cdb5bc1ba701b9d47a9c50d4c4f011bee975')
 
-sha256sums=('a0ce37228679647268a83b3652d859dcf23d6f6430d751489d4464f6de6459fd'
+sha256sums=('9c795900449ce5bc7c526ba0ab3532a22c3c951cab7e0dd9de5fcac41b0843af'
             'SKIP'
             'ed646292ffc8188ef8ea4d1e0e0150fb15a5c2e12ad9b8fc191ae7a8a7f3c4b9'
             'a941429fea7e08bedec25e4f6785b6ffaacc6b755da98df5ef3e7dcf4a124c4f'
@@ -154,7 +153,6 @@
     -D gallium-drivers=r300,r600,radeonsi,nouveau,virgl,svga,llvmpipe,softpipe,iris,crocus,i915,zink
     -D gallium-extra-hud=true
     -D gallium-nine=true
-    -D gallium-omx=disabled
     -D gallium-opencl=icd
     -D gallium-rusticl=true
     -D gles1=disabled
@@ -169,7 +167,7 @@
     -D valgrind=disabled
     -D video-codecs=all
     -D vulkan-drivers=amd,intel,intel_hasvk,nouveau,swrast,virtio
-    -D vulkan-layers=device-select,intel-nullhw,overlay
+    -D vulkan-layers=device-select,intel-nullhw,overlay,screenshot
   )
 
   export BINDGEN_EXTRA_CLANG_ARGS="-m32"
@@ -179,7 +177,7 @@
 
   export MESON_PACKAGE_CACHE_DIR="$srcdir"
 
-  arch-meson mesa-$pkgver build "${meson_options[@]}"
+  artix-meson mesa-$pkgver build "${meson_options[@]}"
   meson compile -C build
 }
 
@@ -204,11 +202,11 @@
     lib32-libx11
     lib32-libxcb
     lib32-libxext
-    lib32-libxfixes
     lib32-libxshmfence
     lib32-libxxf86vm
     lib32-llvm-libs
     lib32-lm_sensors
+    lib32-spirv-tools
     lib32-wayland
     lib32-zlib
     lib32-zstd
@@ -282,8 +280,6 @@
     lib32-libdrm
     lib32-libelf
     lib32-llvm-libs
-    lib32-spirv-llvm-translator
-    lib32-spirv-tools
     lib32-zlib
     lib32-zstd
 
@@ -336,7 +332,7 @@
     lib32-libx11
     lib32-libxcb
     lib32-libxshmfence
-    lib32-systemd
+    lib32-spirv-tools
     lib32-vulkan-icd-loader
     lib32-wayland
     lib32-xcb-util-keysyms
@@ -359,6 +355,7 @@
     lib32-gcc-libs
     lib32-glibc
     lib32-libdrm
+    lib32-libpng
     lib32-libxcb
     lib32-wayland
 
@@ -382,7 +379,7 @@
     lib32-libx11
     lib32-libxcb
     lib32-libxshmfence
-    lib32-systemd
+    lib32-spirv-tools
     lib32-vulkan-icd-loader
     lib32-wayland
     lib32-xcb-util-keysyms
@@ -411,7 +408,7 @@
     lib32-libxcb
     lib32-libxshmfence
     lib32-llvm-libs
-    lib32-systemd
+    lib32-spirv-tools
     lib32-vulkan-icd-loader
     lib32-wayland
     lib32-xcb-util-keysyms
@@ -439,7 +436,7 @@
     lib32-libxcb
     lib32-libxshmfence
     lib32-llvm-libs
-    lib32-systemd
+    lib32-spirv-tools
     lib32-vulkan-icd-loader
     lib32-wayland
     lib32-xcb-util-keysyms
@@ -468,7 +465,6 @@
     lib32-libx11
     lib32-libxcb
     lib32-libxshmfence
-    lib32-systemd
     lib32-vulkan-icd-loader
     lib32-wayland
     lib32-xcb-util-keysyms


############# Stripped diff below #################

--- arch_depends
+++ artix_depends
@@ -10,12 +10,12 @@
 lib32-libdrm
 lib32-libelf
 lib32-libglvnd
+lib32-libpng
 lib32-libva
 lib32-libvdpau
 lib32-libx11
 lib32-libxcb
 lib32-libxext
-lib32-libxfixes
 lib32-libxml2
 lib32-libxrandr
 lib32-libxshmfence
@@ -26,7 +26,6 @@
 lib32-rust-libs
 lib32-spirv-llvm-translator
 lib32-spirv-tools
-lib32-systemd
 lib32-vulkan-icd-loader
 lib32-wayland
 lib32-xcb-util-keysyms