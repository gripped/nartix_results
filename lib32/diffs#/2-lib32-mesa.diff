--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -15,7 +15,7 @@
   lib32-vulkan-mesa-layers
 )
 pkgver=25.2.2
-pkgrel=2
+pkgrel=1
 epoch=1
 pkgdesc="Open-source OpenGL drivers - 32-bit"
 url="https://www.mesa3d.org/"
@@ -46,7 +46,6 @@
   lib32-rust-libs
   lib32-spirv-llvm-translator
   lib32-spirv-tools
-  lib32-systemd
   lib32-vulkan-icd-loader
   lib32-wayland
   lib32-xcb-util-keysyms
@@ -73,7 +72,6 @@
 )
 source=(
   "https://archive.mesa3d.org/mesa-$pkgver.tar.xz"{,.sig}
-  0001-Revert-virgl-Avoid-possible-double-free-when-destroy.patch
 )
 validpgpkeys=(
   946D09B5E4C9845E63075FF1D961C596A7203456 # Andres Gomez <tanty@igalia.com>
@@ -129,7 +127,6 @@
 
 b2sums=('bed81e32c05ebff6f2a76bb14387882eed48556737e30e2da2f5a02fbe9e9973f5fa05303e10e624bb703ef56c4fe2f48ab69f3d2806191969d73d99920b5abb'
         'SKIP'
-        '3198b6925142ee72f674a80466a057e0cbaa6beb4a09b91032e6b80da2d56363bbe51787a5a00a056bcee341dd9a9ca9a790fd35a8c5949bf8b49223c34c9a20'
         '431439d31632d177aeb15f910b4f546efa76d54fc74fc8e140399dc5e54eca33fd606f11dbfb48fa83067c8474ee512e62751895d5948367b65ab08b984284e5'
         'a6d47c903be6094423d89b8ec3ca899d0a84df6dbd6e76632bb6c9b9f40ad9c216f8fa400310753d392f85072756b43ac3892e0a2c4d55f87ab6463002554823'
         '9a73962e1e38b84131ab2350b69a1f5d611c549533eec73e898c394a9b9442f357bb5d5f59e1be12270dd29bdf237dc2d21786c0c2210736e224ef5d48300dcf'
@@ -160,7 +157,6 @@
 
 sha256sums=('43d7abcd4aa8049d8fd75538344a374104765e81e17b4a6314cee2c0160e4412'
             'SKIP'
-            'd917b24fcbc00776cb2b24aae2030f1cc456c6d3885392530ee508d108097aa8'
             '67914ab451f3bfd2e69e5e9d2ef3858484e7074d63f204fd166ec391b54de21d'
             'ed646292ffc8188ef8ea4d1e0e0150fb15a5c2e12ad9b8fc191ae7a8a7f3c4b9'
             '7f9f832470494906d1fca5329f8ab5791cc60beb230c74815dff541cbd2b5ca0'
@@ -231,7 +227,7 @@
 
   export MESON_PACKAGE_CACHE_DIR="$srcdir"
 
-  arch-meson mesa-$pkgver build "${meson_options[@]}"
+  artix-meson mesa-$pkgver build "${meson_options[@]}"
   meson compile -C build
 }
 
@@ -378,7 +374,6 @@
     lib32-libxcb
     lib32-libxshmfence
     lib32-spirv-tools
-    lib32-systemd
     lib32-vulkan-icd-loader
     lib32-wayland
     lib32-xcb-util-keysyms
@@ -406,7 +401,6 @@
     lib32-libxcb
     lib32-libxshmfence
     lib32-spirv-tools
-    lib32-systemd
     lib32-vulkan-icd-loader
     lib32-wayland
     lib32-xcb-util-keysyms
@@ -434,7 +428,6 @@
     lib32-libxcb
     lib32-libxshmfence
     lib32-spirv-tools
-    lib32-systemd
     lib32-vulkan-icd-loader
     lib32-wayland
     lib32-xcb-util-keysyms
@@ -461,7 +454,6 @@
     lib32-libx11
     lib32-libxcb
     lib32-libxshmfence
-    lib32-systemd
     lib32-vulkan-icd-loader
     lib32-wayland
     lib32-xcb-util-keysyms
@@ -487,7 +479,6 @@
     lib32-libxcb
     lib32-libxshmfence
     lib32-spirv-tools
-    lib32-systemd
     lib32-vulkan-icd-loader
     lib32-wayland
     lib32-xcb-util-keysyms
@@ -515,7 +506,6 @@
     lib32-libxcb
     lib32-libxshmfence
     lib32-spirv-tools
-    lib32-systemd
     lib32-vulkan-icd-loader
     lib32-wayland
     lib32-xcb-util-keysyms
@@ -545,7 +535,6 @@
     lib32-libxshmfence
     lib32-llvm-libs
     lib32-spirv-tools
-    lib32-systemd
     lib32-vulkan-icd-loader
     lib32-wayland
     lib32-xcb-util-keysyms
@@ -574,7 +563,6 @@
     lib32-libxshmfence
     lib32-llvm-libs
     lib32-spirv-tools
-    lib32-systemd
     lib32-vulkan-icd-loader
     lib32-wayland
     lib32-xcb-util-keysyms
@@ -603,7 +591,6 @@
     lib32-libx11
     lib32-libxcb
     lib32-libxshmfence
-    lib32-systemd
     lib32-vulkan-icd-loader
     lib32-wayland
     lib32-xcb-util-keysyms


############# Stripped diff below #################

--- arch_depends
+++ artix_depends
@@ -27,7 +27,6 @@
 lib32-rust-libs
 lib32-spirv-llvm-translator
 lib32-spirv-tools
-lib32-systemd
 lib32-vulkan-icd-loader
 lib32-wayland
 lib32-xcb-util-keysyms