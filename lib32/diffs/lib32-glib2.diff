--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -3,7 +3,7 @@
 pkgname=(
   lib32-glib2
 )
-pkgver=2.78.4
+pkgver=2.80.0
 pkgrel=1
 pkgdesc="Low level core library - 32-bit"
 url="https://gitlab.gnome.org/GNOME/glib"
@@ -19,7 +19,6 @@
 makedepends=(
   gettext
   git
-  gtk-doc
   lib32-dbus
   lib32-libelf
   meson
@@ -34,13 +33,13 @@
 options=(
   debug
 )
-_commit=00edb7f7453a43cff343f9e99d49f2e421e4345c  # tags/2.78.4^0
+_commit=763cc3b238398614c20069fd67642730e3a6519b  # tags/2.80.0^0
 source=(
   "git+https://gitlab.gnome.org/GNOME/glib.git#commit=$_commit"
   "git+https://gitlab.gnome.org/GNOME/gvdb.git"
   gio-querymodules-32.hook
 )
-b2sums=('SKIP'
+b2sums=('cc3a6a7a14fef1aabc08d3bdfe98f66e3ecf3591ac054d83aa9404c8c9cd72e690a4c26c16934700d067bb2cb3d58730387482032cd9ffa04b041869426165ba'
         'SKIP'
         '678ea2d010fd64b6c55106510096363c54c357d65615c666e9cc3a0e280c0878257a45e646dd88f6bdd0623f7268c4afd2d4f98f82a5489bbfc028c5864252f1')
 
@@ -61,19 +60,20 @@
   local meson_options=(
     --cross-file lib32
     -D glib_debug=disabled
-    -D gtk_doc=false
-    -D man=false
+    -D documentation=false
+    -D introspection=disabled
+    -D man-pages=disabled
     -D selinux=disabled
     -D sysprof=disabled
   )
 
+  CFLAGS+=" -g3"
+  CXXFLAGS+=" -g3"
+
   CFLAGS+=" -mstackrealign"
   CXXFLAGS+=" -mstackrealign"
 
-  CFLAGS+=" -g3"
-  CXXFLAGS+=" -g3"
-
-  arch-meson glib build "${meson_options[@]}"
+  artix-meson glib build "${meson_options[@]}"
   meson compile -C build
 }
 
@@ -86,7 +86,7 @@
     libffi.so
     libmount.so
   )
-  provides+=(libg{lib,io,module,object,thread}-2.0.so)
+  provides+=(libg{lib,io,irepository,module,object,thread}-2.0.so)
 
   meson install -C build --destdir "$pkgdir"
 


############# Stripped diff below #################

--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -22,16 +22,17 @@
 local meson_options=(
 --cross-file lib32
 -D glib_debug=disabled
--D gtk_doc=false
--D man=false
+-D documentation=false
+-D introspection=disabled
+-D man-pages=disabled
 -D selinux=disabled
 -D sysprof=disabled
 )
+CFLAGS+=" -g3"
+CXXFLAGS+=" -g3"
 CFLAGS+=" -mstackrealign"
 CXXFLAGS+=" -mstackrealign"
-CFLAGS+=" -g3"
-CXXFLAGS+=" -g3"
-arch-meson glib build "${meson_options[@]}"
+artix-meson glib build "${meson_options[@]}"
 meson compile -C build
 }
 package_lib32-glib2() {
@@ -39,7 +40,7 @@
 libffi.so
 libmount.so
 )
-provides+=(libg{lib,io,module,object,thread}-2.0.so)
+provides+=(libg{lib,io,irepository,module,object,thread}-2.0.so)
 meson install -C build --destdir "$pkgdir"
 rm -r "$pkgdir"/usr/{lib,share,include}
 find "$pkgdir/usr/bin" -type f -not -name gio-querymodules -printf 'Removing %P\n' -delete
