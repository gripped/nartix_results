--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -2,14 +2,12 @@
 _name=elfutils
 pkgname=lib32-libelf
 pkgver=0.193
-pkgrel=4
-pkgdesc="Handle ELF object files and DWARF debugging information (libraries, 32-bit)"
+pkgrel=1
+pkgdesc="Handle ELF object files and DWARF debugging information (libraries) (32-bit)"
 arch=(x86_64)
-url="https://sourceware.org/elfutils/"
-_url=https://sourceware.org/git/elfutils.git
+url="https://sourceware.org/elfutils"
 license=('GPL-2.0-or-later OR LGPL-3.0-or-later')
 depends=(
-  "libelf=$pkgver"
   lib32-bzip2
   lib32-curl
   lib32-glibc
@@ -17,61 +15,63 @@
   lib32-xz
   lib32-zlib
   lib32-zstd
+  libelf=$pkgver
 )
 makedepends=(
-  git
   lib32-libarchive
   lib32-gcc-libs
 )
-source=(git+$_url?signed#tag=$_name-$pkgver)
-sha512sums=('44e60727d96c9eb969b0056cb5eb0dff91b2763f8e835404ab4485914b346f93f56756a6f5ea3af706ff15c4052eae77c5ea6544bcd0cf78b3dc9b2dd33bb884')
-b2sums=('7f8386a37452d46c40b7428d841c43afedf24055390ddd8881410cd96928ccfc979628a1d8dbd7e9a0dd3098cc1d826f238f33c995902fc22e175899ea7d8086')
+options=(staticlibs)
+source=($url/ftp/$pkgver/$_name-$pkgver.tar.bz2{,.sig})
+sha512sums=('557e328e3de0d2a69d09c15a9333f705f3233584e2c6a7d3ce855d06a12dc129e69168d6be64082803630397bd64e1660a8b5324d4f162d17922e10ddb367d76'
+            'SKIP')
+b2sums=('3ddda695e92c76d0f98432b65d51737bdebf9cad536e0a583d10beb4693d98ce6e47716ff143d82dd3488e59489b03170bd292cb165d44bfb8581ff67dd2b1b9'
+        'SKIP')
 validpgpkeys=(
   'EC3CFE88F6CA0788774F5C1D1AA44BE649DE760A'  # Mark Wielaard <mjw@gnu.org>
   '6C2B631563B8D330578D3CB474FD3FA2779E7073'  # Aaron Merey <amerey@redhat.com>
 )
 
 prepare() {
-  cd $_name
+  sed -e 's/run-backtrace-native.sh//g' -i $_name-$pkgver/tests/Makefile.am
 
-  sed -e 's/run-backtrace-native.sh//g' -i tests/Makefile.am
-
+  cd $_name-$pkgver
   autoreconf -fiv
 }
 
 build() {
   local configure_options=(
     --build=i686-pc-linux-gnu
-    --prefix=/usr
-    --sysconfdir=/etc
-    --libdir=/usr/lib32
-    --program-prefix="eu-"
-    --program-suffix="-32"
-    --enable-deterministic-archives
-    --enable-maintainer-mode
     --disable-debuginfod
     --disable-static
+    --libdir=/usr/lib32
+    --libexecdir=/usr/lib32
+    --prefix=/usr
+    --program-suffix="-32"
+    --sysconfdir=/etc
   )
 
   export CC="gcc -m32"
   export CXX="g++ -m32"
   export LDFLAGS+=" -m32"
   export PKG_CONFIG=i686-pc-linux-gnu-pkg-config
-
+  CFLAGS+=" -ffat-lto-objects"
   CFLAGS+=" -g"
 
-  cd $_name
+  cd $_name-$pkgver
   ./configure "${configure_options[@]}"
   make
 }
 
 check() {
-  LD_LIBRARY_PATH="$PWD/$_name/libelf" make -C $_name check
+  make LD_LIBRARY_PATH=$srcdir/$_name-$pkgver/libelf check -C $_name-$pkgver
 }
 
 package() {
-  make DESTDIR="$pkgdir" install -C $_name
-
+  make DESTDIR="$pkgdir" install -C $_name-$pkgver/debuginfod
+  make DESTDIR="$pkgdir" install -C $_name-$pkgver/libasm
+  make DESTDIR="$pkgdir" install -C $_name-$pkgver/libdw
+  make DESTDIR="$pkgdir" install -C $_name-$pkgver/libelf
+  make DESTDIR="$pkgdir" install -C $_name-$pkgver/config
   rm -rf "$pkgdir/"{etc,usr/{bin,include,share}}
 }
-


############# Stripped diff below #################

--- arch_depends
+++ artix_depends
@@ -1,4 +1,3 @@
-git
 lib32-bzip2
 lib32-curl
 lib32-gcc-libs

--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,27 +1,26 @@
 prepare() {
-cd $_name
-sed -e 's/run-backtrace-native.sh//g' -i tests/Makefile.am
+sed -e 's/run-backtrace-native.sh//g' -i $_name-$pkgver/tests/Makefile.am
+cd $_name-$pkgver
 autoreconf -fiv
 }
 build() {
 local configure_options=(
 --build=i686-pc-linux-gnu
---prefix=/usr
---sysconfdir=/etc
---libdir=/usr/lib32
---program-prefix="eu-"
---program-suffix="-32"
---enable-deterministic-archives
---enable-maintainer-mode
 --disable-debuginfod
 --disable-static
+--libdir=/usr/lib32
+--libexecdir=/usr/lib32
+--prefix=/usr
+--program-suffix="-32"
+--sysconfdir=/etc
 )
 export CC="gcc -m32"
 export CXX="g++ -m32"
 export LDFLAGS+=" -m32"
 export PKG_CONFIG=i686-pc-linux-gnu-pkg-config
+CFLAGS+=" -ffat-lto-objects"
 CFLAGS+=" -g"
-cd $_name
+cd $_name-$pkgver
 ./configure "${configure_options[@]}"
 make
 }
