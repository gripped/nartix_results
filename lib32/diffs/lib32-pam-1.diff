--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,30 +1,30 @@
 
 pkgname=lib32-pam
-pkgver=1.7.0
+pkgver=1.6.1
 pkgrel=1
 pkgdesc='Pluggable Authentication Modules'
 arch=(x86_64)
 url=http://linux-pam.org
 license=(GPL2)
 depends=(
-  lib32-audit
-  lib32-libnsl
   lib32-libtirpc
   lib32-libxcrypt
-  lib32-systemd
+  lib32-libnsl
+  libelogind
   pam
 )
 makedepends=(
-  fop
+  docbook-xml
+  docbook-xsl
   git
   lib32-flex
-  meson
   w3m
+  elogind
 )
 _tag=v$pkgver
-source=(git+https://github.com/linux-pam/linux-pam.git?signed#tag=${_tag})
+source=(git+https://github.com/linux-pam/linux-pam.git?#tag=${_tag})
 validpgpkeys=(296D6F29A020808E8717A8842DB5BD89A340AEB7) # Dimitry V. Levin <ldv@altlinux.org>
-b2sums=('88ecba59692fe86f6f6516007b87fb897018cc5f818c106a037f15df4dda7c31e50fbfcb137493d49cb754e41f2f69a60f24ffea3374ff5e38ce6263bfa7abac')
+b2sums=('SKIP')
 options=(!emptydirs)
 
 pkgver() {
@@ -33,24 +33,30 @@
   git describe --tags | sed 's/^v//'
 }
 
+prepare() {
+  cd linux-pam
+  ./autogen.sh
+}
+
 build() {
+  cd linux-pam
+
   export CC='gcc -m32'
   export CXX='g++ -m32'
   export PKG_CONFIG_PATH='/usr/lib32/pkgconfig'
 
-  arch-meson linux-pam \
-    --libdir=lib32 \
-    -Dlogind=enabled \
-    -Ddocs=disabled \
-    -Deconf=disabled \
-    -Dselinux=disabled \
-    -Dpam_userdb=disabled \
-    build
-  meson compile -C build
+  ./configure \
+    --prefix=/usr \
+    --libdir=/usr/lib32 \
+    --sbindir=/usr/bin \
+    --enable-logind=elogind \
+    --disable-db \
+    --disable-doc
+  make
 }
 
 package() {
-  meson install -C build --destdir "${pkgdir}"
+  make DESTDIR="${pkgdir}" SCONFIGDIR=/etc/security -C linux-pam install
   rm -rf "${pkgdir}"/{etc,usr/{bin,include,lib,share}}
 }
 


############# Stripped diff below #################

--- arch_depends
+++ artix_depends
@@ -1,11 +1,11 @@
-fop
+docbook-xml
+docbook-xsl
+elogind
 git
-lib32-audit
 lib32-flex
 lib32-libnsl
 lib32-libtirpc
 lib32-libxcrypt
-lib32-systemd
-meson
+libelogind
 pam
 w3m