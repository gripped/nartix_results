--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,23 +1,28 @@
 
 pkgname=lib32-xz
-pkgver=5.6.0
-pkgrel=1
+pkgver=5.6.1
+pkgrel=2
 pkgdesc='Library and command line tools for XZ and LZMA compressed files (32-bit)'
 arch=('x86_64')
 url='https://xz.tukaani.org/xz-utils/'
 license=('GPL' 'LGPL' 'custom')
 depends=('lib32-glibc' 'xz')
+makedepends=('git' 'po4a' 'doxygen')
 provides=('liblzma.so')
 validpgpkeys=('3690C240CE51B4670D30AD1C38EE757D69184620'  # Lasse Collin <lasse.collin@tukaani.org>
               '22D465F2B4C173803B20C6DE59FCF207FEA7F445') # Jia Tan <jiat0218@gmail.com>
-source=("https://github.com/tukaani-project/xz/releases/download/v${pkgver}/xz-${pkgver}.tar.gz"{,.sig})
-sha256sums=('0f5c81f14171b74fcc9777d302304d964e63ffc2d7b634ef023a7249d9b5d875'
-            'SKIP')
-sha512sums=('1ef3cd3607818314e55b28c20263a9088d4b6e5362a45fbd37c17e799e26b4a7579928b99925ffe71e7804b0db2f65936f66a825bac9b23b7b0664f902925de8'
-            'SKIP')
+source=("git+https://github.com/tukaani-project/xz#tag=v${pkgver}")
+sha256sums=('e10fa4254d5ff033c78dcbfd2866e79a762b8a719503a7c146758e590de945dc')
+sha512sums=('8f4ee2e5c9b46d0917d8bdf8b172a70d02a6cf2d4d78a2e99ae942e32979b72b407809ffda2885af41e2c9d801c19eab5e4fd73888fbaf042346be957df406fc')
+
+prepare() {
+  cd xz
+
+  ./autogen.sh
+}
 
 build() {
-  cd "${srcdir}/xz-${pkgver}"
+  cd xz
 
   export CC='gcc -m32'
   export PKG_CONFIG='i686-pc-linux-gnu-pkg-config'
@@ -31,13 +36,13 @@
 }
 
 check() {
-  cd "${srcdir}/xz-${pkgver}"
+  cd xz
 
   make check
 }
 
 package() {
-  cd "${srcdir}/xz-${pkgver}"
+  cd xz
 
   make DESTDIR="${pkgdir}" install
 


############# Stripped diff below #################

--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,8 +1,12 @@
 pkgname=lib32-xz
 depends=('lib32-glibc' 'xz')
 provides=('liblzma.so')
+prepare() {
+cd xz
+./autogen.sh
+}
 build() {
-cd "${srcdir}/xz-${pkgver}"
+cd xz
 export CC='gcc -m32'
 export PKG_CONFIG='i686-pc-linux-gnu-pkg-config'
 ./configure \
