--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -1,11 +1,12 @@
 
-_name=libcap
 pkgname=lib32-libcap
-pkgver=2.70
-pkgrel=1
+_name=${pkgname#lib32-}
+pkgver=2.71
+pkgrel=1.1
 pkgdesc="POSIX 1003.1e capabilities (32-bit)"
 arch=(x86_64)
 url="https://sites.google.com/site/fullycapable/"
+_url=https://git.kernel.org/pub/scm/libs/libcap/libcap.git
 license=('BSD-3-Clause OR GPL-2.0-only')
 depends=(
   lib32-gcc-libs
@@ -13,18 +14,20 @@
   lib32-pam
 )
 makedepends=(
+  git
   linux-api-headers
 )
 provides=(
   libcap.so
   libpsx.so
 )
-source=(https://kernel.org/pub/linux/libs/security/linux-privs/${_name}2/$_name-$pkgver.tar.{xz,sign})
-sha512sums=('4e0bf0efeccb654c409afe9727b2b53c1d4da8190d7a0a9848fc52550ff3e13502add3eacde04a68a5b7bec09e91df487f64c5746ba987f873236a9e53b3d4e8'
-            'SKIP')
-b2sums=('77b72acee53032117ea481e3380d1b497f9264b6193b9523542508c7c3e46070248ca4ed910d35809ce6e52caa60cbb31edb125c47221627eeda35c61bd0914b'
-        'SKIP')
-validpgpkeys=(38A644698C69787344E954CE29EE848AE2CCF3F4) # Andrew G. Morgan <morgan@kernel.org>
+source=(git+$_url?signed#tag=sig-$_name-$pkgver)
+sha512sums=('63ce3d8625e989070604c10c90696a732347b4335017693925592f3cdba17d098d44dec704a8bf0dc32bcf51502b922d4c4f765552ee1d4a6a1d94dd759a5fc0')
+b2sums=('f1f86559c673d89ce4bc13fdb90e1051e3bf8562571f686845e46b513d804680e00db738736d4d5d118e828c6e98144f40ff19d1d9bec003a946cd6f63a97d8d')
+validpgpkeys=(
+  38A644698C69787344E954CE29EE848AE2CCF3F4  # Andrew G. Morgan <morgan@kernel.org>
+  0D23D34C577B08C4082CFD76430C5CFF993116B1  # Andrew G. Morgan (2024+ libcap signing key) <morgan@kernel.org>
+)
 
 build() {
   local make_options=(
@@ -34,14 +37,14 @@
     lib=lib32
     prefix=/usr
     sbindir=bin
-    -C $_name-$pkgver
+    -C $_name
   )
 
   make "${make_options[@]}"
 }
 
 check() {
-  make test CC="gcc -m32" -k -C $_name-$pkgver
+  make test CC="gcc -m32" -k -C $_name
 }
 
 package() {
@@ -52,15 +55,15 @@
     prefix=/usr
     sbindir=bin
     install
-    -C $_name-$pkgver
+    -C $_name
   )
 
   depends+=(
-    libcap=$pkgver
+    $_name=$pkgver
   )
 
   make "${make_options[@]}"
-  install -vDm 644 $_name-$pkgver/{CHANGELOG,README} -t "$pkgdir/usr/share/doc/$pkgname/"
-  install -vDm 644 $_name-$pkgver/License -t "$pkgdir/usr/share/licenses/$pkgname/"
+  install -vDm 644 $_name/{CHANGELOG,README} -t "$pkgdir/usr/share/doc/$pkgname/"
+  install -vDm 644 $_name/License -t "$pkgdir/usr/share/licenses/$pkgname/"
   rm -rv "$pkgdir/usr/"{include,share/man,bin}
 }


############# Stripped diff below #################

--- arch_depends
+++ artix_depends
@@ -1,3 +1,4 @@
+git
 lib32-gcc-libs
 lib32-glibc
 lib32-pam

--- Arch PKGBUILD
+++ Artix PKGBUILD
@@ -6,7 +6,7 @@
 lib=lib32
 prefix=/usr
 sbindir=bin
--C $_name-$pkgver
+-C $_name
 )
 make "${make_options[@]}"
 }
